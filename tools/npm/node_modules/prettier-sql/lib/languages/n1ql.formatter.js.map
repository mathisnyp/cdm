{"version":3,"sources":["../../src/languages/n1ql.formatter.ts"],"names":["reservedFunctions","reservedKeywords","reservedCommands","reservedBinaryCommands","reservedDependentClauses","N1qlFormatter","Tokenizer","reservedLogicalOperators","stringTypes","blockStart","blockEnd","namedPlaceholderTypes","lineCommentTypes","operators","Formatter"],"mappings":"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","sourcesContent":["import Formatter from '../core/Formatter';\nimport Tokenizer from '../core/Tokenizer';\nimport type { StringPatternType } from '../core/regexFactory';\nimport { dedupe } from '../utils';\n\n// TODO: split this into object with function categories\n/**\n * Priority 5 (last)\n * Full list of reserved functions\n * distinct from Keywords due to interaction with parentheses\n */\n// https://docs.couchbase.com/server/current/n1ql/n1ql-language-reference/functions.html\nconst reservedFunctions = [\n\t'ABORT',\n\t'ABS',\n\t'ACOS',\n\t'ADVISOR',\n\t'ARRAY_AGG',\n\t'ARRAY_AGG',\n\t'ARRAY_APPEND',\n\t'ARRAY_AVG',\n\t'ARRAY_BINARY_SEARCH',\n\t'ARRAY_CONCAT',\n\t'ARRAY_CONTAINS',\n\t'ARRAY_COUNT',\n\t'ARRAY_DISTINCT',\n\t'ARRAY_EXCEPT',\n\t'ARRAY_FLATTEN',\n\t'ARRAY_IFNULL',\n\t'ARRAY_INSERT',\n\t'ARRAY_INTERSECT',\n\t'ARRAY_LENGTH',\n\t'ARRAY_MAX',\n\t'ARRAY_MIN',\n\t'ARRAY_MOVE',\n\t'ARRAY_POSITION',\n\t'ARRAY_PREPEND',\n\t'ARRAY_PUT',\n\t'ARRAY_RANGE',\n\t'ARRAY_REMOVE',\n\t'ARRAY_REPEAT',\n\t'ARRAY_REPLACE',\n\t'ARRAY_REVERSE',\n\t'ARRAY_SORT',\n\t'ARRAY_STAR',\n\t'ARRAY_SUM',\n\t'ARRAY_SYMDIFF',\n\t'ARRAY_SYMDIFF1',\n\t'ARRAY_SYMDIFFN',\n\t'ARRAY_UNION',\n\t'ASIN',\n\t'ATAN',\n\t'ATAN2',\n\t'AVG',\n\t'BASE64',\n\t'BASE64_DECODE',\n\t'BASE64_ENCODE',\n\t'BITAND ',\n\t'BITCLEAR ',\n\t'BITNOT ',\n\t'BITOR ',\n\t'BITSET ',\n\t'BITSHIFT ',\n\t'BITTEST ',\n\t'BITXOR ',\n\t'CEIL',\n\t'CLOCK_LOCAL',\n\t'CLOCK_MILLIS',\n\t'CLOCK_STR',\n\t'CLOCK_TZ',\n\t'CLOCK_UTC',\n\t'COALESCE',\n\t'CONCAT',\n\t'CONCAT2',\n\t'CONTAINS',\n\t'CONTAINS_TOKEN',\n\t'CONTAINS_TOKEN_LIKE',\n\t'CONTAINS_TOKEN_REGEXP',\n\t'COS',\n\t'COUNT',\n\t'COUNT',\n\t'COUNTN',\n\t'CUME_DIST',\n\t'CURL',\n\t'DATE_ADD_MILLIS',\n\t'DATE_ADD_STR',\n\t'DATE_DIFF_MILLIS',\n\t'DATE_DIFF_STR',\n\t'DATE_FORMAT_STR',\n\t'DATE_PART_MILLIS',\n\t'DATE_PART_STR',\n\t'DATE_RANGE_MILLIS',\n\t'DATE_RANGE_STR',\n\t'DATE_TRUNC_MILLIS',\n\t'DATE_TRUNC_STR',\n\t'DECODE',\n\t'DECODE_JSON',\n\t'DEGREES',\n\t'DENSE_RANK',\n\t'DURATION_TO_STR',\n\t// 'E',\n\t'ENCODED_SIZE',\n\t'ENCODE_JSON',\n\t'EXP',\n\t'FIRST_VALUE',\n\t'FLOOR',\n\t'GREATEST',\n\t'HAS_TOKEN',\n\t'IFINF',\n\t'IFMISSING',\n\t'IFMISSINGORNULL',\n\t'IFNAN',\n\t'IFNANORINF',\n\t'IFNULL',\n\t'INITCAP',\n\t'ISARRAY',\n\t'ISATOM',\n\t'ISBITSET',\n\t'ISBOOLEAN',\n\t'ISNUMBER',\n\t'ISOBJECT',\n\t'ISSTRING',\n\t'LAG',\n\t'LAST_VALUE',\n\t'LEAD',\n\t'LEAST',\n\t'LENGTH',\n\t'LN',\n\t'LOG',\n\t'LOWER',\n\t'LTRIM',\n\t'MAX',\n\t'MEAN',\n\t'MEDIAN',\n\t'META',\n\t'MILLIS',\n\t'MILLIS_TO_LOCAL',\n\t'MILLIS_TO_STR',\n\t'MILLIS_TO_TZ',\n\t'MILLIS_TO_UTC',\n\t'MILLIS_TO_ZONE_NAME',\n\t'MIN',\n\t'MISSINGIF',\n\t'NANIF',\n\t'NEGINFIF',\n\t'NOW_LOCAL',\n\t'NOW_MILLIS',\n\t'NOW_STR',\n\t'NOW_TZ',\n\t'NOW_UTC',\n\t'NTH_VALUE',\n\t'NTILE',\n\t'NULLIF',\n\t'NVL',\n\t'NVL2',\n\t'OBJECT_ADD',\n\t'OBJECT_CONCAT',\n\t'OBJECT_INNER_PAIRS',\n\t'OBJECT_INNER_VALUES',\n\t'OBJECT_LENGTH',\n\t'OBJECT_NAMES',\n\t'OBJECT_PAIRS',\n\t'OBJECT_PUT',\n\t'OBJECT_REMOVE',\n\t'OBJECT_RENAME',\n\t'OBJECT_REPLACE',\n\t'OBJECT_UNWRAP',\n\t'OBJECT_VALUES',\n\t'PAIRS',\n\t'PERCENT_RANK',\n\t'PI',\n\t'POLY_LENGTH',\n\t'POSINFIF',\n\t'POSITION',\n\t'POWER',\n\t'RADIANS',\n\t'RANDOM',\n\t'RANK',\n\t'RATIO_TO_REPORT',\n\t'REGEXP_CONTAINS',\n\t'REGEXP_LIKE',\n\t'REGEXP_MATCHES',\n\t'REGEXP_POSITION',\n\t'REGEXP_REPLACE',\n\t'REGEXP_SPLIT',\n\t'REGEX_CONTAINS',\n\t'REGEX_LIKE',\n\t'REGEX_MATCHES',\n\t'REGEX_POSITION',\n\t'REGEX_REPLACE',\n\t'REGEX_SPLIT',\n\t'REPEAT',\n\t'REPLACE',\n\t'REVERSE',\n\t'ROUND',\n\t'ROW_NUMBER',\n\t'RTRIM',\n\t'SEARCH',\n\t'SEARCH_META',\n\t'SEARCH_SCORE',\n\t'SIGN',\n\t'SIN',\n\t'SPLIT',\n\t'SQRT',\n\t'STDDEV',\n\t'STDDEV_POP',\n\t'STDDEV_SAMP',\n\t'STR_TO_DURATION',\n\t'STR_TO_MILLIS',\n\t'STR_TO_TZ',\n\t'STR_TO_UTC',\n\t'STR_TO_ZONE_NAME',\n\t'SUBSTR',\n\t'SUFFIXES',\n\t'SUM',\n\t'TAN',\n\t'TITLE',\n\t'TOARRAY',\n\t'TOATOM',\n\t'TOBOOLEAN',\n\t'TOKENS',\n\t'TOKENS',\n\t'TONUMBER',\n\t'TOOBJECT',\n\t'TOSTRING',\n\t'TRIM',\n\t'TRUNC',\n\t// 'TYPE', // disabled\n\t'UPPER',\n\t'UUID',\n\t'VARIANCE',\n\t'VARIANCE_POP',\n\t'VARIANCE_SAMP',\n\t'VAR_POP',\n\t'VAR_SAMP',\n\t'WEEKDAY_MILLIS',\n\t'WEEKDAY_STR',\n];\n\n/**\n * Priority 5 (last)\n * Full list of reserved words\n * any words that are in a higher priority are removed\n */\n// https://docs.couchbase.com/server/current/n1ql/n1ql-language-reference/reservedwords.html\nconst reservedKeywords = [\n\t'ALL',\n\t'ALTER',\n\t'ANALYZE',\n\t'ANY',\n\t'ARRAY',\n\t'AS',\n\t'ASC',\n\t'AT',\n\t'BEGIN',\n\t'BETWEEN',\n\t'BINARY',\n\t'BOOLEAN',\n\t'BREAK',\n\t'BUCKET',\n\t'BUILD',\n\t'BY',\n\t'CALL',\n\t'CAST',\n\t'CHAR', // verify\n\t'CLUSTER',\n\t'COLLATE',\n\t'COLLECTION',\n\t'COMMIT',\n\t'COMMITTED',\n\t'CONNECT',\n\t'CONTINUE',\n\t'CORRELATE',\n\t'CORRELATED',\n\t'COVER',\n\t'CREATE',\n\t'CURRENT',\n\t'DATABASE',\n\t'DATASET',\n\t'DATASTORE',\n\t'DECLARE',\n\t'DECREMENT',\n\t'DERIVED',\n\t'DESC',\n\t'DESCRIBE',\n\t'DISTINCT',\n\t'DO',\n\t'DROP',\n\t'EACH',\n\t'ELEMENT',\n\t'EVERY',\n\t'EXCLUDE',\n\t'EXISTS',\n\t'FALSE',\n\t'FETCH',\n\t'FILTER',\n\t'FIRST',\n\t'FLATTEN',\n\t'FLUSH',\n\t'FOLLOWING',\n\t'FOR',\n\t'FORCE',\n\t'FTS',\n\t'FUNCTION',\n\t'GOLANG',\n\t'GROUP',\n\t'GROUPS',\n\t'GSI',\n\t'HASH',\n\t'IF',\n\t'IGNORE',\n\t'ILIKE',\n\t'IN',\n\t'INCLUDE',\n\t'INCREMENT',\n\t'INDEX',\n\t'INLINE',\n\t'INNER',\n\t'INTO',\n\t'IS',\n\t'ISOLATION',\n\t'JAVASCRIPT',\n\t'KEY',\n\t'KEYS',\n\t'KEYSPACE',\n\t'KNOWN',\n\t'LANGUAGE',\n\t'LAST',\n\t'LEFT',\n\t'LETTING',\n\t'LEVEL',\n\t'LIKE',\n\t'LSM',\n\t'MAP',\n\t'MAPPING',\n\t'MATCHED',\n\t'MATERIALIZED',\n\t'MISSING',\n\t'NAMESPACE',\n\t'NL',\n\t'NO',\n\t'NOT',\n\t'NULL',\n\t'NULLS',\n\t'NUMBER',\n\t'OBJECT',\n\t'OFFSET',\n\t'OPTION',\n\t'OPTIONS',\n\t'ORDER',\n\t'OTHERS',\n\t'OUTER',\n\t'OVER',\n\t'PARSE',\n\t'PARTITION',\n\t'PASSWORD',\n\t'PATH',\n\t'POOL',\n\t'PRECEDING',\n\t'PRIMARY',\n\t'PRIVATE',\n\t'PRIVILEGE',\n\t'PROBE',\n\t'PROCEDURE',\n\t'PUBLIC',\n\t'RANGE',\n\t'RAW',\n\t'REALM',\n\t'REDUCE',\n\t'RENAME',\n\t'RESPECT',\n\t'RETURN',\n\t'RETURNING',\n\t'RIGHT',\n\t'ROLE',\n\t'ROLLBACK',\n\t'ROW',\n\t'ROWS',\n\t'SATISFIES',\n\t'SCHEMA',\n\t'SCOPE',\n\t'SELF',\n\t'SEMI',\n\t'SOME',\n\t'START',\n\t'STATISTICS',\n\t'STRING',\n\t'SYSTEM',\n\t'TIES',\n\t'TO',\n\t'TRAN',\n\t'TRANSACTION',\n\t'TRIGGER',\n\t'TRUE',\n\t'TRUNCATE',\n\t'UNBOUNDED',\n\t'UNDER',\n\t'UNIQUE',\n\t'UNKNOWN',\n\t'UNSET',\n\t'USE',\n\t'USER',\n\t'USING',\n\t'VALIDATE',\n\t'VALUE',\n\t'VALUED',\n\t'VIA',\n\t'VIEW',\n\t'WHILE',\n\t'WINDOW',\n\t'WITHIN',\n\t'WORK',\n];\n\n/**\n * Priority 1 (first)\n * keywords that begin a new statement\n * will begin new indented block\n */\n// https://docs.couchbase.com/server/current/n1ql/n1ql-language-reference/reservedwords.html\nconst reservedCommands = [\n\t'ADVISE',\n\t'ALTER INDEX',\n\t'BEGIN TRANSACTION',\n\t'BUILD INDEX',\n\t'COMMIT TRANSACTION',\n\t'CREATE COLLECTION',\n\t'CREATE FUNCTION',\n\t'CREATE INDEX',\n\t'CREATE PRIMARY INDEX',\n\t'CREATE SCOPE',\n\t'CREATE TABLE', // verify\n\t'DELETE',\n\t'DROP COLLECTION',\n\t'DROP FUNCTION',\n\t'DROP INDEX',\n\t'DROP PRIMARY INDEX',\n\t'DROP SCOPE',\n\t'EXECUTE',\n\t'EXECUTE FUNCTION',\n\t'EXPLAIN',\n\t'GRANT',\n\t'INFER',\n\t'INSERT',\n\t'MERGE',\n\t'PREPARE',\n\t'REVOKE',\n\t'ROLLBACK TRANSACTION',\n\t'SAVEPOINT',\n\t'SELECT',\n\t'SET TRANSACTION',\n\t'UPDATE',\n\t'UPDATE STATISTICS',\n\t'UPSERT',\n\t// other\n\t'DROP TABLE', // verify,\n\t'FROM',\n\t'GROUP BY',\n\t'HAVING',\n\t'INSERT INTO',\n\t'LET',\n\t'LIMIT',\n\t'OFFSET',\n\t'NEST',\n\t'ORDER BY',\n\t'SET CURRENT SCHEMA',\n\t'SET SCHEMA',\n\t'SET',\n\t'SHOW',\n\t'UNNEST',\n\t'USE KEYS',\n\t'VALUES',\n\t'WHERE',\n\t'WITH',\n];\n\n/**\n * Priority 2\n * commands that operate on two tables or subqueries\n * two main categories: joins and boolean set operators\n */\nconst reservedBinaryCommands = [\n\t// set booleans\n\t'INTERSECT',\n\t'INTERSECT ALL',\n\t'INTERSECT DISTINCT',\n\t'UNION',\n\t'UNION ALL',\n\t'UNION DISTINCT',\n\t'EXCEPT',\n\t'EXCEPT ALL',\n\t'EXCEPT DISTINCT',\n\t'MINUS',\n\t'MINUS ALL',\n\t'MINUS DISTINCT',\n\t// joins\n\t'JOIN',\n\t'INNER JOIN',\n\t'LEFT JOIN',\n\t'LEFT OUTER JOIN',\n\t'RIGHT JOIN',\n\t'RIGHT OUTER JOIN',\n];\n\n/**\n * Priority 3\n * keywords that follow a previous Statement, must be attached to subsequent data\n * can be fully inline or on newline with optional indent\n */\nconst reservedDependentClauses = ['ON', 'WHEN', 'THEN', 'ELSE'];\n\n// For reference: http://docs.couchbase.com.s3-website-us-west-1.amazonaws.com/server/6.0/n1ql/n1ql-language-reference/index.html\nexport default class N1qlFormatter extends Formatter {\n\tstatic reservedCommands = reservedCommands;\n\tstatic reservedBinaryCommands = reservedBinaryCommands;\n\tstatic reservedDependentClauses = reservedDependentClauses;\n\tstatic reservedLogicalOperators = ['AND', 'OR', 'XOR'];\n\tstatic reservedKeywords = dedupe([...reservedKeywords, ...reservedFunctions]);\n\tstatic stringTypes: StringPatternType[] = [`\"\"`, \"''\", '``'];\n\tstatic blockStart = ['(', '[', '{', 'CASE'];\n\tstatic blockEnd = [')', ']', '}', 'END'];\n\tstatic namedPlaceholderTypes = ['$'];\n\tstatic lineCommentTypes = ['#', '--'];\n\tstatic operators = ['=='];\n\n\ttokenizer() {\n\t\treturn new Tokenizer({\n\t\t\treservedCommands: N1qlFormatter.reservedCommands,\n\t\t\treservedBinaryCommands: N1qlFormatter.reservedBinaryCommands,\n\t\t\treservedDependentClauses: N1qlFormatter.reservedDependentClauses,\n\t\t\treservedLogicalOperators: N1qlFormatter.reservedLogicalOperators,\n\t\t\treservedKeywords: N1qlFormatter.reservedKeywords,\n\t\t\tstringTypes: N1qlFormatter.stringTypes,\n\t\t\tblockStart: N1qlFormatter.blockStart,\n\t\t\tblockEnd: N1qlFormatter.blockEnd,\n\t\t\tnamedPlaceholderTypes: N1qlFormatter.namedPlaceholderTypes,\n\t\t\tlineCommentTypes: N1qlFormatter.lineCommentTypes,\n\t\t\toperators: N1qlFormatter.operators,\n\t\t});\n\t}\n}\n"],"file":"n1ql.formatter.js"}