{"version":3,"file":"prettier-sql.min.js","mappings":"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CA,uBACA,QACA,SACA,OAEA,SAEA,eAyCO,EAAAC,uBAjCuB,CAE9B,YACA,gBACA,qBACA,QACA,YACA,iBACA,SACA,aACA,kBAEA,OACA,aACA,YACA,kBACA,aACA,mBACA,YACA,kBACA,cAcO,EAAAH,yBANyB,CAAC,KAAM,OAAQ,OAAQ,OAAQ,SAOxD,EAAAC,yBAA2B,CAAC,MAAO,MACnC,EAAAyB,kBAAoBtR,EAAO,GAAD,SAC7BZ,OAAO6P,OAhzBc,CAEzBwC,KAAM,CACL,kBACA,8BACA,qBACA,sBACA,eACA,oBACA,wBACA,sBACA,qBACA,sBAGDC,kBAAmB,CAClB,YACA,YACA,MACA,OACA,QACA,UACA,YACA,aACA,MACA,MACA,mBACA,aACA,cACA,aACA,MACA,UACA,YAGDC,UAAW,CACV,YACA,YACA,mBACA,MACA,UACA,SACA,UACA,QACA,UACA,cACA,aACA,MACA,MACA,aACA,OAGDC,qBAAsB,CACrB,wBACA,mBACA,mBACA,kBAGDC,MAAO,CACN,QACA,eACA,eACA,kBACA,iBACA,sBACA,2BACA,gBACA,SACA,cACA,UACA,gBAGDC,QAAS,CAAC,aAEVC,WAAY,CAAC,OAAQ,mBAAoB,gBAAiB,aAE1DC,KAAM,CACL,eACA,UACA,OACA,WACA,WACA,YACA,aACA,sBACA,cACA,WACA,aACA,aAGDC,SAAU,CACT,mBACA,WACA,UACA,eACA,eACA,gBACA,iBACA,kBACA,WACA,kBAGDC,UAAW,CAAC,SAEZC,eAAgB,CAAC,kBAEjBC,UAAW,CACV,qBACA,qBACA,WACA,UACA,cACA,eACA,YACA,aACA,cACA,iBACA,YACA,yBACA,cACA,kBACA,kBACA,mBACA,cACA,gBACA,eACA,YACA,gBACA,eACA,cACA,cACA,UACA,aACA,cACA,YACA,YACA,kBACA,cACA,qBACA,kBACA,iBACA,eACA,0BACA,aACA,kBACA,mBACA,kBACA,gBACA,mBACA,kBACA,aACA,YACA,cACA,iBACA,yBACA,iBACA,aACA,mBACA,eACA,eACA,YACA,cACA,gBACA,gBACA,aACA,WACA,eACA,YACA,OACA,QAGDC,KAAM,CAAC,mBAAoB,MAAO,OAAQ,SAAU,UAEpDC,IAAK,CAAC,iBAAkB,kBAAmB,0BAA2B,qBAEtEC,SAAU,CAAC,gBAAiB,UAAW,eAAgB,gBAAiB,oBAExEC,KAAM,CACL,eACA,aACA,sBACA,aACA,qBACA,mBACA,4BACA,mBACA,kBAGDC,KAAM,CACL,MACA,OACA,SACA,SACA,cACA,OACA,OACA,MACA,QACA,MACA,KACA,MACA,QACA,WACA,QACA,MACA,cACA,gBACA,cACA,WACA,gBACA,MACA,QACA,QACA,OACA,UACA,QACA,MACA,OACA,OACA,QACA,MACA,OACA,OACA,QACA,MACA,OACA,OACA,QACA,QACA,gBAGDC,WAAY,CACX,cACA,aACA,YACA,OACA,MACA,kBACA,mBAGDC,IAAK,CACJ,qBACA,0BACA,mBACA,kBACA,eACA,sBACA,oBACA,WACA,oBACA,kBAGDC,UAAW,CAAC,OAAQ,aAAc,eAAgB,YAAa,QAAS,cAExEC,SAAU,CAAC,gBAEXC,qBAAsB,CACrB,OACA,YACA,aACA,aACA,cACA,SACA,UACA,WACA,YAGDvS,OAAQ,CACP,QACA,cACA,cACA,mBACA,MACA,uBACA,wBACA,SACA,kBACA,YACA,SACA,cACA,cACA,WACA,UACA,QACA,OACA,SACA,OACA,QACA,QACA,YACA,yBACA,eACA,kBACA,iBACA,qBACA,eACA,iBACA,gBACA,UACA,SACA,UACA,QACA,OACA,QACA,+BACA,UACA,QACA,cACA,SACA,SACA,YACA,YACA,YACA,iBACA,SACA,YACA,OACA,UACA,SAGDwS,KAAM,CACL,eACA,OACA,UACA,WACA,WACA,YACA,aACA,cACA,cAGDC,UAAW,CACV,oBACA,UACA,SACA,YACA,gBACA,gBACA,iBACA,kBACA,mBACA,kBACA,oBACA,mBACA,mBACA,eACA,cACA,eAGDC,KAAM,CAAC,iBAEPC,YAAa,CAAC,WAAY,KAAM,SAAU,UAE1CC,gBAAiB,CAChB,MACA,UACA,SACA,UACA,OACA,QACA,YACA,aACA,uBACA,QACA,eACA,wBACA,OACA,MACA,MACA,OACA,MACA,YACA,SACA,aACA,cACA,MACA,MACA,SACA,WACA,UACA,YAEDC,cAAe,CAAC,aAChBC,cAAe,CAAC,UAAW,QAAS,OAAQ,QAAS,aAAc,UAAW,UAC9EC,iBAAkB,CAEjB,WACA,WACA,SACA,SACA,SACA,wBACA,QACA,OAEDC,eAAgB,CACf,eACA,eACA,oBACA,OACA,WACA,WACA,MACA,YACA,YACA,kBACA,OACA,SACA,QACA,oBACA,MACA,iBACA,UACA,mBACA,SACA,oBACA,OACA,YACA,oBACA,mBACA,oBACA,oBACA,kBACA,mBACA,oBACA,mBACA,mBACA,OACA,QAEDC,SAAU,CAAC,YAAa,WAAY,mBAAoB,mBACxDC,WAAY,CAAC,eAAgB,uBAC7BC,WAAY,CACX,MACA,OACA,QACA,OACA,QACA,OACA,QACA,QACA,OACA,MACA,OACA,UACA,MACA,QACA,KACA,MACA,OACA,QACA,KACA,MACA,UACA,OACA,QACA,MACA,OACA,OACA,MACA,QAEDC,YAAa,CAAC,eAAgB,iBAAkB,kBAChDC,aAAc,CACb,SAEA,QACA,OACA,SACA,QACA,OACA,QACA,UACA,QACA,OACA,QACA,QACA,SACA,SAEDC,oBAAqB,CAAC,mBAAoB,0BAA2B,eACrEC,UAAW,CAAC,OAAQ,SAAU,OAC9BC,aAAc,CACb,MACA,QACA,MACA,MACA,SACA,MACA,YACA,aACA,cACA,MACA,aACA,OACA,YACA,QACA,eACA,kBACA,kBACA,OACA,kBACA,cAEDC,WAAY,CACX,eACA,QACA,cACA,OACA,mBACA,KACA,WACA,OACA,OACA,aAEDC,MAAO,CAAC,iBAAkB,kCA8RWjT,QAAO,SAAC2J,EAAK1K,GAAN,kBAAkB0K,GAAlB,EAA0B1K,MAAM,KAD3C,EAE7Bb,OAAO6P,OAvRa,CACxBiF,SAAU,CACT,MAEA,MAEA,KACA,MACA,uBACA,KACA,UACA,KAEA,OACA,UACA,WAGA,OACA,UACA,UACA,SACA,OACA,WAGA,OACA,SAGA,SACA,UACA,QAEA,YACA,MAEA,OAEA,WACA,SACA,OAEA,KACA,SACA,KAIA,OACA,KAIA,OAEA,SAGA,MACA,KACA,MACA,OACA,QACA,KAKA,OACA,YACA,YACA,QACA,QACA,YACA,UAEA,SACA,OAGA,OAEA,QAGA,KACA,QACA,OACA,YAQA,UAEDC,UAAW,CACV,QACA,OACA,QACA,OACA,WACA,YACA,WACA,QACA,MACA,WACA,UACA,SACA,UACA,UACA,UACA,UACA,aACA,aACA,UACA,SACA,SACA,OACA,YAGDC,aAAc,CAAC,MAAO,QAAS,UAAW,QAAS,QAAS,QAC5DC,KAAM,CAAC,UAyJ6BrT,QAAO,SAAC2J,EAAK1K,GAAN,kBAAkB0K,GAAlB,EAA0B1K,MAAM,OAGpE,EAAAyN,YAAmC,CAAC,KAAM,KAAM,MAChD,EAAAuC,WAAa,CAAC,IAAK,QACnB,EAAAC,SAAW,CAAC,IAAK,OACjB,EAAAG,wBAA0B,CAAC,KAC3B,EAAAE,sBAAwB,GACxB,EAAAzB,iBAAmB,CAAC,KAAM,KAC1B,EAAAxB,iBAAmB,CAAEkC,IAAK,QAC1B,EAAAQ,UAAY,CAAC,KAAM,KAAM,MC5zBjC,IAi1BqBsE,GAAA,a,2uBAmBpB,WACC,OAAO,IAAI/F,EAAU,CACpBuB,iBAAkBwE,EAAaxE,iBAC/BC,uBAAwBuE,EAAavE,uBACrCH,yBAA0B0E,EAAa1E,yBACvCC,yBAA0ByE,EAAazE,yBACvCxC,iBAAkBiH,EAAahD,kBAC/B5D,YAAa4G,EAAa5G,YAC1BuC,WAAYqE,EAAarE,WACzBC,SAAUoE,EAAapE,SACvBG,wBAAyBiE,EAAajE,wBACtCE,sBAAuB+D,EAAa/D,sBACpCzB,iBAAkBwF,EAAaxF,iBAC/BxB,iBAAkBgH,EAAahH,iBAC/B0C,UAAWsE,EAAatE,iB,oBAjCN,CAAqBrL,G,ovDAClC,GAAAmL,iBA7KiB,CACxB,kBACA,iBACA,iBACA,cACA,aACA,mBACA,kBACA,iBACA,iBACA,cACA,mBACA,gBACA,wBACA,aACA,qBACA,wBACA,OACA,QACA,UACA,SACA,UACA,eACA,yBACA,kBACA,kBACA,gCACA,eACA,wBACA,cACA,oBACA,mBACA,cACA,kBACA,kBACA,iBACA,eACA,oBACA,iBACA,yBACA,cACA,kBACA,cACA,iBACA,iCACA,oBACA,gBACA,mBACA,SACA,kBACA,iBACA,kBACA,qBACA,iBACA,OACA,sBACA,WACA,UACA,oBACA,UACA,QACA,eACA,kBACA,QACA,eACA,UACA,SACA,QACA,aACA,QACA,OACA,UACA,UACA,UACA,oBACA,SACA,SACA,WACA,YACA,SACA,cACA,iBACA,MACA,0BACA,wCACA,0CACA,yBACA,qCACA,qBACA,2BACA,gCACA,8BACA,sDACA,gCACA,2BACA,yBACA,wBACA,iCACA,6CACA,0BACA,8BACA,oBACA,oBACA,qCACA,mCACA,0BACA,WACA,aACA,wBACA,SACA,WACA,SACA,SACA,cACA,WAEA,MACA,eACA,QACA,aACA,cACA,OACA,WACA,KACA,SACA,cACA,QACA,SACA,WACA,SACA,qBACA,QACA,QA0CO,GAAAC,uBAlCuB,CAE9B,YACA,gBACA,qBACA,QACA,YACA,iBACA,SACA,aACA,kBAEA,OACA,aACA,YACA,kBACA,aACA,mBACA,YACA,kBACA,aACA,gBAcO,GAAAH,yBANyB,CAAC,KAAM,OAAQ,OAAQ,OAAQ,UAOxD,GAAAC,yBAA2B,CAAC,MAAO,MACnC,GAAAyB,kBAAoBtR,EAAO,GAAD,SAC7BZ,OAAO6P,OAv1Bc,CAEzB0C,UAAW,CACV,YACA,MACA,OACA,cACA,QACA,YACA,YACA,aACA,QACA,aACA,kBACA,YACA,WACA,UACA,MACA,SACA,MACA,kBACA,kBACA,eACA,YACA,YACA,aACA,iBACA,YACA,UACA,aACA,WACA,WACA,WACA,aACA,SACA,cACA,MACA,UACA,WACA,MACA,WACA,gBACA,UAGD4C,OAAQ,CACP,MACA,SACA,OACA,WACA,aACA,eACA,cACA,aACA,aACA,cACA,aACA,QACA,YACA,YACA,WACA,OACA,OACA,QACA,QACA,SACA,SACA,SACA,YACA,QACA,SACA,SACA,OACA,QACA,cACA,iBACA,UACA,OACA,OACA,QACA,mBACA,cACA,MACA,OACA,WACA,gBACA,mBACA,SACA,WACA,MACA,OACA,OACA,MACA,aACA,YACA,gBACA,YACA,OACA,eACA,SACA,WACA,kBACA,mBACA,UACA,MACA,SACA,iBACA,cACA,eACA,aACA,yBACA,sBACA,uBACA,yBACA,0BACA,0BACA,0BACA,6BACA,UACA,aACA,SACA,mBACA,SACA,kBACA,aACA,aACA,kBACA,eACA,MACA,UACA,QACA,QACA,kBACA,yBACA,UACA,cACA,UACA,WACA,OACA,aACA,WACA,YACA,cACA,MACA,OACA,qBACA,SACA,SACA,QACA,UACA,MACA,aACA,WACA,QACA,QACA,OACA,SACA,KACA,SACA,mBACA,QACA,QACA,OACA,QACA,MACA,kBACA,cACA,mBACA,MACA,SACA,MACA,QACA,iBACA,SACA,aACA,YACA,gBACA,SACA,eACA,WACA,aACA,qBACA,mBACA,SACA,MACA,UACA,OACA,WACA,SACA,QACA,MACA,WACA,UACA,UACA,cACA,SACA,OACA,OACA,eACA,eACA,cACA,iBACA,gBACA,SACA,UACA,MACA,QACA,QACA,kBACA,QACA,OACA,QACA,QACA,SACA,OACA,MACA,OACA,WACA,UACA,YACA,YACA,aACA,aACA,QACA,OACA,QACA,UACA,SACA,WACA,SACA,YACA,MACA,OACA,OACA,YACA,eACA,gBACA,mBACA,gBACA,eACA,UACA,UACA,UACA,YACA,aACA,eACA,YACA,OACA,aACA,WACA,QACA,kBACA,QACA,UACA,cACA,SACA,QACA,QACA,YACA,UACA,WACA,qBACA,iBACA,aACA,wBACA,uBACA,uCACA,OACA,WACA,OACA,gBACA,aACA,YACA,cACA,aACA,YACA,YACA,gBACA,WACA,QACA,WACA,eACA,UACA,iBACA,eACA,QAGDC,MAAO,CACN,kBACA,oBACA,oBACA,mBACA,YACA,gBACA,eACA,mBACA,YAGDC,IAAK,CAAC,UAENC,KAAM,CAAC,cAAe,MAAO,aAAc,OAAQ,YAAa,QAAS,qBAyiBpC1T,QAAO,SAAC2J,EAAK1K,GAAN,kBAAkB0K,GAAlB,EAA0B1K,MAAM,KAD3C,EAE7Bb,OAAO6P,OAliBa,CAExB0F,SAAU,CACT,MACA,WACA,QACA,WACA,MACA,KACA,QACA,eACA,aACA,YACA,UACA,KACA,QACA,MACA,YACA,SACA,QACA,UACA,aACA,KACA,UACA,WACA,OACA,OACA,QACA,YACA,QACA,QACA,UACA,aACA,SACA,SACA,YACA,aACA,aACA,UACA,WACA,SACA,OACA,UACA,eACA,mBACA,eACA,iBACA,eACA,oBACA,UACA,SACA,OACA,WACA,SACA,UACA,UACA,aACA,gBACA,UACA,WACA,WACA,KACA,WACA,SACA,UACA,WACA,WACA,aACA,SACA,WACA,QACA,SACA,YACA,SACA,OACA,WACA,SACA,YACA,QACA,QACA,MACA,OACA,OACA,WACA,YACA,MACA,SACA,OACA,QACA,UACA,OACA,QACA,KACA,YACA,KACA,YACA,QACA,UACA,QACA,QACA,cACA,OACA,KACA,SACA,UACA,MACA,OACA,MACA,WACA,OACA,WACA,QACA,OACA,QACA,SACA,UACA,WACA,OACA,UACA,WACA,OACA,OACA,aACA,eACA,eACA,gBACA,WACA,SACA,OACA,UACA,KACA,OACA,MACA,OACA,QACA,WACA,OACA,KACA,MACA,eACA,WACA,QACA,eACA,MACA,QACA,UACA,YACA,OACA,SACA,YACA,cACA,eACA,OACA,YACA,SACA,OACA,YACA,UACA,QACA,SACA,aACA,YACA,UACA,OACA,SACA,QACA,UACA,QACA,aACA,WACA,WACA,SACA,qBACA,SACA,UACA,OACA,SACA,gBACA,aACA,cACA,kBACA,kBACA,gBACA,WACA,MACA,SACA,SACA,aACA,UACA,SACA,WACA,WACA,YACA,eACA,SACA,OACA,SACA,WACA,WACA,SACA,YACA,OACA,WACA,SACA,QACA,UACA,UACA,UACA,SACA,eACA,QACA,aACA,KACA,UACA,OACA,OACA,SACA,QACA,OACA,QACA,YACA,WACA,UACA,OACA,aACA,OACA,WACA,UACA,QACA,MACA,YACA,UACA,QACA,QAGDC,cAAe,CACd,gBACA,UACA,WACA,aACA,cACA,YACA,OACA,aACA,WACA,WACA,UACA,OACA,YACA,kBACA,oBACA,UACA,UACA,gBACA,UACA,cACA,mBACA,SACA,SACA,iBACA,WACA,WACA,WACA,UAGDC,SAAU,CACT,QACA,kBACA,mBACA,wBACA,gBACA,cACA,eACA,YACA,aACA,eACA,OACA,SACA,gBACA,SACA,gBACA,kBACA,mBACA,qBACA,mBACA,cACA,4BACA,gBACA,0BACA,mBACA,cACA,oBACA,kBACA,iBACA,kBACA,iBACA,gBACA,kBACA,MACA,OACA,MACA,eACA,YACA,aACA,eACA,gCACA,6BACA,aACA,wBACA,uBACA,wBACA,sBACA,yBACA,eACA,iBACA,cACA,yBACA,eACA,kBACA,oBACA,oBACA,kBACA,gBACA,MACA,cACA,UACA,cACA,QACA,cACA,iBACA,aACA,iBACA,YACA,YACA,0BACA,iBACA,kBACA,gBACA,eACA,gBACA,cACA,aACA,gBACA,YACA,gBACA,WACA,WACA,yBACA,gBACA,iBACA,eACA,cACA,eACA,aACA,eACA,cA6LmC7T,QAAO,SAAC2J,EAAK1K,GAAN,kBAAkB0K,GAAlB,EAA0B1K,MAAM,OAGpE,GAAAyN,YAAmC,CAAC,KAAM,KAAM,KAAM,KAAM,OAC5D,GAAAuC,WAAa,CAAC,KACd,GAAAC,SAAW,CAAC,KACZ,GAAAG,wBAA0B,CAAC,KAC3B,GAAAE,sBAAwB,CAAC,KACzB,GAAAzB,iBAAmB,CAAC,MACpB,GAAAxB,iBAAmB,CAAEkC,IAAK,MAC1B,GAAAQ,UAAY,CAAC,KAAM,KAAM,KAAM,MCj2BvC,IA6lBqB8E,GAAA,a,2uBAmBpB,WACC,OAAO,IAAIvG,EAAU,CACpBuB,iBAAkBgF,EAAchF,iBAChCC,uBAAwB+E,EAAc/E,uBACtCH,yBAA0BkF,EAAclF,yBACxCC,yBAA0BiF,EAAcjF,yBACxCxC,iBAAkByH,EAAcxD,kBAChC5D,YAAaoH,EAAcpH,YAC3BuC,WAAY6E,EAAc7E,WAC1BC,SAAU4E,EAAc5E,SACxBG,wBAAyByE,EAAczE,wBACvCE,sBAAuBuE,EAAcvE,sBACrCzB,iBAAkBgG,EAAchG,iBAChCxB,iBAAkBwH,EAAcxH,iBAChC0C,UAAW8E,EAAc9E,iB,oBAjCP,CAAsBrL,G,+/BACnC,GAAAmL,iBAvEiB,CAExB,QACA,eACA,cACA,SACA,eACA,MACA,WACA,OACA,aACA,QACA,OACA,WACA,SACA,SACA,cACA,QACA,SACA,WACA,SAEA,aACA,OACA,UACA,WACA,SACA,SACA,QACA,OAGA,YACA,YACA,cAsCO,GAAAC,uBA9BuB,CAE9B,YACA,gBACA,qBACA,QACA,YACA,iBAEA,OACA,aACA,YACA,kBACA,aACA,mBACA,YACA,kBACA,cAcO,GAAAH,yBANyB,CAAC,KAAM,OAAQ,OAAQ,QAOhD,GAAAC,yBAA2B,CAAC,MAAO,MACnC,GAAAyB,kBAAoBtR,EAAO,GAAD,UAC7BZ,OAAO6P,OAnmBc,CACzBwD,KAAM,CACL,MACA,OACA,OACA,OACA,MACA,SACA,OACA,OACA,UACA,OACA,MACA,UAEA,MACA,YACA,QACA,WACA,MACA,QACA,KACA,MACA,QACA,OACA,WACA,KACA,OACA,WACA,MACA,QACA,UACA,OACA,QACA,YACA,aACA,qBACA,OACA,MACA,OACA,MACA,QACA,gBAEDZ,MAAO,CAAC,iBAAkB,WAAY,aAAc,OAAQ,cAC5DE,WAAY,CAAC,SAAU,QACvBC,KAAM,CACL,aACA,OACA,WACA,cACA,WACA,WACA,MACA,UACA,aACA,YACA,UACA,gBACA,qBACA,OACA,WACA,SACA,QACA,iBACA,WACA,UACA,SACA,YACA,UACA,mBACA,QACA,iBACA,aACA,QAEDkB,YAAa,CAAC,cAAe,WAAY,KAAM,YAAa,SAAU,SAAU,OAChF3S,OAAQ,CACP,QACA,SACA,mBACA,MACA,SACA,YACA,iBACA,SACA,MACA,SACA,QACA,cACA,gBACA,kBACA,UACA,UACA,QACA,QACA,SACA,cACA,SACA,QACA,OACA,QACA,SACA,eACA,YACA,SACA,QACA,iBACA,iBACA,SACA,UACA,OACA,QACA,YACA,UACA,QACA,QACA,aACA,SACA,YACA,YACA,OACA,QACA,WACA,SAEDwU,QAAS,CACR,OACA,eACA,YACA,cACA,oBACA,oBAEDV,KAAM,CACL,cACA,cACA,QACA,mBACA,eACA,OACA,cACA,iBACA,MACA,UACA,MACA,OACA,OACA,gBACA,WAED1C,UAAW,CACV,MACA,eACA,cACA,OACA,QACA,YACA,aACA,oBACA,MACA,MACA,QACA,aACA,oBACA,YACA,YACA,aACA,iBACA,UACA,aACA,WACA,WACA,WACA,aACA,cACA,MACA,UACA,WACA,YAED6C,MAAO,CAAC,UAAW,SAAU,aAAc,kBAAmB,aAAc,WA8avCxT,QAAO,SAAC2J,EAAK1K,GAAN,mBAAkB0K,GAAlB,GAA0B1K,MAAM,KAD3C,GAE7Bb,OAAO6P,OAtaa,CAExB+F,YAAa,CACZ,MACA,QACA,QACA,UACA,UACA,MACA,SACA,SACA,UACA,UACA,SACA,UACA,YACA,gBACA,aACA,UACA,UACA,UACA,cACA,UACA,cACA,WACA,OACA,YACA,WACA,MACA,eACA,WACA,UACA,YACA,aACA,OACA,cACA,YACA,UACA,aACA,YACA,SACA,UACA,YACA,UACA,SACA,SACA,OACA,aACA,QACA,SACA,YACA,YACA,eACA,OACA,gBACA,SACA,QACA,UACA,SACA,cACA,cACA,QACA,MACA,OACA,WACA,QACA,QACA,OACA,WACA,OACA,QACA,UACA,OACA,UACA,eACA,WACA,QACA,SACA,QACA,OACA,SACA,UACA,UACA,SACA,eACA,eACA,YACA,QACA,cACA,aACA,OACA,SACA,aACA,aACA,QACA,OACA,WACA,UACA,eACA,eACA,SACA,SACA,SACA,UACA,cACA,WACA,UACA,OACA,QACA,SACA,UACA,SACA,OACA,QACA,kBACA,SACA,OACA,SACA,OACA,gBACA,SACA,OACA,SACA,MACA,aACA,SACA,cACA,SACA,SACA,SACA,gBACA,YACA,aACA,UACA,QACA,eACA,YACA,OACA,YACA,SACA,QACA,WACA,MAEA,MACA,eACA,aACA,OACA,QACA,OACA,aACA,YACA,QACA,SACA,WACA,cACA,OACA,QACA,QACA,MACA,OACA,SACA,aACA,QACA,OACA,WACA,SACA,MACA,aACA,WACA,UACA,UACA,gBACA,OACA,QACA,SACA,QACA,OACA,QACA,UACA,UACA,cACA,QAEDC,SAAU,CAET,MAGA,QACA,KACA,gBACA,UACA,SACA,SACA,UACA,OACA,KAEA,OACA,OACA,SACA,OAEA,QACA,OACA,UACA,eACA,oBACA,SACA,WACA,OACA,UACA,SAEA,WACA,SAIA,WACA,SACA,WACA,WACA,QAEA,QACA,YACA,MAEA,OACA,WACA,QAEA,WAEA,KACA,SACA,KACA,QAEA,MAEA,WACA,OACA,KAEA,UACA,OACA,OACA,OACA,QACA,QACA,MACA,OACA,OACA,MACA,OACA,KAGA,QACA,MACA,QACA,OACA,cACA,YACA,UACA,YACA,WACA,YACA,QACA,QACA,SACA,SACA,QACA,SACA,MACA,OAEA,MACA,WACA,QACA,cAEA,YACA,KACA,YACA,UACA,OAEA,YAEA,aAEA,OACA,QACA,eAEA,UAGA,SAEA,SACA,OACA,SACA,QACA,WACA,QACA,QACA,aACA,UACA,UACA,aACA,YACA,UACA,QACA,UACA,YACA,QACA,OACA,UACA,QAEDC,UAAW,CACV,WACA,eACA,MACA,MACA,MACA,UACA,OACA,SACA,WACA,cACA,kBAsFmClU,QAAO,SAAC2J,EAAK1K,GAAN,mBAAkB0K,GAAlB,GAA0B1K,MAAM,OAGpE,GAAAyN,YAAmC,CAAC,KAAM,KAAM,MAChD,GAAAuC,WAAa,CAAC,IAAK,QACnB,GAAAC,SAAW,CAAC,IAAK,OACjB,GAAAG,wBAA0B,CAAC,KAC3B,GAAAE,sBAAwB,GACxB,GAAAzB,iBAAmB,CAAC,MACpB,GAAAxB,iBAAmB,GACnB,GAAA0C,UAAY,CAAC,MAAO,KAAM,MC7mBlC,IAqnCqBmF,GAAA,a,2uBAepB,WACC,OAAO,IAAI5G,EAAU,CACpBuB,iBAAkBqF,EAAiBrF,iBACnCC,uBAAwBoF,EAAiBpF,uBACzCH,yBAA0BuF,EAAiBvF,yBAC3CC,yBAA0BsF,EAAiBtF,yBAC3CxC,iBAAkB8H,EAAiB9H,iBACnCK,YAAayH,EAAiBzH,YAC9BuC,WAAYkF,EAAiBlF,WAC7BC,SAAUiF,EAAiBjF,SAC3BG,wBAAyB8E,EAAiB9E,wBAC1CE,sBAAuB4E,EAAiB5E,sBACxCzB,iBAAkBqG,EAAiBrG,iBACnCxB,iBAAkB6H,EAAiB7H,iBACnC0C,UAAWmF,EAAiBnF,c,2BAI9B,SAAchO,G,MAEb,OAAII,EAAQkB,IAAItB,IAA2C,OAAZ,QAArB,EAAAR,KAAK4H,wBAAgB,eAAErJ,OAEzC,CAAEkC,KAAMb,EAAUkB,iBAAkBvC,MAAOiC,EAAMjC,OAGlDiC,O,oBAxCY,CAAyB2C,G,+/BACtC,GAAAmL,iBAtQiB,CACxB,iBACA,yBACA,cACA,iBACA,kBACA,eACA,uBACA,iBACA,eACA,cACA,aACA,aACA,UACA,gBACA,cACA,eACA,gBACA,QACA,SACA,cACA,OACA,mBACA,cACA,aACA,iBACA,SACA,4BACA,kBACA,eACA,kBACA,eACA,mBACA,cACA,kBACA,gBACA,uBACA,eACA,iBACA,sBACA,cACA,cACA,qBACA,SACA,OACA,WACA,KACA,gBACA,aACA,gBACA,aACA,eACA,iBACA,YACA,gBACA,cACA,aACA,eACA,YACA,YACA,UACA,UACA,QACA,kBACA,4BACA,QACA,UACA,OACA,SACA,iBACA,iBACA,OACA,mBACA,wBACA,kBACA,aACA,iBACA,UACA,oBACA,oBACA,oBACA,eACA,cACA,eACA,cACA,UACA,eACA,oBACA,gBACA,cACA,WACA,SACA,WACA,YACA,SACA,MACA,oBACA,mBACA,yBACA,YACA,eACA,WACA,gBACA,kBACA,OACA,2BACA,yBACA,eACA,mBACA,qBACA,qBACA,qBACA,yBACA,iBACA,eACA,oBACA,uBACA,oBACA,uBACA,sBACA,2BACA,wBACA,uBACA,oBACA,sBACA,mBACA,mBACA,iBACA,cACA,4BACA,eACA,cACA,cACA,eACA,qBACA,uBACA,cACA,aACA,eACA,wBACA,YACA,eACA,mBACA,qBACA,mBACA,yBACA,2BACA,sBACA,eACA,sBACA,kBACA,sBACA,wBACA,mBACA,eACA,gBACA,2BACA,uBACA,eACA,qBACA,sBACA,eACA,aACA,mBACA,oBACA,cACA,uBACA,oBACA,cACA,gBACA,uBACA,iBACA,gBACA,wBACA,oBACA,WACA,SACA,qBACA,mBACA,gBACA,cACA,oBACA,oBACA,kBACA,eACA,aACA,WACA,iBACA,mBACA,mBACA,eACA,SACA,MACA,OACA,WACA,YACA,SACA,aACA,aACA,cACA,WAEA,MACA,eACA,OACA,WACA,SACA,cACA,SACA,QACA,SACA,WACA,SACA,SACA,SAiDO,GAAAC,uBAzCuB,CAE9B,YACA,gBACA,qBACA,QACA,YACA,iBACA,SACA,aACA,kBACA,QACA,YACA,iBAEA,OACA,aACA,YACA,kBACA,aACA,mBACA,aACA,eAEA,gBACA,oBACA,0BACA,qBACA,4BAcO,GAAAF,yBAA2B,CAAC,MAAO,KAAM,OACzC,GAAAD,yBAPyB,CAAC,KAAM,OAAQ,OAAQ,OAAQ,SAAU,SAQlE,GAAAvC,iBAAmBrN,EAAO,GAAD,OAv4BR,CACxB,aACA,UACA,SACA,QACA,QACA,UACA,YACA,MACA,YACA,QACA,SACA,MACA,KACA,MACA,QACA,aACA,KACA,SACA,UACA,iBACA,kBACA,OACA,MACA,iBACA,SACA,SACA,UACA,SACA,SACA,MACA,OACA,QACA,OACA,OACA,UACA,OACA,QACA,KACA,OACA,QACA,UACA,WACA,eACA,QACA,SACA,UACA,OACA,YACA,UACA,QACA,aACA,WACA,SACA,eACA,SACA,OACA,QACA,WACA,OACA,UACA,YACA,SACA,cACA,UACA,aACA,gBACA,gBACA,aACA,UACA,YACA,UACA,aACA,aACA,aACA,YACA,aACA,aACA,aACA,qBACA,kBACA,oBACA,WACA,UACA,WACA,eACA,UACA,MACA,SACA,QACA,OACA,UACA,eACA,cACA,eACA,eACA,oBACA,eACA,SACA,cACA,QACA,OACA,WACA,YACA,WACA,OACA,WACA,MACA,WACA,kBACA,aACA,aACA,aACA,MACA,UACA,UACA,UACA,UACA,UACA,kBACA,mBACA,eACA,gBACA,cACA,YACA,UACA,UACA,OACA,WACA,cACA,MACA,SACA,gBACA,OACA,OACA,WACA,YACA,UACA,OACA,QACA,SACA,WACA,OACA,SACA,UACA,OACA,QACA,SACA,SACA,UACA,QACA,SACA,QACA,WACA,WACA,UACA,YACA,SACA,OACA,YACA,SACA,SACA,WACA,cACA,QACA,OACA,SACA,YACA,QACA,SACA,OACA,QACA,QACA,QACA,SACA,SACA,YACA,UACA,MACA,QACA,UACA,QACA,OACA,WACA,WACA,UACA,YACA,aACA,MACA,SACA,OACA,SACA,QACA,OACA,OACA,gBACA,UACA,OACA,QACA,OACA,mBACA,cACA,cAEA,aACA,KACA,SACA,UACA,oBACA,oBACA,YACA,SACA,KACA,YACA,QACA,UACA,SACA,eACA,QACA,QACA,cACA,gBACA,UACA,MACA,OACA,OACA,OACA,OACA,OACA,UACA,WACA,YACA,OACA,KACA,YACA,MACA,KACA,YACA,SACA,SACA,UACA,UACA,OACA,aACA,MACA,OACA,iBACA,WACA,OACA,aACA,UACA,UACA,QACA,SACA,OACA,OACA,QACA,OACA,SACA,QACA,OACA,OACA,QACA,YACA,iBACA,OACA,SACA,QACA,UACA,OACA,OACA,WACA,WACA,OACA,eACA,SACA,uBACA,eACA,kBACA,cACA,kBACA,iBACA,kBACA,cACA,mBACA,aACA,gBACA,oBACA,kBACA,oBACA,iBACA,qBACA,iBACA,gCACA,cACA,kBACA,0BACA,QACA,2BACA,uBACA,WACA,WACA,qBACA,uBACA,uBACA,WACA,SACA,aACA,YACA,aACA,SACA,QACA,eACA,cACA,YACA,UACA,QACA,SACA,qBACA,gBACA,WACA,WACA,MACA,OACA,WACA,SACA,UACA,QACA,QACA,QACA,cACA,OACA,QACA,WACA,UACA,QACA,SACA,QACA,MACA,OACA,UACA,KACA,aACA,aACA,UACA,UACA,UACA,SACA,YACA,OACA,MACA,WACA,qBACA,OACA,SACA,UACA,WACA,KACA,SACA,eACA,MACA,SACA,OACA,OACA,WACA,UACA,SACA,aACA,QACA,aACA,SACA,MACA,QACA,UACA,OACA,WACA,QACA,UACA,YACA,OACA,gBACA,SACA,kBACA,OACA,SACA,UACA,YACA,eACA,aACA,WACA,aACA,QACA,SACA,UACA,OACA,UACA,WACA,YACA,YACA,WACA,OACA,WACA,UACA,aACA,YACA,UACA,cACA,UACA,WACA,QACA,QACA,UACA,QACA,QACA,QACA,QACA,MACA,OACA,YACA,aACA,QACA,OACA,UACA,UACA,YACA,mBACA,WACA,YACA,aACA,SACA,QACA,WACA,iBACA,gBACA,eACA,UACA,SACA,SACA,SACA,aACA,SACA,aACA,SACA,UACA,WACA,cACA,cACA,SACA,UACA,QACA,UACA,UACA,WACA,SACA,oBACA,SACA,YACA,UACA,QACA,QACA,QACA,OACA,SACA,UACA,MACA,WACA,SACA,OACA,UACA,YACA,aACA,QACA,WACA,SACA,cACA,UACA,SACA,qBACA,WACA,YACA,YACA,WACA,SACA,eACA,UACA,SACA,SACA,QACA,SACA,SACA,OACA,QACA,SACA,YACA,OACA,WACA,WACA,SACA,OACA,OACA,SACA,SACA,SACA,QACA,SACA,UACA,WACA,gBACA,MACA,eACA,WACA,aACA,iBACA,oBACA,YACA,sBACA,eACA,mBACA,aACA,iBACA,iBACA,eACA,cACA,eACA,gBACA,kBACA,eACA,MACA,QACA,WACA,SACA,YACA,oBACA,mBACA,qBACA,SACA,OACA,UACA,SACA,kBACA,UACA,eACA,gBACA,QACA,UACA,QACA,WACA,UACA,SACA,cACA,QACA,aACA,SACA,aACA,iBACA,YACA,YACA,aACA,OACA,OACA,OACA,OACA,YACA,eACA,gBACA,WACA,UACA,WACA,KACA,WACA,cACA,gBACA,UACA,UACA,WACA,OACA,OACA,QACA,YACA,cACA,YACA,mBACA,WACA,OACA,UACA,SACA,UACA,SACA,YACA,WACA,QACA,UACA,QACA,OACA,iBACA,UACA,QACA,WACA,WACA,gBACA,QACA,YACA,UACA,eACA,WACA,YACA,UACA,MACA,OACA,UACA,UACA,aACA,OACA,WACA,OACA,gBACA,QACA,SACA,SACA,UACA,OACA,UACA,QACA,OACA,KACA,MACA,OACA,aACA,YAv2ByB,CACzB,UACA,aACA,UACA,SACA,UACA,OACA,QACA,YACA,UACA,UACA,WACA,WACA,cACA,SACA,aACA,UACA,cACA,eACA,gBACA,iBACA,MACA,OACA,MACA,SACA,MACA,MACA,MACA,YACA,QACA,WACA,eACA,kBACA,kBACA,OACA,aACA,eACA,MACA,SACA,aACA,cACA,UACA,SACA,YACA,MACA,cACA,OACA,cACA,WACA,UACA,WACA,MACA,OACA,UACA,cACA,cACA,OACA,OACA,QACA,YACA,MACA,kBACA,YACA,aACA,OACA,UACA,mBACA,cACA,MACA,eACA,eACA,gBACA,cACA,cACA,WACA,SACA,yBACA,YACA,gBACA,OACA,aACA,MACA,MACA,QACA,WACA,UACA,aACA,YACA,YACA,UACA,mBACA,gBACA,cACA,cACA,MACA,SACA,UACA,MACA,aACA,eACA,QACA,cACA,QACA,SACA,aACA,cACA,YACA,gBACA,WACA,WACA,MACA,SACA,QACA,SACA,eACA,eACA,aACA,oBACA,oBACA,eACA,gBACA,qBACA,aACA,gBACA,cACA,eACA,cACA,YACA,cACA,aACA,aACA,mBACA,sBACA,aACA,aACA,cACA,cACA,eACA,WACA,cACA,YACA,eACA,aACA,aACA,WACA,iBACA,QACA,QACA,SACA,UACA,KACA,YACA,SACA,MACA,QACA,OACA,QACA,OACA,cACA,QACA,eACA,WACA,WACA,WACA,mBACA,kBACA,MACA,YACA,aACA,MACA,OACA,SACA,MACA,eACA,MACA,aACA,cACA,KACA,MACA,QACA,QACA,eACA,iBACA,gBACA,UACA,OACA,oBACA,eACA,iBACA,UACA,QACA,OACA,cACA,QACA,eACA,cACA,MACA,OACA,OACA,OACA,MACA,QACA,UACA,QACA,OACA,SACA,cACA,gBACA,kBACA,UACA,WACA,MACA,WACA,cACA,cACA,YACA,UACA,UACA,aACA,QACA,aACA,sBACA,QACA,iBACA,YACA,QACA,OACA,aACA,UACA,UACA,aACA,0BACA,uBACA,4BACA,cAi5BO,GAAA0N,YAAmC,CAAC,KAAM,KAAM,MAChD,GAAAuC,WAAa,CAAC,IAAK,QACnB,GAAAC,SAAW,CAAC,IAAK,OACjB,GAAAG,wBAA0B,CAAC,KAC3B,GAAAE,sBAAwB,GACxB,GAAAzB,iBAAmB,CAAC,KAAM,KAC1B,GAAAxB,iBAAmB,CAAE8B,OAAQ,KAC7B,GAAAY,UAAY,CAAC,KAAM,KAAM,KAAM,MAAO,KAAM,MCjoCpD,IAuxCqBoF,GAAA,a,2uBAepB,WACC,OAAO,IAAI7G,EAAU,CACpBuB,iBAAkBsF,EAAetF,iBACjCC,uBAAwBqF,EAAerF,uBACvCH,yBAA0BwF,EAAexF,yBACzCC,yBAA0BuF,EAAevF,yBACzCxC,iBAAkB+H,EAAe/H,iBACjCK,YAAa0H,EAAe1H,YAC5BuC,WAAYmF,EAAenF,WAC3BC,SAAUkF,EAAelF,SACzBG,wBAAyB+E,EAAe/E,wBACxCE,sBAAuB6E,EAAe7E,sBACtCzB,iBAAkBsG,EAAetG,iBACjCxB,iBAAkB8H,EAAe9H,iBACjC0C,UAAWoF,EAAepF,c,2BAI5B,SAAchO,G,QAEb,OAAII,EAAQc,QAAQlB,KAA+B,QAArB,EAAAR,KAAK4H,wBAAgB,eAAEnH,QAASb,EAAUuB,YAEhE,CAAEV,KAAMb,EAAUoB,0BAA2BzC,MAAOiC,EAAMjC,OAI9DqC,EAAQkB,IAAItB,IAA2C,OAAZ,QAArB,EAAAR,KAAK4H,wBAAgB,eAAErJ,OAEzC,CAAEkC,KAAMb,EAAUkB,iBAAkBvC,MAAOiC,EAAMjC,OAGlDiC,O,oBA9CY,CAAuB2C,G,+/BACpC,GAAAmL,iBAtOiB,CACxB,iBACA,cACA,iBACA,iBACA,sBACA,kBACA,uBACA,eACA,cACA,mBACA,aACA,aACA,gBACA,SACA,cACA,OACA,mBACA,4BACA,+BACA,cACA,iBACA,QACA,SACA,kBACA,eACA,kBACA,kBACA,eACA,uBACA,mBACA,wBACA,cACA,gBACA,kCACA,eACA,oBACA,iBACA,cACA,cACA,qBACA,SACA,WACA,KACA,gBACA,aACA,gBACA,gBACA,aACA,qBACA,iBACA,sBACA,YACA,cACA,gCACA,aACA,kBACA,eACA,YACA,YACA,UACA,UACA,QACA,QACA,UACA,OACA,eACA,SACA,oBACA,iBACA,OACA,YACA,wBACA,WACA,2BACA,cACA,kBACA,iBACA,UACA,oBACA,oBACA,eACA,cACA,eACA,UACA,QACA,eACA,gBACA,gBACA,cACA,UACA,SACA,WACA,wBACA,YACA,SACA,MACA,oBACA,mBACA,YACA,eACA,qBACA,WACA,kBACA,OACA,mBACA,qBACA,qBACA,iBACA,eACA,uBACA,oBACA,uBACA,wBACA,oBACA,sBACA,mBACA,mBACA,iBACA,cACA,eACA,cACA,cACA,qBACA,uBACA,cACA,aACA,qBACA,mBACA,eACA,kBACA,sBACA,wBACA,mBACA,eACA,gBACA,uBACA,sBACA,gBACA,aACA,mBACA,cACA,oBACA,cACA,gBACA,iBACA,gBACA,WACA,kBACA,0BACA,gBACA,cACA,oBACA,yBACA,eACA,aACA,QACA,iBACA,sBACA,mBACA,kBACA,gBACA,SACA,MACA,SACA,OACA,KAGA,UACA,QACA,OACA,SACA,SACA,QAEA,MACA,eACA,OACA,WACA,SACA,cACA,QACA,SACA,WACA,SA8CO,GAAAC,uBAtCuB,CAE9B,YACA,gBACA,qBACA,QACA,YACA,iBACA,SACA,aACA,kBAEA,OACA,aACA,YACA,kBACA,aACA,mBACA,aACA,eAEA,gBACA,oBACA,0BACA,qBACA,4BAcO,GAAAH,yBANyB,CAAC,KAAM,OAAQ,OAAQ,OAAQ,SAAU,WAOlE,GAAAC,yBAA2B,CAAC,MAAO,KAAM,OACzC,GAAAxC,iBAAmBrN,EAAO,GAAD,OA72BR,CACxB,aACA,UACA,SACA,SACA,QACA,QACA,UACA,YACA,YACA,MACA,QACA,SACA,UACA,UACA,MACA,QACA,KACA,MACA,aACA,KACA,YACA,iBACA,kBACA,iBACA,iBACA,SACA,SACA,QACA,UACA,SACA,MACA,OACA,QACA,OACA,UACA,OACA,QACA,UACA,KACA,OACA,QACA,UACA,WACA,eACA,QACA,qBACA,SACA,UACA,UACA,YACA,QACA,WACA,SACA,eACA,SACA,QACA,OACA,UACA,SACA,UACA,gBACA,cACA,UACA,YACA,UACA,aACA,YACA,aACA,cACA,aACA,YACA,aACA,aACA,aACA,qBACA,kBACA,oBACA,WACA,UACA,WACA,MACA,SACA,QACA,OACA,UACA,SACA,cACA,OACA,YACA,WACA,WACA,WACA,kBACA,aACA,aACA,aACA,MACA,UACA,UACA,eACA,UACA,aACA,UACA,kBACA,OACA,cACA,eACA,gBACA,cACA,YACA,UACA,UACA,OACA,WACA,cACA,SACA,OACA,OACA,WACA,YACA,UACA,OACA,QACA,SACA,WACA,aACA,OACA,WACA,SACA,UACA,mBACA,OACA,QACA,SACA,SACA,UACA,QACA,SACA,QACA,WACA,UACA,SACA,OACA,YACA,SACA,SACA,WACA,cACA,SACA,wBACA,QACA,OACA,SACA,QACA,SACA,OACA,kBACA,SACA,SACA,QACA,QACA,QACA,SACA,SACA,YACA,UACA,MACA,QACA,UACA,QACA,OACA,WACA,WACA,UACA,YACA,iBACA,WACA,qBACA,MACA,wBACA,wBACA,SACA,WACA,SACA,QACA,SACA,oBACA,YACA,OACA,gBACA,YACA,UACA,OACA,QACA,mBACA,cACA,cACA,aACA,SACA,oBACA,SACA,WACA,QACA,UACA,SACA,UACA,eACA,WACA,QACA,QACA,cACA,gBACA,UACA,WACA,MACA,OACA,OACA,OACA,OACA,OACA,UACA,OACA,YACA,UACA,KACA,iBACA,kBACA,YACA,MACA,YACA,SACA,UACA,OACA,MACA,UACA,OACA,iBACA,WACA,OACA,UACA,QACA,SACA,OACA,QACA,SACA,QACA,aACA,OACA,OACA,QACA,OACA,SACA,QACA,UACA,OACA,OACA,WACA,WACA,OACA,eACA,SACA,uBACA,cACA,gCACA,uBACA,eACA,0BACA,cACA,kBACA,iBACA,kBACA,cACA,yBACA,qBACA,mBACA,aACA,gBACA,oBACA,kBACA,oBACA,iBACA,qBACA,iBACA,gCACA,0BACA,qBACA,cACA,gCACA,WACA,2BACA,uBACA,WACA,WACA,uBACA,uBACA,SACA,aACA,YACA,aACA,SACA,SACA,QACA,eACA,YACA,UACA,qBACA,gBACA,WACA,OACA,WACA,SACA,kBACA,aACA,eACA,QACA,cACA,OACA,QACA,WACA,UACA,QACA,MACA,aACA,SACA,oBACA,QACA,MACA,OACA,KACA,YACA,OACA,SACA,UACA,qBACA,OACA,QACA,SACA,UACA,WACA,KACA,MACA,SACA,KACA,MACA,MACA,OACA,OACA,WACA,kBACA,SACA,WACA,aACA,UACA,QACA,aACA,eACA,SACA,MACA,QACA,UACA,OACA,QACA,YACA,OACA,SACA,kBACA,UACA,YACA,eACA,aACA,WACA,qBACA,OACA,UACA,YACA,eACA,iBACA,QACA,SACA,UACA,aACA,QACA,UACA,OACA,WACA,YACA,YACA,WACA,OACA,UACA,aACA,wBACA,YACA,UACA,cACA,UACA,WACA,QACA,QACA,QACA,QACA,SACA,QACA,OACA,QACA,YACA,aACA,OACA,UACA,UACA,YACA,WACA,mBACA,YACA,YACA,aACA,eACA,QACA,WACA,iBACA,gBACA,eACA,UACA,SACA,SACA,SACA,SACA,aACA,SACA,aACA,UACA,WACA,kBACA,qBACA,sBACA,yBACA,uBACA,0BACA,8BACA,cACA,UACA,qBACA,WACA,WACA,UACA,UACA,WACA,SACA,SACA,SACA,oBACA,YACA,UACA,QACA,OACA,SACA,SACA,UACA,MACA,OACA,aACA,QACA,WACA,UACA,cACA,YACA,mBACA,6BACA,iBACA,mBACA,qBACA,WACA,YACA,YACA,SACA,eACA,SACA,UACA,YACA,QACA,SACA,SACA,SACA,OACA,QACA,OACA,WACA,WACA,SACA,OACA,SACA,SACA,SACA,uBACA,cACA,gCACA,uBACA,eACA,0BACA,cACA,kBACA,iBACA,kBACA,cACA,yBACA,qBACA,aACA,gBACA,oBACA,kBACA,oBACA,iBACA,qBACA,iBACA,gCACA,0BACA,qBACA,cACA,gCACA,UACA,WACA,MACA,eACA,WACA,aACA,kBACA,qBACA,mBACA,iBACA,oBACA,YACA,sBACA,eACA,mBACA,aACA,cACA,eACA,iBACA,gBACA,kBACA,iBACA,eACA,eACA,OACA,MACA,UACA,QACA,WACA,SACA,oBACA,mBACA,qBACA,SACA,OACA,UACA,SACA,SACA,SACA,kBACA,UACA,eACA,gBACA,QACA,UACA,QACA,WACA,SACA,SACA,aACA,iBACA,aACA,YACA,YACA,aACA,OACA,OACA,kBACA,OACA,WACA,UACA,WACA,MACA,KACA,WACA,cACA,UACA,WACA,OACA,OACA,QACA,YACA,cACA,YACA,OACA,WACA,mBACA,UACA,YACA,SACA,UACA,SACA,aACA,WACA,QACA,UACA,QACA,iBACA,UACA,QACA,aACA,QACA,YACA,UACA,eACA,YACA,UACA,OACA,OACA,UACA,UACA,OACA,WACA,QACA,SACA,UACA,OACA,UACA,QACA,OACA,MACA,MACA,aACA,WACA,QAziCyB,CACzB,MACA,OACA,UACA,UACA,cACA,cACA,MACA,YACA,QACA,OACA,OACA,QACA,MACA,YACA,MACA,cACA,SACA,UACA,YACA,aACA,SACA,UACA,oBACA,sBACA,mBACA,kBACA,kBACA,OACA,OACA,OACA,UACA,OACA,cACA,mBACA,UACA,WACA,eACA,YACA,WACA,SACA,YACA,gBACA,OACA,UACA,aACA,MACA,MACA,QACA,QACA,YACA,UACA,eACA,eACA,eACA,oBACA,eACA,UACA,WACA,OACA,WACA,cACA,WACA,WACA,MACA,UACA,aACA,YACA,YACA,UACA,UACA,aACA,MACA,MACA,MACA,aACA,UACA,eACA,QACA,cACA,cACA,QACA,SACA,eACA,mBACA,aACA,cACA,YACA,gBACA,iBACA,qBACA,2BACA,wBACA,+BACA,aACA,WACA,WACA,eACA,WACA,cACA,gBACA,MACA,OACA,cACA,KACA,SACA,KACA,YACA,YACA,aACA,aACA,SACA,QACA,0BACA,0BACA,sBACA,oBACA,qBACA,uBACA,0BACA,gCACA,iCACA,wBACA,wBACA,qCACA,oCACA,wBACA,2BACA,6BACA,yBACA,2BACA,sBACA,uBACA,WACA,KACA,eACA,UACA,iBACA,iBACA,UACA,SACA,cACA,UACA,eACA,UACA,SACA,aACA,oBACA,oBACA,gBACA,gBACA,qBACA,aACA,eACA,cACA,YACA,cACA,aACA,mBACA,sBACA,cACA,iBACA,gBACA,cACA,aACA,cACA,eACA,oBACA,gCACA,cACA,WACA,oBACA,oBACA,aACA,YACA,eACA,aACA,aACA,MACA,WACA,iBACA,aACA,QACA,OACA,QACA,OACA,SACA,OACA,aACA,KACA,YACA,YACA,iBACA,SACA,MACA,QACA,OACA,QACA,OACA,QACA,WACA,WACA,WACA,kBACA,QACA,MACA,cACA,eACA,YACA,cACA,YACA,gBACA,cACA,aACA,YACA,MACA,YACA,cACA,MACA,MACA,SACA,MACA,QACA,YACA,kBACA,aACA,eACA,aACA,MACA,SACA,WACA,aACA,MACA,YACA,QACA,SACA,MACA,eACA,KACA,MACA,eACA,aACA,cACA,KACA,QACA,UACA,WACA,MACA,QACA,uBACA,eACA,UACA,QACA,UACA,OACA,eACA,OACA,SACA,eACA,cACA,iBACA,gBACA,oBACA,eACA,SACA,UACA,UACA,QACA,QACA,gBACA,QACA,YACA,aACA,OACA,QACA,SACA,cACA,SACA,eACA,OACA,OACA,OACA,MACA,QACA,UACA,cACA,kBACA,QACA,OACA,UACA,cACA,eACA,YACA,YACA,qBACA,cACA,aACA,cACA,gBACA,aACA,gBACA,eACA,cACA,cACA,qBACA,cACA,cACA,YACA,kBACA,qBACA,aACA,sBACA,qBACA,eACA,kBACA,qBACA,kBACA,iBACA,uBACA,mBACA,kBACA,gBACA,cACA,aACA,cACA,aACA,oBACA,cACA,YACA,kBACA,iBACA,0BACA,2BACA,qBACA,eACA,kBACA,mBACA,kBACA,oBACA,mBACA,mBACA,kBACA,mBACA,qBACA,eACA,cACA,qBACA,sBACA,mBACA,kBACA,YACA,kBACA,iBACA,cACA,UACA,gBACA,YACA,mBACA,aACA,eACA,WACA,cACA,YACA,OACA,OACA,mBACA,wBACA,MACA,SACA,aACA,cACA,cACA,SACA,UACA,SACA,YACA,kBACA,UACA,MACA,UACA,cACA,MACA,OACA,cACA,cACA,WACA,YACA,eACA,gBACA,YACA,UACA,aACA,OACA,WACA,QACA,aACA,sBACA,QACA,iBACA,YACA,QACA,OACA,WACA,WACA,gBACA,OACA,aACA,cACA,6BACA,SACA,UACA,WACA,WACA,UACA,6BACA,oCACA,OACA,UACA,aACA,gBACA,MACA,OACA,cAu3BO,GAAA0N,YAAmC,CAAC,KAAM,KAAM,MAChD,GAAAuC,WAAa,CAAC,IAAK,QACnB,GAAAC,SAAW,CAAC,IAAK,OACjB,GAAAG,wBAA0B,CAAC,KAC3B,GAAAE,sBAAwB,GACxB,GAAAzB,iBAAmB,CAAC,KAAM,KAC1B,GAAAxB,iBAAmB,CAAE8B,OAAQ,MAC7B,GAAAY,UAAY,CAAC,KAAM,KAAM,KAAM,MAAO,KAAM,KAAM,KAAM,OCryChE,IAofqBqF,GAAA,a,2uBAapB,WACC,OAAO,IAAI9G,EAAU,CACpBuB,iBAAkBuF,EAAcvF,iBAChCC,uBAAwBsF,EAActF,uBACtCH,yBAA0ByF,EAAczF,yBACxCC,yBAA0BwF,EAAcxF,yBACxCxC,iBAAkBgI,EAAchI,iBAChCK,YAAa2H,EAAc3H,YAC3BuC,WAAYoF,EAAcpF,WAC1BC,SAAUmF,EAAcnF,SACxBK,sBAAuB8E,EAAc9E,sBACrCzB,iBAAkBuG,EAAcvG,iBAChCkB,UAAWqF,EAAcrF,iB,oBAzBP,CAAsBrL,G,+/BACnC,GAAAmL,iBA7FiB,CACxB,SACA,cACA,oBACA,cACA,qBACA,oBACA,kBACA,eACA,uBACA,eACA,eACA,SACA,kBACA,gBACA,aACA,qBACA,aACA,UACA,mBACA,UACA,QACA,QACA,SACA,QACA,UACA,SACA,uBACA,YACA,SACA,kBACA,SACA,oBACA,SAEA,aACA,OACA,WACA,SACA,cACA,MACA,QACA,SACA,OACA,WACA,qBACA,aACA,MACA,OACA,SACA,WACA,SACA,QACA,QAyCO,GAAAC,uBAjCuB,CAE9B,YACA,gBACA,qBACA,QACA,YACA,iBACA,SACA,aACA,kBACA,QACA,YACA,iBAEA,OACA,aACA,YACA,kBACA,aACA,oBAcO,GAAAH,yBANyB,CAAC,KAAM,OAAQ,OAAQ,QAOhD,GAAAC,yBAA2B,CAAC,MAAO,KAAM,OACzC,GAAAxC,iBAAmBrN,EAAO,GAAD,OAhRR,CACxB,MACA,QACA,UACA,MACA,QACA,KACA,MACA,KACA,QACA,UACA,SACA,UACA,QACA,SACA,QACA,KACA,OACA,OACA,OACA,UACA,UACA,aACA,SACA,YACA,UACA,WACA,YACA,aACA,QACA,SACA,UACA,WACA,UACA,YACA,UACA,YACA,UACA,OACA,WACA,WACA,KACA,OACA,OACA,UACA,QACA,UACA,SACA,QACA,QACA,SACA,QACA,UACA,QACA,YACA,MACA,QACA,MACA,WACA,SACA,QACA,SACA,MACA,OACA,KACA,SACA,QACA,KACA,UACA,YACA,QACA,SACA,QACA,OACA,KACA,YACA,aACA,MACA,OACA,WACA,QACA,WACA,OACA,OACA,UACA,QACA,OACA,MACA,MACA,UACA,UACA,eACA,UACA,YACA,KACA,KACA,MACA,OACA,QACA,SACA,SACA,SACA,SACA,UACA,QACA,SACA,QACA,OACA,QACA,YACA,WACA,OACA,OACA,YACA,UACA,UACA,YACA,QACA,YACA,SACA,QACA,MACA,QACA,SACA,SACA,UACA,SACA,YACA,QACA,OACA,WACA,MACA,OACA,YACA,SACA,QACA,OACA,OACA,OACA,QACA,aACA,SACA,SACA,OACA,KACA,OACA,cACA,UACA,OACA,WACA,YACA,QACA,SACA,UACA,QACA,MACA,OACA,QACA,WACA,QACA,SACA,MACA,OACA,QACA,SACA,SACA,QA/YyB,CACzB,QACA,MACA,OACA,UACA,YACA,YACA,eACA,YACA,sBACA,eACA,iBACA,cACA,iBACA,eACA,gBACA,eACA,eACA,kBACA,eACA,YACA,YACA,aACA,iBACA,gBACA,YACA,cACA,eACA,eACA,gBACA,gBACA,aACA,aACA,YACA,gBACA,iBACA,iBACA,cACA,OACA,OACA,QACA,MACA,SACA,gBACA,gBACA,UACA,YACA,UACA,SACA,UACA,YACA,WACA,UACA,OACA,cACA,eACA,YACA,WACA,YACA,WACA,SACA,UACA,WACA,iBACA,sBACA,wBACA,MACA,QACA,QACA,SACA,YACA,OACA,kBACA,eACA,mBACA,gBACA,kBACA,mBACA,gBACA,oBACA,iBACA,oBACA,iBACA,SACA,cACA,UACA,aACA,kBAEA,eACA,cACA,MACA,cACA,QACA,WACA,YACA,QACA,YACA,kBACA,QACA,aACA,SACA,UACA,UACA,SACA,WACA,YACA,WACA,WACA,WACA,MACA,aACA,OACA,QACA,SACA,KACA,MACA,QACA,QACA,MACA,OACA,SACA,OACA,SACA,kBACA,gBACA,eACA,gBACA,sBACA,MACA,YACA,QACA,WACA,YACA,aACA,UACA,SACA,UACA,YACA,QACA,SACA,MACA,OACA,aACA,gBACA,qBACA,sBACA,gBACA,eACA,eACA,aACA,gBACA,gBACA,iBACA,gBACA,gBACA,QACA,eACA,KACA,cACA,WACA,WACA,QACA,UACA,SACA,OACA,kBACA,kBACA,cACA,iBACA,kBACA,iBACA,eACA,iBACA,aACA,gBACA,iBACA,gBACA,cACA,SACA,UACA,UACA,QACA,aACA,QACA,SACA,cACA,eACA,OACA,MACA,QACA,OACA,SACA,aACA,cACA,kBACA,gBACA,YACA,aACA,mBACA,SACA,WACA,MACA,MACA,QACA,UACA,SACA,YACA,SACA,SACA,WACA,WACA,WACA,OACA,QAEA,QACA,OACA,WACA,eACA,gBACA,UACA,WACA,iBACA,iBA0RO,GAAA0N,YAAmC,CAAC,KAAM,KAAM,MAChD,GAAAuC,WAAa,CAAC,IAAK,IAAK,IAAK,QAC7B,GAAAC,SAAW,CAAC,IAAK,IAAK,IAAK,OAC3B,GAAAK,sBAAwB,CAAC,KACzB,GAAAzB,iBAAmB,CAAC,IAAK,MACzB,GAAAkB,UAAY,CAAC,MChgBrB,IAgbqBsF,GAAA,a,2uBAyBpB,WACC,OAAO,IAAI/G,EAAU,CACpBuB,iBAAkBwF,EAAexF,iBACjCC,uBAAwBuF,EAAevF,uBACvCH,yBAA0B0F,EAAe1F,yBACzCC,yBAA0ByF,EAAezF,yBACzCxC,iBAAkBiI,EAAejI,iBACjCK,YAAa4H,EAAe5H,YAC5BuC,WAAYqF,EAAerF,WAC3BC,SAAUoF,EAAepF,SACzBG,wBAAyBiF,EAAejF,wBACxCE,sBAAuB+E,EAAe/E,sBACtCzB,iBAAkBwG,EAAexG,iBACjCxB,iBAAkBgI,EAAehI,iBACjC0C,UAAWsF,EAAetF,c,2BAI5B,SAAchO,G,UAEb,MACiB,MAAhBA,EAAMjC,QACe,QAArB,EAAAyB,KAAK4H,wBAAgB,eAAErJ,MAAMwV,WAAW,QAClB,QAAtB,EAAA/T,KAAK0H,yBAAiB,eAAEnJ,MAAMmK,SAAS,MAGhC,CAAEjI,KAAMb,EAAU0H,SAAU/I,MAAOiC,EAAMjC,OAI7CqC,EAAQkB,IAAItB,IAAUI,EAAQS,GAAGrB,KAAK6D,uBAClC,CAAEpD,KAAMb,EAAUkB,iBAAkBvC,MAAOiC,EAAMjC,OAIrDqC,EAAQc,QAAQlB,KAA+B,QAArB,EAAAR,KAAK4H,wBAAgB,eAAEnH,QAASb,EAAUuB,YAEhE,CAAEV,KAAMb,EAAUoB,0BAA2BzC,MAAOiC,EAAMjC,OAG3DiC,O,oBAjEY,CAAuB2C,G,ovDACpC,GAAAmL,iBA/EiB,CACxB,MACA,eACA,cACA,QACA,aACA,eACA,aACA,UAEA,SACA,MACA,SACA,YACA,cACA,OACA,WACA,SACA,cACA,SACA,QACA,SACA,OACA,SACA,WACA,SACA,qBACA,aACA,MACA,aACA,SACA,SACA,QACA,QA+CO,GAAAC,uBAvCuB,CAE9B,YACA,gBACA,qBACA,QACA,YACA,iBACA,SACA,aACA,kBACA,QACA,YACA,iBAEA,OACA,aACA,YACA,kBACA,aACA,mBACA,YACA,kBACA,aACA,eAEA,cACA,eAaO,GAAAH,yBALyB,CAAC,KAAM,OAAQ,OAAQ,QAMhD,GAAAC,yBAA2B,CAAC,MAAO,KAAM,OACzC,GAAAxC,iBAAmBrN,EArbF,CAExB,aACA,QACA,YACA,MACA,QACA,MACA,QACA,KACA,MACA,KACA,YACA,SACA,MACA,UACA,aACA,SACA,iBACA,YACA,QACA,OACA,UACA,OACA,QACA,UACA,OACA,KACA,OAEA,OACA,UACA,UACA,OACA,OACA,YACA,UACA,cACA,YACA,YACA,QACA,YACA,QACA,QACA,UACA,WACA,WACA,UACA,UACA,UACA,UACA,SACA,YACA,WACA,WACA,UACA,WACA,cACA,UACA,WACA,UACA,QACA,QACA,SACA,aACA,UACA,UACA,SACA,cACA,WACA,OACA,OACA,YACA,MACA,UACA,UACA,SACA,QACA,OACA,gBACA,YACA,WACA,KACA,SACA,OACA,WACA,UACA,QACA,QACA,SACA,aACA,YACA,UACA,SACA,OACA,UACA,WACA,UACA,QACA,QACA,QACA,QACA,QACA,QACA,MACA,SACA,QACA,WACA,UACA,OACA,QACA,QACA,OACA,OACA,SACA,OACA,aACA,KACA,YACA,KACA,YACA,QACA,UACA,YACA,UACA,WACA,eACA,MACA,UACA,YACA,WACA,OACA,aACA,KACA,YACA,OACA,WACA,QACA,UACA,SACA,QACA,UACA,OACA,QACA,QACA,QACA,UACA,QACA,OACA,OACA,MACA,MACA,SACA,SACA,QACA,MACA,SACA,WACA,MACA,OACA,QACA,WACA,OACA,MACA,WACA,SACA,UACA,WACA,QACA,MACA,UACA,aACA,SACA,MACA,SACA,OACA,SACA,SACA,cACA,SACA,UACA,UACA,cACA,cACA,cACA,gBACA,YACA,SACA,SACA,eACA,WACA,YACA,UACA,KACA,MACA,OACA,SACA,OACA,WACA,SACA,SACA,UACA,QACA,eACA,SACA,UACA,SACA,MACA,WACA,aACA,UACA,kBACA,YACA,aACA,SACA,YACA,SACA,UACA,OACA,YACA,cACA,YACA,WACA,YACA,SACA,YACA,QACA,UACA,YACA,SACA,QACA,QACA,MACA,OACA,OACA,SACA,MACA,YACA,UACA,YACA,MACA,YACA,SACA,WACA,SACA,eACA,SACA,YACA,UACA,SACA,WACA,MACA,QACA,SACA,UACA,SACA,OACA,YACA,MACA,MACA,MACA,SACA,SACA,UACA,OACA,WACA,WACA,eACA,QACA,QACA,OACA,SACA,WACA,OACA,QACA,SACA,MACA,UACA,UACA,UACA,UACA,WACA,WACA,QACA,SACA,SACA,SACA,SACA,SACA,QACA,cACA,eACA,gBACA,UACA,aACA,MACA,UACA,UACA,UACA,QACA,MACA,MACA,OACA,YACA,gBACA,gBACA,kBACA,kBACA,KACA,WACA,cACA,gBACA,UACA,OACA,UACA,OACA,MACA,MACA,MACA,MACA,QACA,SACA,SACA,WACA,YACA,MACA,OACA,QACA,WACA,SACA,QACA,UACA,WACA,WACA,WACA,SACA,UACA,OACA,QACA,OACA,WACA,QACA,OACA,UACA,QACA,OACA,SA4FO,GAAA0N,YAAmC,CAAC,KAAM,MAAO,KAAM,MACvD,GAAAuC,WAAa,CAAC,IAAK,QACnB,GAAAC,SAAW,CAAC,IAAK,OACjB,GAAAG,wBAA0B,CAAC,KAC3B,GAAAE,sBAAwB,CAAC,KACzB,GAAAzB,iBAAmB,CAAC,MACpB,GAAAxB,iBAAmB,CAAEkC,IAAK,SAC1B,GAAAQ,UAAY,CAClB,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MCpcF,IAunDqBwF,GAAA,a,2uBAiBpB,WACC,OAAO,IAAIjH,EAAU,CACpBuB,iBAAkB0F,EAAoB1F,iBACtCC,uBAAwByF,EAAoBzF,uBAC5CH,yBAA0B4F,EAAoB5F,yBAC9CC,yBAA0B2F,EAAoB3F,yBAC9CxC,iBAAkBmI,EAAoBnI,iBACtCK,YAAa8H,EAAoB9H,YACjCuC,WAAYuF,EAAoBvF,WAChCC,SAAUsF,EAAoBtF,SAC9BG,wBAAyBmF,EAAoBnF,wBAC7CE,sBAAuBiF,EAAoBjF,sBAC3CzB,iBAAkB0G,EAAoB1G,iBACtCkB,UAAWwF,EAAoBxF,c,2BAIjC,SAAchO,G,MAEb,OAAII,EAAQc,QAAQlB,KAA+B,QAArB,EAAAR,KAAK4H,wBAAgB,eAAEnH,QAASb,EAAUuB,YAEhE,CAAEV,KAAMb,EAAUoB,0BAA2BzC,MAAOiC,EAAMjC,OAG3DiC,O,oBAzCY,CAA4B2C,G,ovDACzC,GAAAmL,iBA7RiB,CACxB,QACA,kBACA,kBACA,mBACA,iBACA,2BACA,eACA,sBACA,kBACA,6BACA,sBACA,iBACA,cACA,cACA,iBACA,qBACA,0BACA,iBACA,uBACA,wBACA,eACA,kBACA,oBACA,aACA,gBACA,aACA,eACA,iBACA,eACA,mBACA,qBACA,eACA,cACA,mBACA,kCACA,+BACA,2BACA,6BACA,gBACA,aACA,aACA,qBACA,aACA,UACA,QACA,OACA,aACA,QACA,UACA,UACA,SACA,kBACA,OACA,uBACA,mBACA,cACA,mBACA,oBACA,kBACA,gBACA,uBACA,mBACA,8BACA,uBACA,kBACA,eACA,eACA,kBACA,2BACA,kBACA,wBACA,yBACA,gBACA,mBACA,qBACA,cACA,cACA,gBACA,kBACA,gBACA,oBACA,sBACA,eACA,kBACA,oBACA,mCACA,gCACA,4BACA,8BACA,mBACA,iBACA,cACA,cACA,sBACA,cACA,aACA,UACA,SACA,UACA,KACA,qBACA,iBACA,YACA,iBACA,kBACA,gBACA,cACA,qBACA,iBACA,4BACA,qBACA,gBACA,aACA,aACA,gBACA,yBACA,gBACA,sBACA,uBACA,aACA,cACA,iBACA,mBACA,YACA,eACA,YACA,cACA,gBACA,cACA,kBACA,oBACA,aACA,kBACA,iCACA,8BACA,0BACA,4BACA,iBACA,eACA,YACA,YACA,oBACA,YACA,MACA,UACA,UACA,QACA,QACA,wBACA,SACA,SACA,OACA,OACA,OACA,SACA,UACA,sBACA,iBACA,4BACA,UACA,oBACA,QACA,SACA,WACA,oBACA,wBACA,YACA,iBACA,SACA,cACA,MACA,kBACA,WACA,4BACA,kBACA,OACA,oBACA,WACA,WACA,SACA,SACA,SAEA,MACA,QACA,eACA,cACA,aACA,OACA,WACA,SACA,QACA,SACA,WACA,QACA,QA0FO,GAAAC,uBAlFuB,CAE9B,YACA,gBACA,qBACA,QACA,YACA,iBACA,SACA,aACA,kBACA,QACA,YACA,iBAEA,OACA,aACA,YACA,kBACA,aACA,mBACA,YACA,kBACA,aACA,gBA2DO,GAAAH,yBAnDyB,CAAC,KAAM,OAAQ,OAAQ,OAAQ,WAoDxD,GAAAC,yBAA2B,CAAC,MAAO,MACnC,GAAAxC,iBAAmBrN,EAAO,GAAD,UAC5BZ,OAAO6P,OA7nDc,CAEzBwD,KAAM,CACL,MACA,OACA,QACA,QACA,OACA,QACA,QACA,OACA,QACA,SACA,QACA,QACA,OACA,OACA,UACA,MACA,OACA,OACA,MACA,OACA,UACA,MACA,MACA,YACA,QACA,MACA,MACA,KACA,MACA,QACA,YACA,MACA,KACA,QACA,UACA,SACA,QACA,QACA,UACA,OACA,MACA,OACA,OACA,OACA,MACA,OACA,OACA,aACA,QACA,gBAGDlS,OAAQ,CACP,MACA,QACA,aACA,QACA,mBACA,cACA,MACA,SACA,YACA,SACA,UACA,OACA,SACA,QACA,OACA,QACA,MACA,YACA,eACA,UACA,cACA,qBACA,WACA,cACA,gBACA,iBACA,eACA,iBACA,iBACA,wBACA,wBACA,SACA,UACA,UACA,QACA,OACA,QACA,aACA,UACA,cACA,aACA,kBACA,kBACA,SACA,SACA,YACA,WACA,SACA,YACA,OACA,SACA,SAGDkV,OAAQ,CACP,YACA,aACA,QACA,UACA,eACA,aACA,SACA,SACA,UACA,WACA,SACA,QACA,MACA,eACA,UACA,WACA,QACA,UACA,WACA,SACA,SACA,SACA,SACA,aACA,SACA,YACA,QAGDC,UAAW,CACV,YACA,aACA,UACA,SACA,eACA,UACA,WACA,UACA,aAGDxH,QAAS,CACR,eACA,iBACA,iBACA,wBACA,yBAGDyH,SAAU,CAAC,UAAW,UAAW,YAAa,gBAE9C1D,SAAU,CAET,kBACA,eACA,eACA,oBACA,WACA,YACA,aACA,UACA,WACA,eACA,gBACA,mBACA,YACA,iBACA,YACA,gBACA,YACA,iBACA,mBACA,MACA,WACA,eACA,iBACA,sBACA,YACA,eACA,yBAGD2D,KAAM,CAAC,aAAc,YAAa,cAElCC,SAAU,CACT,OACA,YACA,MACA,SACA,SACA,WACA,WACA,SACA,WACA,SACA,SACA,OACA,OACA,UACA,OACA,SACA,QACA,UACA,QACA,SACA,QACA,SAGDC,QAAS,CACR,SACA,YACA,SACA,OACA,WACA,aACA,mBACA,mBACA,UACA,UACA,UACA,cACA,OACA,SAGDC,WAAY,CACX,oBACA,wBACA,oBACA,mBACA,SACA,UACA,mBACA,kBACA,YACA,YACA,QACA,aACA,cACA,iBACA,oBACA,WACA,YACA,YACA,cACA,YACA,WACA,UACA,aACA,aACA,UACA,gBACA,wBAGD9C,KAAM,CAAC,QAEP+C,IAAK,CACJ,gBACA,sBACA,kBACA,wBACA,gCACA,UACA,eACA,qBACA,6BACA,gBACA,sBACA,8BACA,SACA,eACA,qBACA,6BACA,SACA,aACA,YACA,aACA,YACA,YACA,WACA,QACA,UACA,eACA,WACA,qBACA,6BACA,8BACA,QACA,gBAGDxD,KAAM,CACL,gBACA,YACA,uBACA,4BACA,qBACA,oBACA,qBACA,aACA,kBACA,qBACA,0BACA,eACA,eACA,mBACA,oBACA,oBACA,uBACA,mBACA,sBACA,mBACA,yBACA,4BACA,yBACA,4BACA,sBACA,wBACA,2BACA,eACA,YACA,gBACA,oBACA,kBACA,qBACA,eACA,WACA,sBACA,2BACA,oBACA,mBACA,oBACA,YACA,iBACA,oBACA,yBACA,cACA,kBACA,mBACA,uBACA,0BACA,mBACA,iBACA,oBACA,cACA,cACA,UACA,WACA,gBAGDyD,SAAU,CAAC,UAAW,UAAW,UAAW,UAE5C/C,YAAa,CAEZ,WACA,WACA,QACA,UAGDrB,MAAO,CACN,YACA,eACA,YACA,aACA,aACA,eACA,cACA,cACA,iBACA,kBACA,gBACA,eACA,gBACA,kBACA,cACA,cACA,kBACA,aACA,UAGDqE,MAAO,CACN,UACA,QACA,YACA,YACA,aACA,cACA,QACA,YACA,aAGDvE,UAAW,CACV,MACA,YACA,MACA,UACA,SACA,UACA,WACA,UACA,WACA,OACA,QACA,YACA,aACA,YACA,aACA,QACA,WACA,YACA,mBACA,WACA,kBACA,MACA,MACA,OACA,kBACA,kBACA,eACA,YACA,sBACA,OACA,YACA,YACA,aACA,iBACA,UACA,aACA,WACA,WACA,WACA,OACA,SACA,aACA,cACA,aACA,MACA,UACA,WACA,WACA,UACA,WACA,UAGDwE,OAAQ,CACP,YACA,aACA,cACA,MACA,aACA,OACA,YACA,QACA,eACA,OACA,cAGDC,IAAK,CAAC,kBAAmB,uBAEzBC,QAAS,CACR,aACA,aACA,kBACA,kBACA,mBACA,gBACA,eACA,iBACA,kBACA,eACA,cACA,2BACA,uBACA,yBACA,qCACA,yBACA,yBACA,uBACA,yBACA,uBACA,2BACA,sBACA,qBACA,mBACA,mBACA,mBACA,mBACA,cACA,kBACA,iBACA,mBACA,0BACA,oBACA,wBACA,kBACA,oBACA,2BACA,qBACA,sBACA,qBACA,iCACA,qBACA,yBACA,8BACA,uBACA,cACA,qBACA,4BACA,qCACA,yBACA,kBACA,kBACA,wBACA,wBACA,iBACA,yBACA,0BACA,oBACA,kBACA,iBACA,cACA,qBACA,gCACA,0BACA,+BACA,wBACA,0BACA,mBACA,yBACA,wBACA,oBACA,8BACA,wBACA,yBACA,yBACA,sBACA,2BACA,iCACA,kBACA,mBACA,mBACA,+BACA,0BACA,yBACA,sBACA,mBACA,0BACA,wBACA,0BACA,4BACA,YACA,qBACA,yBACA,2BACA,kCACA,iBACA,kBACA,sBACA,eACA,oBACA,cACA,kBACA,kBACA,aACA,iBACA,aACA,kBACA,aACA,aACA,eACA,2BACA,wBACA,oBACA,qBACA,qBACA,cACA,2BACA,OACA,WAGDC,SAAU,CACT,yBACA,4BACA,uBACA,eACA,kBACA,yBACA,mBACA,0BACA,qBACA,yBACA,4BACA,wBACA,+BACA,uBACA,oBACA,8BACA,wBACA,iBACA,mCACA,oCACA,qCACA,sCACA,0BACA,2BACA,4BACA,qBACA,mBACA,2BACA,qBACA,uBACA,gCACA,8BACA,kBACA,kBACA,oBACA,0BACA,0BACA,yBACA,gCACA,0BACA,qCACA,8BACA,sCACA,+BACA,iCACA,0BACA,YACA,eACA,eACA,eACA,yBACA,oBACA,oBACA,aACA,sBACA,eACA,uBACA,uBACA,mBACA,iBACA,gCACA,+BACA,6BACA,4BACA,iCACA,yCACA,yCACA,sCACA,sCACA,mCACA,mCACA,8BACA,oBACA,gBACA,iBACA,kBACA,eACA,iBACA,gBACA,qBACA,gBACA,uBACA,yBACA,uBACA,8BACA,4BACA,mCACA,kBACA,yBACA,kBACA,sBACA,uBACA,cAGDC,QAAS,CACR,qCACA,0BACA,kCAGDC,aAAc,CACb,gCACA,mCACA,qCACA,wCACA,yBAGDC,MAAO,CAAC,uBAu7B6BzV,QAAO,SAAC2J,EAAK1K,GAAN,mBAAkB0K,GAAlB,GAA0B1K,MAAM,KA96BpD,CACxB,SACA,WACA,SACA,YACA,SACA,MACA,QACA,YACA,MACA,WACA,OACA,QACA,SACA,UACA,MACA,QACA,wBACA,KACA,MACA,aACA,YACA,aACA,aACA,KACA,SACA,SACA,YACA,aACA,gBACA,WACA,SACA,SACA,cACA,kBACA,YACA,UACA,SACA,SACA,MACA,OACA,UACA,MACA,UACA,OACA,UACA,KACA,QACA,SACA,UACA,WACA,OACA,UACA,eACA,QACA,WACA,OACA,YACA,kBACA,aACA,wBACA,qBACA,uBACA,QACA,QACA,aACA,eACA,OACA,QACA,UACA,YACA,oBACA,iBACA,mBACA,UACA,SACA,UACA,cACA,mBACA,wBACA,WACA,YACA,cACA,eACA,YACA,cACA,mBACA,gBACA,WACA,UACA,aACA,kBACA,aACA,cACA,qBACA,kBACA,oBACA,cACA,WACA,UACA,WACA,UACA,aACA,gBACA,OACA,SACA,QACA,MACA,OACA,UACA,kCACA,eACA,cACA,mCACA,SACA,cACA,QACA,OACA,WACA,WACA,OACA,yBACA,8BACA,MACA,KACA,MACA,WACA,UACA,UACA,WACA,aACA,WACA,SACA,UACA,UACA,SACA,YACA,aACA,UACA,QACA,QACA,UACA,OACA,WACA,aACA,SACA,gBACA,cACA,aACA,UACA,aACA,WACA,WACA,YACA,iBACA,gBACA,oBACA,qBACA,YACA,gBACA,iBACA,cACA,cACA,UACA,WACA,SACA,SACA,OACA,UACA,mBACA,wBACA,OACA,UACA,QACA,SACA,WACA,YACA,WACA,YACA,gBACA,WACA,OACA,SACA,QACA,SACA,QACA,YACA,UACA,YACA,YACA,OACA,SACA,aACA,YACA,WACA,QACA,OACA,SACA,QACA,WACA,SACA,QACA,OACA,QACA,YACA,MACA,QACA,UACA,UACA,UACA,QACA,YACA,OACA,SACA,KACA,UACA,OACA,WACA,YACA,SACA,UACA,YACA,MACA,SACA,KACA,OACA,UACA,QACA,SACA,UACA,SACA,MACA,YACA,OACA,OAEA,WACA,KACA,SACA,QACA,YACA,cACA,YACA,iBACA,WACA,SACA,KACA,UACA,YACA,YACA,SACA,QACA,UACA,YACA,UACA,WACA,UACA,YACA,SACA,QACA,QACA,QACA,cACA,WACA,eACA,UACA,MACA,UACA,YACA,eACA,WACA,OACA,UACA,KACA,SACA,YACA,OACA,aACA,gBACA,cACA,iBACA,aACA,aACA,uBACA,aACA,OACA,MACA,OACA,aACA,WACA,QACA,WACA,QACA,OACA,UACA,YACA,QACA,UACA,OACA,aACA,OACA,UACA,QACA,WACA,UACA,SACA,SACA,MACA,UACA,QACA,UACA,UACA,eACA,kBACA,eACA,WACA,WACA,SACA,QACA,iBACA,uBACA,eACA,SACA,SACA,WACA,WACA,SACA,QACA,OACA,WACA,QACA,OACA,QACA,YACA,WACA,UACA,QACA,QACA,SACA,UACA,MACA,OACA,MACA,MACA,OACA,OACA,MACA,KACA,OACA,aACA,MACA,UACA,UACA,SACA,OACA,WACA,QACA,SACA,UACA,SACA,oBACA,SACA,KACA,MACA,SACA,OACA,MACA,OACA,MACA,OACA,OACA,WACA,SACA,UACA,QACA,WACA,aACA,SACA,MACA,QACA,SACA,OACA,WACA,WACA,aACA,QACA,QACA,MACA,WACA,YACA,iBACA,iBACA,6BACA,6BACA,0BACA,4BACA,SACA,UACA,YACA,SACA,OACA,UACA,cACA,WACA,OACA,UACA,MACA,UACA,SACA,aACA,UACA,UACA,OACA,QACA,MACA,SACA,UACA,iBACA,WACA,YACA,YACA,WACA,WACA,UACA,QACA,UACA,aACA,aACA,YACA,aACA,UACA,QACA,MACA,SACA,cACA,QACA,SACA,QACA,OACA,QACA,OACA,WACA,UACA,WACA,YACA,MACA,aACA,cACA,UACA,WACA,UACA,SACA,aACA,UACA,YACA,UACA,UACA,UACA,WACA,SACA,SACA,uBACA,kBACA,wBACA,oBACA,YACA,UACA,OACA,SACA,UACA,WACA,kBACA,eACA,iBACA,MACA,OACA,YACA,OACA,UACA,SACA,SACA,UACA,cACA,QACA,gBACA,aACA,eACA,SACA,SACA,SACA,UACA,WACA,OACA,YACA,OACA,YACA,WACA,YACA,eACA,SACA,cACA,UACA,QACA,OACA,QACA,UACA,SACA,OACA,OACA,WACA,WACA,SACA,QACA,WACA,eACA,gBACA,MACA,UACA,WACA,eACA,WACA,aACA,SACA,aACA,QACA,QACA,YACA,SACA,aACA,QACA,SACA,UACA,SACA,SACA,YACA,QACA,kBACA,cACA,eACA,SACA,kBACA,WACA,UACA,YACA,QACA,SACA,cACA,cACA,QACA,SACA,cACA,aACA,aACA,OACA,WACA,YACA,UACA,OACA,OACA,YACA,gBACA,kBACA,KACA,QACA,kBACA,WACA,cACA,yBACA,2BACA,qBACA,YACA,aACA,kBACA,cACA,QACA,UACA,kBACA,eACA,iBACA,OACA,UACA,OACA,QACA,UACA,YACA,cACA,gBACA,QACA,cACA,SACA,UACA,SACA,WACA,YACA,UACA,QACA,UACA,MACA,QACA,4BACA,yBACA,yBACA,2BACA,QACA,QACA,QACA,OACA,QACA,WACA,YACA,QACA,WACA,YACA,UACA,WACA,UACA,UACA,aACA,OACA,QACA,WACA,WACA,aACA,SACA,SACA,UACA,OACA,UACA,QACA,MACA,gBACA,YACA,UACA,iBACA,cACA,aACA,gBACA,WACA,YACA,UACA,cACA,OACA,MACA,UA8SO,GAAAyN,YAAmC,CAAC,KAAM,KAAM,OAAQ,OAAQ,KAAM,MACtE,GAAAuC,WAAa,CAAC,IAAK,QACnB,GAAAC,SAAW,CAAC,IAAK,OACjB,GAAAG,wBAA0B,CAAC,KAC3B,GAAAE,sBAAwB,CAAC,KACzB,GAAAzB,iBAAmB,CAAC,MACpB,GAAAkB,UA7DgB,CACvB,KACA,KACA,MACA,KACA,KACA,KACA,MACA,KACA,KACA,MACA,KACA,OACA,MACA,KACA,MACA,KACA,KACA,KACA,MACA,KACA,KACA,MACA,KACA,KACA,KACA,MACA,MACA,MACA,MACA,KACA,KACA,KACA,KACA,KACA,MACA,MACA,KACA,KACA,KACA,MACA,MACA,OCrnDD,IAmsBqB0G,GAAA,a,2uBAiBpB,WACC,OAAO,IAAInI,EAAU,CACpBuB,iBAAkB4G,EAAkB5G,iBACpCC,uBAAwB2G,EAAkB3G,uBAC1CH,yBAA0B8G,EAAkB9G,yBAC5CC,yBAA0B6G,EAAkB7G,yBAC5CxC,iBAAkBqJ,EAAkBrJ,iBACpCK,YAAagJ,EAAkBhJ,YAC/BuC,WAAYyG,EAAkBzG,WAC9BC,SAAUwG,EAAkBxG,SAC5BG,wBAAyBqG,EAAkBrG,wBAC3CE,sBAAuBmG,EAAkBnG,sBACzCzB,iBAAkB4H,EAAkB5H,iBACpCkB,UAAW0G,EAAkB1G,iB,oBA9BX,CAA0BrL,G,ovDACvC,GAAAmL,iBA3IiB,CACxB,QACA,iBACA,kBACA,2BACA,cACA,0BACA,kBACA,eACA,cACA,qBACA,aACA,UACA,UACA,sBACA,sBACA,QACA,OACA,SACA,QACA,UACA,SACA,OACA,kBACA,mBACA,2BACA,yBACA,wBACA,kBACA,eACA,iBACA,2BACA,eACA,mBACA,gBACA,eACA,kBACA,cACA,cACA,aACA,UACA,SACA,iBACA,gBACA,iBACA,gBACA,aACA,eACA,aACA,yBACA,iBACA,cACA,aACA,YACA,YACA,OACA,MACA,UACA,UACA,QACA,OACA,QACA,SACA,SACA,OACA,UACA,4BACA,QACA,SACA,WACA,SACA,cACA,MACA,4BACA,8BACA,OACA,sBACA,aACA,kBACA,iBACA,aACA,YACA,oBACA,WACA,SACA,SACA,SACA,QACA,OAEA,WACA,WACA,QACA,SACA,SACA,SACA,cACA,eACA,cA0CO,GAAAC,uBAlCuB,CAE9B,YACA,gBACA,qBACA,QACA,YACA,iBACA,SACA,aACA,kBAEA,OACA,aACA,YACA,kBACA,aACA,mBACA,YACA,kBACA,aACA,gBAcO,GAAAH,yBANyB,CAAC,KAAM,OAAQ,OAAQ,QAOhD,GAAAC,yBAA2B,CAAC,MAAO,MACnC,GAAAxC,iBAAmBrN,EAAO,GAAD,UAC5BZ,OAAO6P,OAzsBc,CAEzB0C,UAAW,CACV,YACA,8BACA,MACA,QACA,UACA,MACA,SACA,MACA,kBACA,cACA,aACA,MACA,WACA,WAGDE,MAAO,CACN,QACA,eACA,gBACA,mBACA,iBACA,YAGDC,QAAS,CAAC,UAAW,SAAU,WAAY,WAE3CoB,YAAa,CAAC,OAAQ,WAAY,SAAU,WAAY,QAAS,MAAO,OAAQ,UAEhFyD,SAAU,CACT,aACA,eACA,mBACA,eACA,eACA,oBACA,WACA,qBACA,uBACA,iBACA,UACA,WACA,YACA,aACA,UACA,UACA,eACA,WACA,iBACA,WACA,UACA,YACA,gBACA,qBACA,4BACA,kBACA,uBACA,4BACA,WACA,eACA,SAGDC,QAAS,CACR,UACA,WACA,eACA,cACA,WACA,UACA,cACA,YACA,YACA,eACA,YACA,aACA,cACA,aACA,cACA,sBACA,gBACA,eACA,YACA,aACA,eACA,cACA,cACA,oBACA,aACA,cACA,cACA,YACA,kBACA,aACA,aACA,cACA,cACA,aACA,eACA,kBACA,kBACA,kBACA,kBACA,iBACA,mBACA,gBACA,kBACA,iBACA,cACA,kBACA,aACA,cACA,aACA,YACA,kBACA,cACA,wBACA,0BACA,OACA,kBACA,cACA,eACA,iBACA,aACA,UACA,UACA,WACA,WACA,aACA,YACA,mBACA,sBACA,eACA,eACA,iBACA,WACA,YACA,YACA,aACA,iBACA,aACA,cACA,aACA,cACA,UACA,gBACA,aACA,YACA,OACA,UACA,UACA,OACA,UACA,UACA,OACA,UACA,UACA,gBAGDvE,KAAM,CAAC,WAAY,YAAa,WAAY,MAAO,MAAO,OAAQ,QAElEwE,YAAa,CAAC,MAAO,oBAAqB,kBAAmB,eAE7DrE,KAAM,CACL,gBACA,sBACA,oBACA,kCACA,yBACA,aACA,kBAGDC,KAAM,CACL,MACA,OACA,OACA,OACA,QACA,OACA,UACA,OACA,MACA,MACA,UACA,OACA,QACA,SACA,MACA,QACA,KACA,MACA,MACA,KACA,QACA,UACA,SACA,QACA,MACA,OACA,OACA,MACA,SACA,SAGDqE,gBAAiB,CAAC,iBAElBvW,OAAQ,CACP,QACA,YACA,QACA,qBACA,cACA,mBACA,YACA,MACA,UACA,SACA,QACA,aACA,UACA,OACA,QACA,MACA,SACA,QACA,OACA,OACA,QACA,aACA,eACA,WACA,cACA,gBACA,eACA,eACA,iBACA,gBACA,SACA,UACA,YACA,UACA,QACA,UACA,aACA,SACA,SACA,YACA,UACA,YACA,OACA,SAGDwW,UAAW,CACV,oBACA,gBACA,WACA,YACA,aACA,UACA,aACA,WACA,aACA,YACA,YACA,cACA,aACA,eAGDZ,OAAQ,CACP,MACA,QACA,YACA,aACA,cACA,aACA,MACA,OACA,UACA,MACA,SACA,MACA,YACA,QACA,eACA,kBACA,kBACA,OACA,kBACA,aACA,cACA,aACA,MACA,WACA,WAGDa,SAAU,CACT,OACA,UACA,UACA,UACA,YACA,kBACA,uBAGDV,SAAU,CACT,wBACA,0BACA,uBACA,kBACA,oBACA,uBACA,iBACA,cAGDD,QAAS,CACR,sBACA,mBACA,oBACA,iBACA,kBACA,eACA,kBACA,2BACA,yBACA,uBACA,sBACA,iBACA,cACA,6BACA,0BACA,gCACA,qBACA,kBACA,oBACA,mBACA,uBACA,eACA,YACA,OACA,aA2WoCrV,QAAO,SAAC2J,EAAK1K,GAAN,mBAAkB0K,GAAlB,GAA0B1K,MAAM,KAD5C,GAE5Bb,OAAO6P,OAnWa,CAExB0F,SAAU,CACT,SACA,SACA,MACA,iBACA,MACA,QACA,KACA,MACA,gBACA,SACA,UACA,SACA,OACA,QACA,SACA,aACA,SACA,QACA,UACA,aACA,UACA,SACA,OACA,UACA,WACA,KACA,SACA,SACA,UACA,aACA,WACA,QACA,MACA,UACA,SACA,OACA,OACA,gBACA,gBACA,QACA,WACA,SACA,QACA,KACA,YACA,QACA,OACA,KACA,SACA,WACA,UACA,OACA,QACA,YACA,iBACA,MACA,OACA,QACA,UACA,MACA,MACA,UACA,OACA,QACA,MACA,UACA,SACA,MACA,MACA,OACA,OACA,QACA,QACA,WACA,WACA,YACA,UACA,cACA,UACA,UACA,UACA,aACA,YACA,SACA,UACA,UACA,UACA,WACA,OACA,SACA,QACA,MACA,OACA,YACA,KACA,MACA,WACA,OACA,SACA,QACA,UACA,SACA,WAGDsC,qBAAsB,CACrB,gBACA,iBACA,eACA,aACA,cACA,WACA,SACA,eACA,aACA,mBACA,eACA,UACA,eACA,UACA,aACA,aACA,mBAGDC,eAAgB,CAAC,WAAY,aAAc,WAAY,SAAU,cAEjEC,iBAAkB,CACjB,SACA,MACA,YACA,aACA,YACA,OACA,OACA,UACA,OAGDC,eAAgB,CACf,gBACA,cACA,YACA,WACA,uBACA,oBACA,iBAGDC,sBAAuB,CAAC,QAAS,OAAQ,OAAQ,QAEjDC,eAAgB,CAAC,WAAY,YAAa,SAAU,OAEpDC,qBAAsB,CACrB,MACA,OACA,WACA,QACA,WACA,MACA,UACA,WACA,WACA,YACA,UACA,WAEDlD,KAAM,CAEL,eACA,aACA,WACA,iBAEA,OACA,OACA,MACA,YAEA,cACA,gBASDmD,UAAW,CACV,OACA,YACA,QACA,UACA,oBACA,WACA,SACA,UA2JmCxW,QAAO,SAAC2J,EAAK1K,GAAN,mBAAkB0K,GAAlB,GAA0B1K,MAAM,OAEpE,GAAAyN,YAAmC,CAAC,KAAM,KAAM,MAChD,GAAAuC,WAAa,CAAC,KACd,GAAAC,SAAW,CAAC,KACZ,GAAAG,wBAA0B,CAAC,KAC3B,GAAAE,sBAAwB,CAAC,IAAK,IAAK,KACnC,GAAAzB,iBAAmB,CAAC,MACpB,GAAAkB,UAAY,CAAC,KAAM,MAAO,KAAM,KAAM,MChtB9C,IA8vBqByH,GAAA,a,2uBAiBpB,WACC,OAAO,IAAIlJ,EAAU,CACpBuB,iBAAkB2H,EAAkB3H,iBACpCC,uBAAwB0H,EAAkB1H,uBAC1CH,yBAA0B6H,EAAkB7H,yBAC5CC,yBAA0B4H,EAAkB5H,yBAC5CxC,iBAAkBoK,EAAkBpK,iBACpCK,YAAa+J,EAAkB/J,YAC/BuC,WAAYwH,EAAkBxH,WAC9BC,SAAUuH,EAAkBvH,SAC5BG,wBAAyBoH,EAAkBpH,wBAC3CE,sBAAuBkH,EAAkBlH,sBACzCzB,iBAAkB2I,EAAkB3I,iBACpCkB,UAAWyH,EAAkBzH,c,2BAI/B,SAAchO,G,YAEb,OAAII,EAAQoB,OAAOxB,KAA+B,QAArB,EAAAR,KAAK4H,wBAAgB,eAAEnH,QAASb,EAAUuB,YAE/D,CAAEV,KAAMb,EAAUkB,iBAAkBvC,MAAOiC,EAAMjC,OAIrDqC,EAAQU,IAAId,IAA4C,OAAZ,QAAtB,EAAAR,KAAK0H,yBAAiB,eAAEnJ,OAE1C,CAAEkC,KAAMb,EAAUsI,KAAM3J,MAAOiC,EAAMjC,QAIzC,SAASoC,KAAKH,EAAMjC,QAAUiC,EAAMC,OAASb,EAAUkB,kBAGxD,cAAcH,KAA2B,QAAtB,EAAAX,KAAK0H,yBAAiB,eAAEnJ,QAC3C,cAAcoC,KAA0B,QAArB,EAAAX,KAAK4H,wBAAgB,eAAErJ,OAQtCiC,EAJE,CAAEC,KAAMb,EAAUsI,KAAM3J,MAAOiC,EAAMjC,Y,oBAxD3B,CAA0B4E,G,+/BACvC,GAAAmL,iBA1IiB,CAExB,eACA,iBACA,cACA,aACA,kBACA,kBACA,eACA,cACA,gBACA,gBACA,aACA,YACA,eACA,iBACA,eAEA,cACA,mBACA,6BACA,OAEA,SACA,OACA,aACA,gBACA,eACA,WACA,SACA,SACA,QACA,SACA,WACA,UACA,cACA,QACA,QACA,YACA,UAEA,WACA,UACA,gBACA,cACA,cACA,oBACA,oBACA,iBACA,iBACA,YACA,WACA,UACA,gBACA,mBACA,QACA,MACA,aACA,eACA,oBACA,iBACA,iBACA,kBACA,sBACA,cACA,qBACA,aACA,gBAEA,OACA,SACA,SACA,UAmEO,GAAAC,uBA3DuB,CAE9B,YACA,gBACA,qBACA,QACA,YACA,iBACA,SACA,aACA,kBACA,QACA,YACA,iBAEA,OACA,aACA,YACA,kBACA,aACA,mBACA,YACA,kBACA,aACA,eAEA,cACA,cAEA,YACA,YACA,iBACA,iBACA,mBACA,kBACA,oBACA,0BACA,qBACA,yBACA,0BACA,yBACA,qBACA,2BACA,0BACA,oBACA,cACA,eAcO,GAAAH,yBANyB,CAAC,KAAM,OAAQ,OAAQ,OAAQ,gBAOxD,GAAAC,yBAA2B,CAAC,MAAO,KAAM,OACzC,GAAAxC,iBAAmBrN,EAAO,GAAD,UAC5BZ,OAAO6P,OApwBc,CAEzB0C,UAAW,CACV,MACA,wBACA,oBACA,MACA,UACA,SACA,UACA,WACA,UACA,eACA,cACA,OACA,QACA,QACA,QACA,WACA,mBACA,YACA,aACA,QACA,QACA,cACA,WACA,cACA,WACA,OACA,aACA,MACA,SACA,OACA,MACA,SACA,aACA,aACA,oBACA,WACA,OACA,MACA,SACA,aACA,cACA,MACA,UACA,WACA,YAGDwE,OAAQ,CACP,YACA,aACA,MACA,OACA,YACA,QACA,eACA,OACA,cAGDtE,MAAO,CACN,QACA,iBACA,iBACA,eACA,kBACA,aACA,YACA,YACA,iBACA,eACA,eACA,cACA,iBACA,aACA,UACA,WACA,UACA,QACA,cAGDnL,IAAK,CACJ,aACA,aACA,MACA,aACA,cACA,kBACA,mBACA,WACA,aACA,cAGDuL,SAAU,CACT,aACA,eACA,eACA,oBACA,oBACA,mBACA,WACA,cACA,sBACA,YACA,WACA,aACA,WACA,MACA,aACA,YACA,YACA,UACA,gBACA,qBACA,OACA,WACA,YACA,mBACA,gBACA,iBACA,mBACA,SACA,QACA,iBACA,WACA,MACA,UACA,SACA,iBACA,mBACA,mBACA,oBACA,UACA,eACA,oBACA,mBACA,QACA,YACA,cACA,cACA,eACA,iBACA,UACA,aACA,SACA,QAGDO,KAAM,CACL,YACA,kBACA,oBACA,mBACA,aACA,iBACA,WAGD6B,KAAM,CACL,MACA,OACA,QACA,YACA,aACA,QACA,OACA,QACA,cACA,OACA,QACA,QACA,SACA,SACA,MACA,SACA,YACA,UACA,aACA,UACA,SACA,QACA,cACA,OACA,OACA,UACA,OACA,cACA,mBACA,MACA,SACA,YACA,OACA,MACA,OACA,MACA,QACA,kBACA,mBACA,eACA,OACA,UACA,UACA,SAEA,MACA,MACA,QACA,YACA,cACA,QACA,QACA,SACA,gBACA,gBACA,WACA,SACA,OACA,MACA,QACA,UACA,SACA,eACA,0BACA,yBACA,kBACA,QACA,MACA,QACA,YACA,SACA,cACA,QACA,OACA,SACA,cACA,KACA,SACA,MACA,QACA,QACA,OACA,QACA,OACA,QACA,aACA,eACA,MACA,MACA,8BACA,eACA,QACA,WACA,MACA,OACA,eACA,UACA,YACA,KACA,OACA,aACA,mBACA,WACA,WACA,MACA,QACA,SACA,UACA,cACA,OACA,QACA,SACA,UACA,iBACA,qBACA,cACA,iBACA,SACA,UACA,UACA,QACA,OACA,QACA,OACA,QACA,gBACA,YACA,MACA,OACA,OACA,YACA,aACA,qBACA,OACA,SACA,MACA,OACA,WACA,UACA,QACA,qBACA,QACA,OACA,QACA,SACA,YACA,kBACA,MACA,OACA,YACA,UACA,SACA,iBACA,mBACA,YACA,OACA,UACA,aACA,SACA,QACA,WACA,QACA,QACA,OACA,UACA,eACA,QACA,gBACA,eACA,cACA,YACA,aACA,eACA,cACA,eACA,WACA,cAiboCrT,QAAO,SAAC2J,EAAK1K,GAAN,mBAAkB0K,GAAlB,GAA0B1K,MAAM,KAvapD,CACxB,MACA,QACA,MACA,QACA,UACA,MACA,OACA,MACA,UACA,QACA,KACA,MACA,KACA,gBACA,UACA,OACA,SACA,UACA,KACA,QACA,UACA,OACA,SACA,QACA,QACA,UACA,YACA,UACA,UACA,aACA,SACA,UACA,UACA,SACA,UACA,cACA,UACA,cACA,aACA,OACA,SACA,QACA,OACA,UACA,eACA,eACA,oBACA,eACA,OACA,WACA,YACA,MACA,eACA,UACA,SACA,YACA,OACA,WACA,MACA,cACA,YACA,WACA,aACA,MACA,OACA,SACA,UACA,SACA,WACA,SACA,SACA,WACA,WACA,UACA,QACA,QACA,SACA,SACA,aACA,QACA,cACA,YACA,MACA,UACA,SACA,YACA,OACA,WACA,YACA,SACA,QACA,QACA,WACA,OACA,KACA,SACA,SACA,KACA,QACA,UACA,QACA,SACA,cACA,YACA,WACA,OACA,KACA,QACA,OACA,OACA,aACA,UACA,OACA,UACA,OACA,OACA,QACA,OACA,QACA,WACA,OACA,QACA,UACA,QACA,MACA,UACA,QACA,SACA,QACA,OACA,YACA,aACA,UACA,KACA,MACA,OACA,QACA,KACA,OACA,SACA,UACA,KACA,QACA,MACA,QACA,eACA,OACA,WACA,UACA,YACA,QACA,YACA,cACA,aACA,UACA,UACA,WACA,YACA,UACA,aACA,aACA,QACA,QACA,QACA,eACA,eACA,UACA,SACA,aACA,SACA,SACA,UACA,UACA,WACA,SACA,QACA,QACA,OACA,QACA,WACA,SACA,MACA,OACA,SACA,SACA,SACA,OACA,YACA,QACA,kBACA,eACA,OACA,OACA,SACA,OACA,OACA,SACA,QACA,aACA,SACA,WACA,SACA,SACA,YACA,QACA,SACA,gBACA,YACA,aACA,KACA,QACA,WACA,cACA,eACA,OACA,OACA,WACA,YACA,YACA,UACA,SACA,UACA,SACA,QACA,MACA,OACA,QACA,OACA,SACA,OAEA,UACA,YACA,WACA,WACA,UACA,cACA,OACA,WACA,aACA,aACA,SACA,UACA,cACA,SACA,UACA,gBACA,QACA,WACA,eACA,QACA,cACA,cACA,SACA,QACA,QACA,gBACA,SACA,SACA,YACA,YACA,WACA,SACA,YACA,OACA,SACA,OACA,QACA,WACA,YACA,gBA2JO,GAAAyN,YAAmC,CAAC,KAAM,KAAM,KAAM,MACtD,GAAAuC,WAAa,CAAC,IAAK,QACnB,GAAAC,SAAW,CAAC,IAAK,OACjB,GAAAG,wBAA0B,CAAC,KAC3B,GAAAE,sBAAwB,CAAC,KACzB,GAAAzB,iBAAmB,CAAC,MACpB,GAAAkB,UAAY,CAAC,MAAO,KAAM,KAAM,KAAM,MC9wB9C,IAsWqB0H,GAAA,a,2uBAapB,WACC,OAAO,IAAInJ,EAAU,CACpBuB,iBAAkB4H,EAAqB5H,iBACvCC,uBAAwB2H,EAAqB3H,uBAC7CH,yBAA0B8H,EAAqB9H,yBAC/CC,yBAA0B6H,EAAqB7H,yBAC/CxC,iBAAkBqK,EAAqBrK,iBACvCK,YAAagK,EAAqBhK,YAClCuC,WAAYyH,EAAqBzH,WACjCC,SAAUwH,EAAqBxH,SAC/BG,wBAAyBqH,EAAqBrH,wBAC9CE,sBAAuBmH,EAAqBnH,sBAC5CzB,iBAAkB4I,EAAqB5I,wB,oBAzBrB,CAA6BnK,G,ovDAC1C,GAAAmL,iBAlEiB,CACxB,MACA,eACA,cACA,eACA,aACA,MACA,cACA,aACA,cACA,aACA,iBACA,iBACA,OACA,WACA,SACA,cACA,QACA,SACA,WACA,SACA,aACA,MACA,SACA,SACA,QACA,QAyCO,GAAAC,uBAjCuB,CAE9B,YACA,gBACA,qBACA,QACA,YACA,iBACA,SACA,aACA,kBAEA,OACA,aACA,YACA,kBACA,aACA,mBACA,YACA,kBACA,aACA,gBAaO,GAAAH,yBALyB,CAAC,KAAM,OAAQ,OAAQ,QAMhD,GAAAC,yBAA2B,CAAC,MAAO,MACnC,GAAAxC,iBAAmBrN,EA3WF,CACxB,MACA,MACA,WACA,QACA,MACA,MACA,QACA,KACA,aACA,aACA,KACA,SACA,gBACA,MACA,QACA,UACA,SACA,SACA,OACA,UACA,OACA,KACA,OACA,SACA,cACA,WACA,OACA,OACA,UACA,OACA,YACA,mBACA,cACA,QACA,OACA,QACA,WACA,UACA,UACA,SACA,SACA,YACA,UACA,aACA,UACA,OACA,gBACA,QACA,YACA,aACA,SACA,QACA,OACA,YACA,UACA,kBACA,eACA,kCACA,eACA,eACA,iBACA,eACA,oBACA,mCACA,eACA,SACA,QACA,OACA,MACA,aACA,MACA,UACA,UACA,UACA,SACA,aACA,QACA,WACA,gBACA,aACA,WACA,SACA,OACA,UACA,OACA,UACA,WACA,SACA,QACA,SACA,OACA,UACA,SACA,MACA,WACA,UACA,QACA,QACA,SACA,QACA,QACA,MACA,UACA,OACA,OACA,OACA,WACA,SACA,MACA,SACA,QACA,QACA,WACA,SACA,OACA,OACA,WACA,KACA,YACA,QACA,QACA,cACA,SACA,MACA,UACA,YACA,eACA,WACA,OACA,KACA,WACA,QACA,UACA,UACA,OACA,OACA,aACA,KACA,QACA,YACA,iBACA,QACA,QACA,MACA,SACA,QACA,SACA,MACA,SACA,MACA,WACA,SACA,QACA,WACA,WACA,UACA,QACA,QACA,MACA,KACA,OACA,YACA,MACA,OACA,SACA,UACA,oBACA,eACA,KACA,MACA,OACA,OACA,QACA,MACA,QACA,OACA,WACA,UACA,YACA,YACA,kBACA,kBACA,eACA,WACA,iBACA,QACA,YACA,UACA,UACA,YACA,QACA,OACA,QACA,OACA,YACA,MACA,aACA,cACA,YACA,YACA,aACA,iBACA,UACA,aACA,WACA,WACA,WACA,UACA,SACA,SACA,UACA,SACA,QACA,WACA,SACA,MACA,OACA,aACA,YACA,QACA,SACA,SACA,SACA,SACA,YACA,eACA,MACA,UACA,WACA,OACA,WACA,eACA,MACA,eACA,WACA,aACA,OACA,QACA,SACA,aACA,cACA,cACA,YACA,kBACA,MACA,YACA,SACA,cACA,QACA,cACA,OACA,YACA,gBACA,kBACA,KACA,WACA,YACA,kBACA,cACA,QACA,UACA,OACA,OACA,UACA,QACA,SACA,UACA,SACA,SACA,QACA,OACA,QACA,QACA,SACA,YACA,UACA,UACA,UACA,WACA,WACA,eACA,SACA,SACA,UACA,SA+EO,GAAA0N,YAAmC,CAAC,KAAM,KAAM,MAChD,GAAAuC,WAAa,CAAC,IAAK,QACnB,GAAAC,SAAW,CAAC,IAAK,OACjB,GAAAG,wBAA0B,CAAC,KAC3B,GAAAE,sBAAwB,GACxB,GAAAzB,iBAAmB,CAAC,MCjX5B,IAosCqB6I,GAAA,a,2uBAkBpB,WACC,OAAO,IAAIpJ,EAAU,CACpBuB,iBAAkB6H,EAAc7H,iBAChCC,uBAAwB4H,EAAc5H,uBACtCH,yBAA0B+H,EAAc/H,yBACxCC,yBAA0B8H,EAAc9H,yBACxCxC,iBAAkBsK,EAActK,iBAChCK,YAAaiK,EAAcjK,YAC3BuC,WAAY0H,EAAc1H,WAC1BC,SAAUyH,EAAczH,SACxBG,wBAAyBsH,EAActH,wBACvCE,sBAAuBoH,EAAcpH,sBACrCzB,iBAAkB6I,EAAc7I,iBAChCxB,iBAAkBqK,EAAcrK,iBAChC0C,UAAW2H,EAAc3H,iB,oBAhCP,CAAsBrL,G,yOACnC,GAAAmL,iBA7NiB,CACxB,iCACA,gBACA,YACA,gBACA,aACA,qBACA,oBACA,eACA,gBACA,mBACA,aACA,cACA,WACA,iBACA,gBACA,qBACA,SACA,qBACA,oBACA,4BACA,2BACA,4BACA,kBACA,cACA,cACA,mBACA,sBACA,UACA,wBACA,oBACA,oBACA,0BACA,eACA,WACA,aACA,yBACA,yBACA,WACA,+BACA,0BACA,gBACA,gCACA,6BACA,eACA,YACA,aACA,oBACA,UACA,SACA,OACA,WACA,kBACA,iBACA,mBACA,WACA,qBACA,gBACA,aACA,uBACA,uBACA,oBACA,mBACA,yBACA,iBACA,eACA,UACA,YACA,mBACA,iBACA,oBACA,WACA,yBACA,0BACA,QACA,YACA,kBACA,wBACA,QACA,SACA,WACA,eACA,QACA,aACA,QACA,eACA,oBACA,UACA,SACA,qBACA,UACA,kBACA,qBACA,YACA,qBACA,mBACA,YACA,4BACA,QACA,oBACA,UACA,yBACA,2BACA,oBACA,gBACA,UACA,uBACA,qBACA,oBACA,qBACA,qBACA,6BACA,qBACA,SACA,SACA,aACA,OACA,QACA,WACA,OACA,SACA,uBACA,kBACA,sBACA,OACA,6BACA,WACA,eACA,6BACA,uBACA,cACA,UACA,qBACA,MACA,UACA,eACA,gBACA,eACA,YACA,gBACA,aACA,gBACA,qBACA,kBACA,iBACA,gBACA,UACA,QACA,iBACA,WACA,8BACA,UACA,iBACA,OACA,SACA,oBACA,OACA,OACA,iBACA,aACA,YACA,wBAEA,eACA,cACA,eACA,OACA,WACA,SACA,cACA,aACA,aACA,QACA,SACA,WACA,SACA,SACA,QACA,QA4CO,GAAAC,uBApCuB,CAE9B,YACA,gBACA,qBACA,QACA,YACA,iBACA,SACA,aACA,kBACA,QACA,YACA,iBAEA,OACA,aACA,YACA,kBACA,aACA,mBACA,YACA,kBACA,cAcO,GAAAH,yBANyB,CAAC,KAAM,OAAQ,OAAQ,OAAQ,WAOxD,GAAAC,yBAA2B,CAAC,MAAO,MACnC,GAAAxC,iBAAmBrN,EAAO,GAAD,UAC5BZ,OAAO6P,OA1sCc,CACzB0C,UAAW,CACV,wBACA,MACA,eACA,QACA,YACA,WACA,cACA,MACA,MACA,QACA,SACA,MACA,MACA,QAEDiG,SAAU,CACT,YACA,cACA,MACA,aACA,OACA,kBACA,kBACA,eACA,gCACA,gCAEDC,cAAe,CACd,SACA,WACA,aACA,iBACA,oBACA,kBACA,cACA,YACA,cACA,eACA,gBACA,SACA,aACA,aAED9F,WAAY,CAAC,OAAQ,UAAW,QAAS,WAAY,cAAe,aACpE+F,cAAe,CACd,aACA,kBACA,eACA,UACA,mBACA,mBACA,gBACA,eACA,0BACA,uBACA,sBACA,mBACA,gBACA,eACA,sBACA,YACA,kBACA,WACA,SACA,WACA,gBACA,aACA,iBACA,qBACA,yBAEDC,OAAQ,CAAC,gBAAiB,iBAAkB,iBAC5Cf,SAAU,CACT,aACA,gBACA,aACA,aACA,WACA,wBAED/E,SAAU,CACT,cACA,oBACA,mBACA,sBACA,UACA,WACA,eACA,gBACA,WACA,WACA,qBACA,oBACA,0BACA,MACA,UACA,UACA,aACA,SACA,QACA,yBACA,eACA,cACA,oBACA,iBACA,gBACA,mBACA,OACA,OACA,SACA,aACA,aACA,eAED+F,aAAc,CACb,MACA,OACA,OACA,OACA,OACA,UACA,MACA,MACA,UACA,MACA,QACA,MACA,QACA,KACA,QACA,UACA,OACA,QACA,OACA,MACA,OACA,SACA,MACA,SACA,WACA,MACA,SAEDC,SAAU,CACT,WACA,WACA,eACA,eACA,mBACA,aACA,WACA,iBACA,qBACA,QACA,UACA,UACA,YACA,YACA,eACA,iBACA,oBACA,eACA,iBACA,0BACA,0BACA,YACA,oBACA,gBACA,iBACA,oBACA,YACA,cACA,qBACA,iBACA,mBACA,mBACA,YACA,YACA,cACA,iBACA,iBACA,aACA,UACA,YACA,gBAEDC,QAAS,CAAC,aAAc,QAAS,OAAQ,aAAc,wBACvDrF,SAAU,CACT,cACA,iBACA,eACA,wBACA,eACA,oBACA,YACA,gBACA,mBACA,gBACA,iBACA,cACA,aACA,aACA,eACA,kBACA,WACA,aACA,YACA,cACA,cACA,OACA,UACA,aAEDtS,OAAQ,CACP,QACA,OACA,YACA,SACA,YACA,aACA,SACA,OACA,MACA,QACA,QACA,QACA,WACA,YACA,UACA,YACA,UACA,QACA,QACA,UACA,QACA,MACA,aACA,gBACA,QACA,YACA,YACA,OACA,UACA,SAED4X,OAAQ,CACP,aACA,UACA,aACA,kBACA,aACA,cACA,kBACA,WACA,WACA,qBACA,eACA,qBACA,yBACA,aACA,aACA,gBACA,eACA,kBACA,iBACA,cACA,gBACA,qCACA,cACA,UACA,YACA,SACA,YACA,wBACA,QACA,kBACA,eACA,kBACA,cAEDC,YAAa,CACZ,gBACA,aACA,SACA,YACA,cACA,kBACA,cACA,iBACA,eACA,gBACA,UACA,aAED7B,QAAS,CAAC,kBAAmB,YAAa,oBAAqB,YAk6B1BvV,QAAO,SAAC2J,EAAK1K,GAAN,mBAAkB0K,GAAlB,GAA0B1K,MAAM,KAD5C,GAE5Bb,OAAO6P,OAz5Ba,CACxB0F,SAAU,CACT,MACA,MACA,QACA,MACA,MACA,KACA,MACA,gBACA,SACA,QACA,UACA,QACA,SACA,OACA,KACA,UACA,OACA,QACA,aACA,QACA,YACA,WACA,UACA,SACA,SACA,UACA,aACA,WACA,gBACA,WACA,UACA,SACA,QACA,UACA,eACA,eACA,oBACA,eACA,SACA,WACA,OACA,aACA,UACA,UACA,SACA,OACA,OACA,OACA,WACA,cACA,SACA,OACA,OACA,SACA,SACA,OACA,UACA,SACA,OACA,WACA,QACA,OACA,aACA,MACA,UACA,WACA,gBACA,OACA,OACA,WACA,OACA,QACA,QACA,SACA,WACA,WACA,cACA,kBACA,KACA,KACA,QACA,QACA,SACA,YACA,OACA,KACA,OACA,MACA,OACA,OACA,OACA,SACA,OACA,QACA,WACA,UACA,eACA,MACA,OACA,SACA,KACA,MACA,UACA,OACA,iBACA,YACA,aACA,UACA,SACA,KACA,QACA,QACA,OACA,UACA,QACA,OACA,YACA,UACA,QACA,OACA,YACA,SACA,YACA,OACA,WACA,cACA,aACA,cACA,UACA,WACA,SACA,SACA,SACA,QACA,WACA,WACA,aACA,OACA,OACA,SACA,gBACA,SACA,yBACA,iCACA,0BACA,eACA,MACA,UACA,WACA,OACA,aACA,cACA,QACA,cACA,WACA,KACA,MACA,OACA,cACA,UACA,WACA,cACA,UACA,QACA,SACA,UACA,SACA,aACA,MACA,OACA,SACA,UACA,OACA,UACA,QACA,QACA,OACA,eACA,aAED0D,KAAM,CACL,WACA,SACA,MACA,MACA,MACA,WACA,QACA,MACA,MACA,MACA,KACA,MACA,YACA,KACA,gBACA,MACA,QACA,UACA,MACA,aACA,OACA,KACA,UACA,WACA,OACA,OACA,UACA,OACA,YACA,mBACA,cACA,QACA,QACA,WACA,UACA,YACA,SACA,SACA,UACA,aACA,aACA,cACA,WACA,UACA,gBACA,QACA,SACA,QACA,UACA,eACA,eACA,oBACA,eACA,SACA,OACA,MACA,aACA,MACA,UACA,UACA,UACA,aACA,WACA,SACA,OACA,WACA,aACA,cACA,aACA,WACA,SACA,SACA,OACA,WACA,SACA,YACA,OACA,UACA,SACA,WACA,UACA,QACA,QACA,QACA,QACA,MACA,UACA,UACA,QACA,OACA,OACA,MACA,SACA,KACA,OACA,QACA,QACA,SACA,OACA,WACA,YACA,KACA,UACA,QACA,YACA,YACA,QACA,QACA,cACA,SACA,MACA,UACA,YACA,WACA,OACA,KACA,YACA,OACA,MACA,WACA,OACA,UACA,OACA,QACA,OACA,QACA,QACA,QACA,MACA,MACA,SACA,SACA,QACA,QACA,WACA,UACA,QACA,OACA,KACA,OACA,MACA,OACA,SACA,UACA,eACA,KACA,OACA,OACA,SACA,KACA,QACA,QACA,SACA,WACA,MACA,UACA,SACA,WACA,YACA,UACA,WACA,UACA,QACA,aACA,YACA,SACA,OACA,OACA,aACA,WACA,WACA,SACA,QACA,WACA,OACA,SACA,SACA,SACA,UACA,SACA,UACA,eACA,MACA,OACA,WACA,OACA,QACA,MACA,QACA,UACA,WACA,WACA,aACA,YACA,MACA,cACA,QACA,YACA,OACA,YACA,gBACA,kBACA,KACA,WACA,cACA,YACA,cACA,OACA,OACA,QACA,SACA,UACA,SACA,QACA,QACA,OACA,QACA,QACA,SACA,UACA,UACA,OACA,WACA,QACA,OACA,OACA,QACA,OACA,QAEDC,OAAQ,CACP,WACA,SACA,QACA,QACA,YACA,QACA,WACA,MACA,QACA,aACA,YACA,aACA,KACA,SACA,SACA,SACA,MACA,OACA,UACA,OACA,UACA,OACA,SACA,cACA,WACA,OACA,UACA,OACA,YACA,QACA,OACA,YACA,UACA,aACA,YACA,UACA,aACA,cACA,cACA,OACA,gBACA,YACA,aACA,OACA,YACA,kBACA,kCACA,eACA,eACA,iBACA,mCACA,QACA,OACA,OACA,MACA,MACA,UACA,aACA,WACA,QACA,QACA,WACA,aACA,UACA,aACA,gBACA,cACA,aACA,aACA,SACA,UACA,OACA,UACA,WACA,SACA,QACA,QACA,SACA,QACA,QACA,QACA,OACA,gBACA,SACA,UACA,MACA,SACA,KACA,WACA,OACA,OACA,OACA,SACA,YACA,YACA,aACA,YACA,QACA,QACA,MACA,UACA,eACA,WACA,YACA,UACA,WACA,QACA,OACA,UACA,OACA,QACA,aACA,QACA,KACA,QACA,YACA,iBACA,UACA,MACA,QACA,SACA,SACA,SACA,MACA,WACA,SACA,SACA,QACA,WACA,QACA,UACA,QACA,QACA,MACA,OACA,KACA,OACA,YACA,UACA,SACA,oBACA,MACA,OACA,YACA,aACA,MACA,SACA,UACA,MACA,YACA,aACA,UACA,YACA,OACA,kBACA,kBACA,eACA,iBACA,UACA,SACA,WACA,UACA,WACA,QACA,aACA,QACA,QACA,OACA,YACA,MACA,cACA,YACA,YACA,aACA,iBACA,UACA,aACA,WACA,WACA,WACA,WACA,UACA,SACA,UACA,OACA,SACA,UACA,MACA,OACA,YACA,QACA,SACA,SACA,SACA,UACA,YACA,WACA,UACA,OACA,UACA,OACA,WACA,QACA,WACA,eACA,MACA,eACA,WACA,aACA,QACA,QACA,YACA,SACA,aACA,cACA,YACA,cACA,kBACA,YACA,SACA,YACA,YACA,OACA,OACA,YACA,gBACA,kBACA,WACA,kBACA,cACA,QACA,OACA,UACA,QACA,UACA,SACA,QACA,QACA,QACA,UACA,WACA,UACA,WACA,WACA,eACA,SACA,SACA,UACA,OACA,QACA,SACA,gBACA,YACA,UACA,aACA,YACA,cACA,aACA,YACA,YACA,aACA,gBACA,WACA,QACA,WACA,eACA,WACA,UACA,cACA,OACA,UA6OmCtX,QAAO,SAAC2J,EAAK1K,GAAN,mBAAkB0K,GAAlB,GAA0B1K,MAAM,OAEpE,GAAAyN,YAAmC,CAAC,KAAM,MAAO,KAAM,KAAM,MAC7D,GAAAuC,WAAa,CAAC,IAAK,QACnB,GAAAC,SAAW,CAAC,IAAK,OACjB,GAAAG,wBAA0B,GAC1B,GAAAE,sBAAwB,CAAC,KACzB,GAAAzB,iBAAmB,CAAC,MACpB,GAAAxB,iBAAmB,CAAEkC,IAAK,MAC1B,GAAAQ,UAAY,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MC/sC1E,IAAMuI,GAAa,CACzBC,SAAUnH,EACVoH,IAAKnE,GACLoE,KAAM5D,GACN6D,QAASxD,GACTyD,MAAOxD,GACPyD,KAAMxD,GACNyD,MAAOxD,GACPyD,WAAYvD,GACZwD,SAAUtC,GACVuC,MAAOxB,GACPyB,IAAKxB,GACLyB,KAAMxB,IAGMyB,GAAoBha,OAAOia,KAAKd,IA6ChCe,GAAS,SAAC9T,GAA2D,I,EAA5CZ,EAA4C,uDAAd,GACnE,GAAqB,iBAAVY,EACV,MAAM,IAAID,MAAM,wDAA0D,GAAOC,IAGlF,GAAIZ,EAAI2U,WAAaH,GAAkBpS,SAASpC,EAAI2U,UACnD,MAAMhU,MAAM,4BAAD,OAA6BX,EAAI2U,WAU7C,GANC3U,EAAIE,kBAAoBT,EAAYU,cACpCH,EAAIE,kBAAoBT,EAAYW,gBAEpCJ,EAAIrD,OAAS,IAAIG,OAAO,KAGrBkD,EAAIK,UAAY+F,OAAOC,OAAOrG,EAAIK,SAAU,CAC/C,IAAgB,QAAX,EAAAL,EAAIK,eAAO,QAAI,GAAK,EACxB,MAAM,IAAIM,MAAM,6CAEG,IAAhBX,EAAIK,UACPL,EAAIK,QAAUX,EAAYmF,QAIxB7E,EAAIf,WAAae,EAAIf,WAAa,IACrC2V,QAAQC,KAAK,0DACb7U,EAAIf,eAAY+D,GAGjB,IAAM8R,EAAgC,CACrCH,SAAU,MACVhY,OAAQ,KACR+H,WAAW,EACXxE,gBAAiBT,EAAYsQ,SAC7B1P,QAASX,EAAYmF,OACrBuC,4BAA4B,EAC5BxC,QAASjF,EAAUoH,OACnB5F,eAAe,EACfE,cAAezB,EAAc0B,MAC7BgG,aAAc,CACbC,kBAAkB,EAClBM,mBAAmB,GAIpB5I,UAAW,GACXgJ,oBAAqB,EACrBf,gBAAgB,EAChBc,kBAAkB,GAEnBhI,EAAM,OAAH,sCACC8U,GACA9U,GAAG,CACNsH,aAAc,OAAF,wBAAOwN,EAAexN,cAAiBtH,EAAIsH,gBAGxD,IAAMvH,EAAY4T,GAAW3T,EAAI2U,UACjC,OAAO,IAAI5U,EAAUC,GAAsB0U,OAAO9T,I","sources":["webpack://prettierSql/webpack/universalModuleDefinition","webpack://prettierSql/webpack/bootstrap","webpack://prettierSql/webpack/runtime/define property getters","webpack://prettierSql/webpack/runtime/hasOwnProperty shorthand","webpack://prettierSql/webpack/runtime/make namespace object","webpack://prettierSql/./src/utils.ts","webpack://prettierSql/./src/core/Indentation.ts","webpack://prettierSql/./src/core/token.ts","webpack://prettierSql/./src/core/InlineBlock.ts","webpack://prettierSql/./src/types.ts","webpack://prettierSql/./src/core/Params.ts","webpack://prettierSql/./src/core/Formatter.ts","webpack://prettierSql/./src/core/regexFactory.ts","webpack://prettierSql/./src/core/Tokenizer.ts","webpack://prettierSql/./src/languages/bigquery.formatter.ts","webpack://prettierSql/./src/languages/db2.formatter.ts","webpack://prettierSql/./src/languages/hive.formatter.ts","webpack://prettierSql/./src/languages/mariadb.formatter.ts","webpack://prettierSql/./src/languages/mysql.formatter.ts","webpack://prettierSql/./src/languages/n1ql.formatter.ts","webpack://prettierSql/./src/languages/plsql.formatter.ts","webpack://prettierSql/./src/languages/postgresql.formatter.ts","webpack://prettierSql/./src/languages/redshift.formatter.ts","webpack://prettierSql/./src/languages/sparksql.formatter.ts","webpack://prettierSql/./src/languages/standardsql.formatter.ts","webpack://prettierSql/./src/languages/tsql.formatter.ts","webpack://prettierSql/./src/sqlFormatter.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"prettierSql\"] = factory();\n\telse\n\t\troot[\"prettierSql\"] = factory();\n})(self, function() {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export const dedupe = (arr: string[]) => [...new Set(arr)];\n\n// Only removes spaces, not newlines\nexport const trimSpacesEnd = (str: string) => str.replace(/[ \\t]+$/u, '');\n\n// Last element from array\nexport const last = <T extends any>(arr: T[]) => arr[arr.length - 1];\n\n// True array is empty, or it's not an array at all\nexport const isEmpty = (arr: any[]) => !Array.isArray(arr) || arr.length === 0;\n\n// Escapes regex special chars\nexport const escapeRegExp = (string: string) => string.replace(/[.*+?^${}()|[\\]\\\\]/gu, '\\\\$&');\n\n// Sorts strings by length, so that longer ones are first\n// Also sorts alphabetically after sorting by length.\nexport const sortByLengthDesc = (strings: string[]) =>\n\tstrings.sort((a, b) => {\n\t\treturn b.length - a.length || a.localeCompare(b);\n\t});\n\n/** Get length of longest string in list of strings */\nexport const maxLength = (strings: string[]) =>\n\tstrings.reduce((max, cur) => Math.max(max, cur.length), 0);\n\n/** Make all strings in list the same length by appending spaces */\nexport const tabulateLines = (...columns: string[][]) =>\n\tcolumns.reduce((lines, cur) => {\n\t\tconst existingMaxLength = maxLength(lines);\n\t\treturn lines.map(\n\t\t\t(line, i) => line + ' '.repeat(Math.max(existingMaxLength - line.length, 0) + 1) + cur[i]\n\t\t);\n\t});\n","import { last } from '../utils';\n\nconst INDENT_TYPE_TOP_LEVEL = 'top-level';\nconst INDENT_TYPE_BLOCK_LEVEL = 'block-level';\n\n/**\n * Manages indentation levels.\n *\n * There are two types of indentation levels:\n *\n * - BLOCK_LEVEL : increased by open-parenthesis\n * - TOP_LEVEL : increased by RESERVED_COMMAND words\n */\nexport default class Indentation {\n\tindent: string;\n\tindentTypes: string[];\n\n\t/**\n\t * @param {string} indent Indent value, default is \"  \" (2 spaces)\n\t */\n\tconstructor(indent: string = '  ') {\n\t\tthis.indent = indent;\n\t\tthis.indentTypes = [];\n\t}\n\n\t/**\n\t * Returns current indentation string.\n\t * @return {string} indentation string based on indentTypes\n\t */\n\tgetIndent(): string {\n\t\treturn this.indent.repeat(this.indentTypes.length);\n\t}\n\n\t/**\n\t * Increases indentation by one top-level indent.\n\t */\n\tincreaseTopLevel() {\n\t\tthis.indentTypes.push(INDENT_TYPE_TOP_LEVEL);\n\t}\n\n\t/**\n\t * Increases indentation by one block-level indent.\n\t */\n\tincreaseBlockLevel() {\n\t\tthis.indentTypes.push(INDENT_TYPE_BLOCK_LEVEL);\n\t}\n\n\t/**\n\t * Decreases indentation by one top-level indent.\n\t * Does nothing when the previous indent is not top-level.\n\t */\n\tdecreaseTopLevel() {\n\t\tif (this.indentTypes.length > 0 && last(this.indentTypes) === INDENT_TYPE_TOP_LEVEL) {\n\t\t\tthis.indentTypes.pop();\n\t\t}\n\t}\n\n\t/**\n\t * Decreases indentation by one block-level indent.\n\t * If there are top-level indents within the block-level indent,\n\t * throws away these as well.\n\t */\n\tdecreaseBlockLevel() {\n\t\twhile (this.indentTypes.length > 0) {\n\t\t\tconst type = this.indentTypes.pop();\n\t\t\tif (type !== INDENT_TYPE_TOP_LEVEL) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\t/** Clears all indentation */\n\tresetIndentation() {\n\t\tthis.indentTypes = [];\n\t}\n}\n","/** Token type enum for all possible Token categories */\nexport enum TokenType {\n\tWORD = 'WORD',\n\tSTRING = 'STRING',\n\tRESERVED_KEYWORD = 'RESERVED_KEYWORD',\n\tRESERVED_LOGICAL_OPERATOR = 'RESERVED_LOGICAL_OPERATOR',\n\tRESERVED_DEPENDENT_CLAUSE = 'RESERVED_DEPENDENT_CLAUSE',\n\tRESERVED_BINARY_COMMAND = 'RESERVED_BINARY_COMMAND',\n\tRESERVED_COMMAND = 'RESERVED_COMMAND',\n\tOPERATOR = 'OPERATOR',\n\tBLOCK_START = 'BLOCK_START',\n\tBLOCK_END = 'BLOCK_END',\n\tLINE_COMMENT = 'LINE_COMMENT',\n\tBLOCK_COMMENT = 'BLOCK_COMMENT',\n\tNUMBER = 'NUMBER',\n\tPLACEHOLDER = 'PLACEHOLDER',\n}\n\n/** Struct to store the most basic cohesive unit of language grammar */\nexport interface Token {\n\tvalue: string;\n\ttype: TokenType;\n\tkey?: string;\n\twhitespaceBefore?: string;\n}\n\n/** Special Unicode character to serve as a placeholder for TenSpace formats as \\w whitespace is unavailable */\nexport const ZWS = '​'; // uses zero-width space (&#8203; / U+200B)\nconst ZWS_REGEX = '\\u200b';\nconst spaces = `[${ZWS_REGEX}\\\\s]`;\n\n/** Checks if two tokens are equivalent */\nexport const testToken =\n\t(compareToken: Token) =>\n\t(token: Token): boolean =>\n\t\ttoken?.type === compareToken.type &&\n\t\tnew RegExp(`^${spaces}*${compareToken.value}${spaces}*$`, 'iu').test(token?.value);\n\n/** Util object that allows for easy checking of Reserved Keywords */\nexport const isToken = {\n\tAS: testToken({ value: 'AS', type: TokenType.RESERVED_KEYWORD }),\n\tAND: testToken({ value: 'AND', type: TokenType.RESERVED_LOGICAL_OPERATOR }),\n\tBETWEEN: testToken({ value: 'BETWEEN', type: TokenType.RESERVED_KEYWORD }),\n\tCASE: testToken({ value: 'CASE', type: TokenType.BLOCK_START }),\n\tCAST: testToken({ value: 'CAST', type: TokenType.RESERVED_KEYWORD }),\n\tBY: testToken({ value: 'BY', type: TokenType.RESERVED_KEYWORD }),\n\tEND: testToken({ value: 'END', type: TokenType.BLOCK_END }),\n\tFROM: testToken({ value: 'FROM', type: TokenType.RESERVED_COMMAND }),\n\tLATERAL: testToken({ value: 'LATERAL', type: TokenType.RESERVED_DEPENDENT_CLAUSE }),\n\tLIMIT: testToken({ value: 'LIMIT', type: TokenType.RESERVED_COMMAND }),\n\tSELECT: testToken({ value: 'SELECT', type: TokenType.RESERVED_COMMAND }),\n\tSET: testToken({ value: 'SET', type: TokenType.RESERVED_COMMAND }),\n\tTABLE: testToken({ value: 'TABLE', type: TokenType.RESERVED_KEYWORD }),\n\tWINDOW: testToken({ value: 'WINDOW', type: TokenType.RESERVED_COMMAND }),\n\tWITH: testToken({ value: 'WITH', type: TokenType.RESERVED_COMMAND }),\n};\n\n/** Checks if token is a Reserved Command or Reserved Binary Command */\nexport const isCommand = (token: Token): boolean =>\n\ttoken &&\n\t(token.type === TokenType.RESERVED_COMMAND || token.type === TokenType.RESERVED_BINARY_COMMAND);\n\n/** Checks if token is any Reserved Keyword or Command */\nexport const isReserved = (token: Token): boolean =>\n\ttoken &&\n\t(token.type === TokenType.RESERVED_KEYWORD ||\n\t\ttoken.type === TokenType.RESERVED_LOGICAL_OPERATOR ||\n\t\ttoken.type === TokenType.RESERVED_DEPENDENT_CLAUSE ||\n\t\ttoken.type === TokenType.RESERVED_COMMAND ||\n\t\ttoken.type === TokenType.RESERVED_BINARY_COMMAND);\n","import { isToken, Token, TokenType } from './token';\n\n/**\n * Bookkeeper for inline blocks.\n *\n * Inline blocks are parenthesised expressions that are shorter than INLINE_MAX_LENGTH.\n * These blocks are formatted on a single line, unlike longer parenthesised\n * expressions where open-parenthesis causes newline and increase of indentation.\n */\nexport default class InlineBlock {\n\tlevel: number;\n\tlineWidth: number;\n\n\tconstructor(lineWidth: number) {\n\t\tthis.level = 0;\n\t\tthis.lineWidth = lineWidth;\n\t}\n\n\t/**\n\t * Begins inline block when lookahead through upcoming tokens determines\n\t * that the block would be smaller than INLINE_MAX_LENGTH.\n\t * @param  {Token[]} tokens Array of all tokens\n\t * @param  {Number} index Current token position\n\t */\n\tbeginIfPossible(tokens: Token[], index: number) {\n\t\tif (this.level === 0 && this.isInlineBlock(tokens, index)) {\n\t\t\tthis.level = 1;\n\t\t} else if (this.level > 0) {\n\t\t\tthis.level++;\n\t\t} else {\n\t\t\tthis.level = 0;\n\t\t}\n\t}\n\n\t/**\n\t * Finishes current inline block.\n\t * There might be several nested ones.\n\t */\n\tend() {\n\t\tthis.level--;\n\t}\n\n\t/**\n\t * True when inside an inline block\n\t */\n\tisActive(): boolean {\n\t\treturn this.level > 0;\n\t}\n\n\t/**\n\t * Check if this should be an inline parentheses block\n\t * Examples are \"NOW()\", \"COUNT(*)\", \"int(10)\", key(`somecolumn`), DECIMAL(7,2)\n\t */\n\tisInlineBlock(tokens: Token[], index: number): boolean {\n\t\tlet length = 0;\n\t\tlet level = 0;\n\n\t\tfor (let i = index; i < tokens.length; i++) {\n\t\t\tconst token = tokens[i];\n\t\t\tlength += token.value.length;\n\n\t\t\tif (this.isForbiddenToken(token)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// Overran max length\n\t\t\tif (length > this.lineWidth) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// CASE cannot start inline block\n\t\t\tif (token.type === TokenType.BLOCK_START && !isToken.CASE(token)) {\n\t\t\t\tlevel++;\n\t\t\t} else if (token.type === TokenType.BLOCK_END) {\n\t\t\t\tlevel--;\n\t\t\t\tif (level === 0) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\t// Reserved words that cause newlines, comments and semicolons\n\t// are not allowed inside inline parentheses block\n\tisForbiddenToken({ type, value }: Token) {\n\t\treturn (\n\t\t\ttype === TokenType.RESERVED_COMMAND ||\n\t\t\ttype === TokenType.RESERVED_LOGICAL_OPERATOR ||\n\t\t\t// type === TokenType.LINE_COMMENT ||\n\t\t\ttype === TokenType.BLOCK_COMMENT ||\n\t\t\tvalue === ';' ||\n\t\t\tisToken.CASE({ type, value }) // CASE cannot have inline blocks\n\t\t);\n\t}\n}\n","/**\n * Enum for the different keyword formats\n * @enum {string}\n * @property {string} standard - Standard keyword format\n * @property {string} tenSpaceLeft - Central aligned keyword format, keywords left-aligned\n * @property {string} tenSpaceRight - Central aligned keyword format, keywords right-aligned\n */\nexport enum KeywordMode {\n\tstandard = 'standard',\n\ttenSpaceLeft = 'tenSpaceLeft',\n\ttenSpaceRight = 'tenSpaceRight',\n}\n\n/**\n * Enum for the different newline modes\n * @enum {string}\n * @property {string} always - Always use newlines\n * @property {string} never - Never use newlines\n * @property {string} lineWidth - Use newlines when line width is greater than the specified number\n */\nexport enum NewlineMode {\n\talways = 'always',\n\tnever = 'never',\n\tlineWidth = 'lineWidth',\n}\n\n/**\n * Enum for when to place AS for column aliases\n * @enum {string}\n * @property {string} always - Always use AS\n * @property {string} never - Never use AS\n * @property {string} select - Only use AS for SELECT clauses\n */\nexport enum AliasMode {\n\talways = 'always',\n\tnever = 'never',\n\tselect = 'select',\n}\n\n/**\n * Enum for when to place commas in listed clauses\n * @enum {string}\n * @property {string} after - Place after each item\n * @property {string} before - Place before each item\n * @property {string} tabular - Place commas at end of line, right-justified\n */\nexport enum CommaPosition {\n\tbefore = 'before',\n\tafter = 'after',\n\ttabular = 'tabular',\n}\n\nexport interface ParenOptions {\n\topenParenNewline?: boolean;\n\tcloseParenNewline?: boolean;\n\t// reservedFunctionParens: boolean;\n\t// functionParenSpace: boolean;\n}\n","import type { Token } from './token';\n\nexport type ParamItems = { [k: string]: string };\n\n/**\n * Handles placeholder replacement with given params.\n */\nexport default class Params {\n\t/**\n\t * @param {ParamItems} params\n\t */\n\tparams: ParamItems | string[] | undefined;\n\tindex: number;\n\n\tconstructor(params: ParamItems | string[] | undefined) {\n\t\tthis.params = params;\n\t\tthis.index = 0;\n\t}\n\n\t/**\n\t * Returns param value that matches given placeholder with param key.\n\t * @param {Token} token\n\t * @return {string} param or token.value when params are missing\n\t */\n\tget({ key, value }: Token): string {\n\t\tif (!this.params) {\n\t\t\treturn value;\n\t\t}\n\n\t\tif (key) {\n\t\t\treturn (this.params as ParamItems)[key];\n\t\t}\n\t\treturn (this.params as string[])[this.index++];\n\t}\n}\n","import Indentation from './Indentation';\nimport InlineBlock from './InlineBlock';\nimport Params from './Params';\nimport { maxLength, trimSpacesEnd } from '../utils';\nimport { isReserved, isCommand, isToken, Token, TokenType, ZWS } from './token';\nimport Tokenizer from './Tokenizer';\nimport type { FormatOptions } from '../sqlFormatter';\nimport { AliasMode, CommaPosition, KeywordMode, NewlineMode } from '../types';\n\n/** Main formatter class that produces a final output string from list of tokens */\nexport default class Formatter {\n\tcfg: FormatOptions & { tenSpace?: boolean };\n\tnewline: FormatOptions['newline'];\n\tcurrentNewline: boolean;\n\tlineWidth: number;\n\tindentation: Indentation;\n\tinlineBlock: InlineBlock;\n\tparams: Params;\n\n\tpreviousReservedToken: Token;\n\twithinSelect: boolean;\n\ttokens: Token[];\n\tindex: number;\n\n\t/**\n\t *\t@param {FormatOptions} cfg - config object\n\t *\t@param {string} cfg.language - the current SQL dialect\n\t *\t@param {string} cfg.indent - the indentation string, either tabs or a number of spaces\n\t *\t@param {Boolean} cfg.uppercase - whether to use uppercase keywords\n\t *\t@param {NewlineMode} cfg.newline - setting to control when to break onto newlines\n\t *\t@param {Integer} cfg.lineWidth - the maximum line width before breaking\n\t *\t@param {Integer} cfg.linesBetweenQueries - the number of blank lines between each query\n\t *\t@param {ParamItems | string[]} cfg.params - placeholder tokens to substitute\n\t */\n\tconstructor(cfg: FormatOptions) {\n\t\tthis.cfg = cfg;\n\t\tthis.cfg.tenSpace =\n\t\t\tthis.cfg.keywordPosition === KeywordMode.tenSpaceLeft ||\n\t\t\tthis.cfg.keywordPosition === KeywordMode.tenSpaceRight;\n\t\tthis.newline = cfg.newline;\n\t\tthis.currentNewline = true;\n\t\tthis.lineWidth = cfg.lineWidth;\n\t\tthis.indentation = new Indentation(this.cfg.indent);\n\t\tthis.inlineBlock = new InlineBlock(this.lineWidth);\n\t\tthis.params = new Params(this.cfg.params);\n\n\t\tthis.previousReservedToken = {} as Token;\n\t\tthis.withinSelect = false;\n\t\tthis.tokens = [];\n\t\tthis.index = -1;\n\t}\n\n\t/**\n\t * SQL Tokenizer for this formatter, provided by subclasses.\n\t */\n\ttokenizer(): Tokenizer {\n\t\tthrow new Error('tokenizer() not implemented by subclass');\n\t}\n\n\t/**\n\t * Reprocess and modify a token based on parsed context.\n\t *\n\t * @param {Token} token - The token to modify\n\t * @return {Token} new token or the original\n\t */\n\ttokenOverride(token: Token): Token {\n\t\t// subclasses can override this to modify tokens during formatting\n\t\treturn token;\n\t}\n\n\t/**\n\t * Formats whitespace in a SQL string to make it easier to read.\n\t *\n\t * @param {string} query - The SQL query string\n\t */\n\tformat(query: string): string {\n\t\tthis.tokens = this.tokenizer().tokenize(query);\n\t\tconst formattedQuery = this.getFormattedQueryFromTokens();\n\t\tconst finalQuery = this.postFormat(formattedQuery);\n\n\t\treturn finalQuery.replace(/^\\n*/u, '').trimEnd();\n\t}\n\n\t/**\n\t * Does post-processing on the formatted query.\n\t * @param {string} query - the query string produced from `this.format`\n\t */\n\tpostFormat(query: string): string {\n\t\tif (this.cfg.tabulateAlias) {\n\t\t\tquery = this.formatAliasPositions(query);\n\t\t}\n\t\tif (this.cfg.commaPosition !== CommaPosition.after) {\n\t\t\tquery = this.formatCommaPositions(query);\n\t\t}\n\n\t\treturn query;\n\t}\n\n\t/**\n\t * Handles comma placement - either before, after or tabulated\n\t * @param {string} query - input query string\n\t */\n\tformatCommaPositions(query: string): string {\n\t\t// const trailingComma = /,$/;\n\t\tconst lines = query.split('\\n');\n\t\tlet newQuery: string[] = [];\n\t\tfor (let i = 0; i < lines.length; i++) {\n\t\t\t// if line has trailing comma\n\t\t\tif (lines[i].match(/.*,$/)) {\n\t\t\t\tlet commaLines = [lines[i]];\n\t\t\t\t// find all lines in comma-bound clause, + 1\n\t\t\t\twhile (lines[i++].match(/.*,$/)) {\n\t\t\t\t\tcommaLines.push(lines[i]);\n\t\t\t\t}\n\n\t\t\t\tif (this.cfg.commaPosition === CommaPosition.tabular) {\n\t\t\t\t\tcommaLines = commaLines.map(commaLine => commaLine.replace(/,$/, '')); // trim all trailing commas\n\t\t\t\t\tconst commaMaxLength = maxLength(commaLines); // get longest for alignment\n\t\t\t\t\t// make all lines the same length by appending spaces before comma\n\t\t\t\t\tcommaLines = commaLines.map((commaLine, j) =>\n\t\t\t\t\t\tj < commaLines.length - 1 // do not add comma for last item\n\t\t\t\t\t\t\t? commaLine + ' '.repeat(commaMaxLength - commaLine.length) + ','\n\t\t\t\t\t\t\t: commaLine\n\t\t\t\t\t);\n\t\t\t\t} else if (this.cfg.commaPosition === CommaPosition.before) {\n\t\t\t\t\tconst isTabs = this.cfg.indent.includes('\\t'); // loose tab check\n\t\t\t\t\tcommaLines = commaLines.map(commaLine => commaLine.replace(/,$/, ''));\n\t\t\t\t\tconst whitespaceRegex = this.tokenizer().WHITESPACE_REGEX;\n\n\t\t\t\t\tcommaLines = commaLines.map((commaLine, j) => {\n\t\t\t\t\t\tif (!j) {\n\t\t\t\t\t\t\t// do not add comma for first item\n\t\t\t\t\t\t\treturn commaLine;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst precedingWhitespace = commaLine.match(new RegExp('^' + whitespaceRegex + ''));\n\t\t\t\t\t\tconst trimLastIndent = precedingWhitespace\n\t\t\t\t\t\t\t? precedingWhitespace[1].replace(\n\t\t\t\t\t\t\t\t\tnew RegExp((isTabs ? '\\t' : this.cfg.indent) + '$'), // remove last tab / last indent\n\t\t\t\t\t\t\t\t\t''\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: '';\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\ttrimLastIndent +\n\t\t\t\t\t\t\t// add comma in place of last indent\n\t\t\t\t\t\t\t(isTabs ? '    ' : this.cfg.indent).replace(/ {2}$/, ', ') + // using 4 width tabs\n\t\t\t\t\t\t\tcommaLine.trimStart()\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tnewQuery = [...newQuery, ...commaLines];\n\t\t\t}\n\t\t\tnewQuery.push(lines[i]);\n\t\t}\n\n\t\treturn newQuery.join('\\n');\n\t}\n\n\t/**\n\t * Handles select alias placement - tabulates if enabled\n\t * @param {string} query - input query string\n\t */\n\tformatAliasPositions(query: string): string {\n\t\tconst lines = query.split('\\n');\n\n\t\tlet newQuery: string[] = [];\n\t\tfor (let i = 0; i < lines.length; i++) {\n\t\t\t// find SELECT rows with trailing comma, if no comma (only one row) - no-op\n\t\t\tif (lines[i].match(/^\\s*SELECT/i)) {\n\t\t\t\tlet aliasLines: string[] = [];\n\t\t\t\tif (lines[i].match(/.*,$/)) {\n\t\t\t\t\taliasLines = [lines[i]]; // add select to aliasLines in case of tenSpace formats\n\t\t\t\t} else {\n\t\t\t\t\tnewQuery.push(lines[i]); // add select to new query\n\t\t\t\t\tif (lines[i].match(/^\\s*SELECT\\s+.+(?!,$)/i)) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\taliasLines.push(lines[++i]);\n\t\t\t\t}\n\n\t\t\t\t// get all lines in SELECT clause\n\t\t\t\twhile (lines[i++].match(/.*,$/)) {\n\t\t\t\t\taliasLines.push(lines[i]);\n\t\t\t\t}\n\n\t\t\t\tconst splitLines = aliasLines\n\t\t\t\t\t.map(line => line.split(/(?<=[^\\s]+) (AS )?(?=[^\\s]+,?$)/i)) // break lines into alias with optional AS, and all preceding text\n\t\t\t\t\t.map(slugs => ({\n\t\t\t\t\t\tprecedingText: slugs[0], // always first split\n\t\t\t\t\t\talias: slugs.length > 1 ? slugs[slugs.length - 1] : undefined, // always last in split\n\t\t\t\t\t\tas: slugs.length === 3 ? slugs[1] : undefined, // 2nd if AS is present, else omitted\n\t\t\t\t\t}));\n\n\t\t\t\tconst aliasMaxLength = maxLength(\n\t\t\t\t\tsplitLines.map(({ precedingText }) => precedingText.replace(/\\s*,\\s*$/, '')) // get longest of precedingText, trim trailing comma for non-alias columns\n\t\t\t\t);\n\t\t\t\t// re-construct line, aligning by inserting space before AS or alias\n\t\t\t\taliasLines = splitLines.map(\n\t\t\t\t\t({ precedingText, as, alias }) =>\n\t\t\t\t\t\tprecedingText +\n\t\t\t\t\t\t(alias\n\t\t\t\t\t\t\t? ' '.repeat(aliasMaxLength - precedingText.length + 1) + (as ?? '') + alias\n\t\t\t\t\t\t\t: '')\n\t\t\t\t);\n\t\t\t\tnewQuery = [...newQuery, ...aliasLines];\n\t\t\t}\n\t\t\tnewQuery.push(lines[i]);\n\t\t}\n\n\t\treturn newQuery.join('\\n');\n\t}\n\n\t/**\n\t * Performs main construction of query from token list, delegates to other methods for formatting based on token criteria\n\t * @return {string} formatted query\n\t */\n\tgetFormattedQueryFromTokens(): string {\n\t\tlet formattedQuery = '';\n\n\t\tfor (this.index = 0; this.index < this.tokens.length; this.index++) {\n\t\t\tlet token = this.tokenOverride(this.tokens[this.index]);\n\n\t\t\t// if token is a Reserved Keyword, Command, Binary Command, Dependent Clause, Logical Operator\n\t\t\tif (isReserved(token)) {\n\t\t\t\tthis.previousReservedToken = token;\n\t\t\t\tif (token.type !== TokenType.RESERVED_KEYWORD) {\n\t\t\t\t\ttoken = this.tenSpacedToken(token); // convert Reserved Command or Logical Operator to tenSpace format if needed\n\t\t\t\t}\n\t\t\t\tif (token.type === TokenType.RESERVED_COMMAND) {\n\t\t\t\t\tthis.withinSelect = isToken.SELECT(token); // set withinSelect flag if entering a SELECT clause, else reset\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (token.type === TokenType.LINE_COMMENT) {\n\t\t\t\tformattedQuery = this.formatLineComment(token, formattedQuery);\n\t\t\t} else if (token.type === TokenType.BLOCK_COMMENT) {\n\t\t\t\tformattedQuery = this.formatBlockComment(token, formattedQuery);\n\t\t\t} else if (token.type === TokenType.RESERVED_COMMAND) {\n\t\t\t\tthis.currentNewline = this.checkNewline(this.index);\n\t\t\t\tformattedQuery = this.formatCommand(token, formattedQuery);\n\t\t\t} else if (token.type === TokenType.RESERVED_BINARY_COMMAND) {\n\t\t\t\tformattedQuery = this.formatBinaryCommand(token, formattedQuery);\n\t\t\t} else if (token.type === TokenType.RESERVED_DEPENDENT_CLAUSE) {\n\t\t\t\tformattedQuery = this.formatDependentClause(token, formattedQuery);\n\t\t\t} else if (token.type === TokenType.RESERVED_LOGICAL_OPERATOR) {\n\t\t\t\tformattedQuery = this.formatLogicalOperator(token, formattedQuery);\n\t\t\t} else if (token.type === TokenType.RESERVED_KEYWORD) {\n\t\t\t\tformattedQuery = this.formatKeyword(token, formattedQuery);\n\t\t\t\tthis.previousReservedToken = token;\n\t\t\t} else if (token.type === TokenType.BLOCK_START) {\n\t\t\t\tformattedQuery = this.formatBlockStart(token, formattedQuery);\n\t\t\t} else if (token.type === TokenType.BLOCK_END) {\n\t\t\t\tformattedQuery = this.formatBlockEnd(token, formattedQuery);\n\t\t\t} else if (token.type === TokenType.PLACEHOLDER) {\n\t\t\t\tformattedQuery = this.formatPlaceholder(token, formattedQuery);\n\t\t\t} else if (token.type === TokenType.OPERATOR) {\n\t\t\t\tformattedQuery = this.formatOperator(token, formattedQuery);\n\t\t\t} else {\n\t\t\t\tformattedQuery = this.formatWord(token, formattedQuery);\n\t\t\t}\n\t\t}\n\t\treturn formattedQuery.replace(new RegExp(ZWS, 'ugim'), ' '); // replace all ZWS with whitespace for TenSpace formats\n\t}\n\n\t/**\n\t * Formats word tokens + any potential AS tokens for aliases\n\t * @param {Token} token - current token\n\t * @param {string} query - formatted query so far\n\t */\n\tformatWord(token: Token, query: string): string {\n\t\tconst prevToken = this.tokenLookBehind();\n\t\tconst nextToken = this.tokenLookAhead();\n\t\tconst asToken = { type: TokenType.RESERVED_KEYWORD, value: this.cfg.uppercase ? 'AS' : 'as' };\n\n\t\tconst missingTableAlias = // if table alias is missing and alias is always\n\t\t\tthis.cfg.aliasAs === AliasMode.always &&\n\t\t\ttoken.type === TokenType.WORD &&\n\t\t\tprevToken?.value === ')';\n\n\t\tconst missingSelectColumnAlias = // if select column alias is missing and alias is not never\n\t\t\tthis.cfg.aliasAs !== AliasMode.never &&\n\t\t\tthis.withinSelect &&\n\t\t\ttoken.type === TokenType.WORD &&\n\t\t\t(isToken.END(prevToken) || // isAs(prevToken) ||\n\t\t\t\t((prevToken?.type === TokenType.WORD || prevToken?.type === TokenType.NUMBER) &&\n\t\t\t\t\t(nextToken?.value === ',' || isCommand(nextToken))));\n\n\t\t// bandaid fix until Nearley tree\n\t\tconst missingCastTypeAs =\n\t\t\tthis.cfg.aliasAs === AliasMode.never && // checks for CAST(«expression» [AS] type)\n\t\t\tthis.withinSelect &&\n\t\t\tisToken.CAST(this.previousReservedToken) &&\n\t\t\tisToken.AS(nextToken) &&\n\t\t\t(this.tokenLookAhead(2)?.type === TokenType.WORD ||\n\t\t\t\tthis.tokenLookAhead(2)?.type === TokenType.RESERVED_KEYWORD) &&\n\t\t\tthis.tokenLookAhead(3)?.value === ')';\n\n\t\tconst isEdgeCaseCTE = // checks for WITH `table` [AS] (\n\t\t\tthis.cfg.aliasAs === AliasMode.never &&\n\t\t\tisToken.WITH(prevToken) &&\n\t\t\t(nextToken?.value === '(' ||\n\t\t\t\t(isToken.AS(nextToken) && this.tokenLookAhead(2)?.value === '('));\n\n\t\tconst isEdgeCaseCreateTable = // checks for CREATE TABLE `table` [AS] WITH (\n\t\t\tthis.cfg.aliasAs === AliasMode.never &&\n\t\t\t(isToken.TABLE(prevToken) || prevToken?.value.endsWith('TABLE')) &&\n\t\t\t(isToken.WITH(nextToken) || (isToken.AS(nextToken) && isToken.WITH(this.tokenLookAhead(2))));\n\n\t\tlet finalQuery = query;\n\t\tif (missingTableAlias || missingSelectColumnAlias) {\n\t\t\t// insert AS before word\n\t\t\tfinalQuery = this.formatWithSpaces(asToken, finalQuery);\n\t\t}\n\n\t\t// insert word\n\t\tfinalQuery = this.formatWithSpaces(token, finalQuery);\n\n\t\tif (isEdgeCaseCTE || isEdgeCaseCreateTable || missingCastTypeAs) {\n\t\t\t// insert AS after word\n\t\t\tfinalQuery = this.formatWithSpaces(asToken, finalQuery);\n\t\t}\n\n\t\treturn finalQuery;\n\t}\n\n\t/**\n\t * Checks if a newline should currently be inserted\n\t * @param {number} index - index of current token\n\t * @return {boolean} Whether or not a newline should be inserted\n\t */\n\tcheckNewline(index: number): boolean {\n\t\tconst tail = this.tokens.slice(index + 1); // get all tokens after current token\n\t\tconst nextTokens = tail.slice(\n\t\t\t// get all tokens between current token and next Reserved Command or query end\n\t\t\t0,\n\t\t\ttail.length\n\t\t\t\t? tail.findIndex(\n\t\t\t\t\t\t({ type, value }) =>\n\t\t\t\t\t\t\ttype === TokenType.RESERVED_COMMAND ||\n\t\t\t\t\t\t\ttype === TokenType.RESERVED_BINARY_COMMAND ||\n\t\t\t\t\t\t\tvalue === ';'\n\t\t\t\t  )\n\t\t\t\t: undefined // add undefined for EOF\n\t\t);\n\n\t\tif (\n\t\t\tthis.newline === NewlineMode.always ||\n\t\t\t(this.withinSelect &&\n\t\t\t\tnextTokens.some(({ type, value }) => type === TokenType.BLOCK_START && value.length > 1)) // auto break if SELECT includes CASE statements\n\t\t) {\n\t\t\treturn true;\n\t\t}\n\t\tif (this.newline === NewlineMode.never) {\n\t\t\treturn false;\n\t\t}\n\n\t\tconst numItems = nextTokens.reduce(\n\t\t\t(acc, { type, value }) => {\n\t\t\t\tif (value === ',' && !acc.inParen) {\n\t\t\t\t\treturn { ...acc, count: acc.count + 1 };\n\t\t\t\t} // count commas between items in clause\n\t\t\t\tif (type === TokenType.BLOCK_START) {\n\t\t\t\t\treturn { ...acc, inParen: true };\n\t\t\t\t} // don't count commas in functions\n\t\t\t\tif (type === TokenType.BLOCK_END) {\n\t\t\t\t\treturn { ...acc, inParen: false };\n\t\t\t\t}\n\t\t\t\treturn acc;\n\t\t\t},\n\t\t\t{ count: 1, inParen: false } // start with 1 for first word\n\t\t).count;\n\n\t\t// calculate length if it were all inline\n\t\tconst inlineWidth = `${this.tokens[index].whitespaceBefore}${\n\t\t\tthis.tokens[index].value\n\t\t} ${nextTokens.map(({ value }) => (value === ',' ? value + ' ' : value)).join('')}`.length;\n\n\t\tif (this.newline === NewlineMode.lineWidth) {\n\t\t\treturn inlineWidth > this.lineWidth;\n\t\t} else if (!Number.isNaN(this.newline)) {\n\t\t\treturn numItems > this.newline || inlineWidth > this.lineWidth;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t/** Formats a line comment onto query */\n\tformatLineComment(token: Token, query: string): string {\n\t\treturn this.addNewline(query + this.show(token));\n\t}\n\n\t/** Formats a block comment onto query */\n\tformatBlockComment(token: Token, query: string): string {\n\t\treturn this.addNewline(this.addNewline(query) + this.indentComment(token.value));\n\t}\n\n\t/** Aligns comment to current indentation level */\n\tindentComment(comment: string): string {\n\t\treturn comment.replace(/\\n[ \\t]*/gu, '\\n' + this.indentation.getIndent() + ' ');\n\t}\n\n\t/**\n\t * Formats a Reserved Command onto query, increasing indentation level where necessary\n\t * @param {Token} token - current token\n\t * @param {string} query - formatted query so far\n\t */\n\tformatCommand(token: Token, query: string): string {\n\t\tthis.indentation.decreaseTopLevel();\n\n\t\tquery = this.addNewline(query);\n\n\t\t// indent TenSpace formats, except when preceding a (\n\t\tif (this.cfg.tenSpace) {\n\t\t\tif (this.tokenLookAhead()?.value !== '(') {\n\t\t\t\tthis.indentation.increaseTopLevel();\n\t\t\t}\n\t\t\t// indent standard format, except when is [FROM] (\n\t\t} else if (!(this.tokenLookAhead()?.value === '(' && isToken.FROM(token))) {\n\t\t\tthis.indentation.increaseTopLevel();\n\t\t}\n\n\t\tquery += this.equalizeWhitespace(this.show(token)); // print token onto query\n\t\tif (this.currentNewline && !this.cfg.tenSpace) {\n\t\t\tquery = this.addNewline(query);\n\t\t} else {\n\t\t\tquery += ' ';\n\t\t}\n\t\treturn query;\n\t}\n\n\t/**\n\t * Formats a Reserved Binary Command onto query, joining neighbouring tokens\n\t * @param {Token} token - current token\n\t * @param {string} query - formatted query so far\n\t */\n\tformatBinaryCommand(token: Token, query: string): string {\n\t\tconst isJoin = /JOIN/i.test(token.value); // check if token contains JOIN\n\t\tif (!isJoin || this.cfg.tenSpace) {\n\t\t\t// decrease for boolean set operators or in tenSpace modes\n\t\t\tthis.indentation.decreaseTopLevel();\n\t\t}\n\t\tquery = this.addNewline(query) + this.equalizeWhitespace(this.show(token));\n\t\treturn isJoin ? query + ' ' : this.addNewline(query);\n\t}\n\n\t/**\n\t * Formats a Reserved Keyword onto query, skipping AS if disabled\n\t * @param {Token} token - current token\n\t * @param {string} query - formatted query so far\n\t */\n\tformatKeyword(token: Token, query: string): string {\n\t\tif (\n\t\t\tisToken.AS(token) &&\n\t\t\t(this.cfg.aliasAs === AliasMode.never || // skip all AS if never\n\t\t\t\t(this.cfg.aliasAs === AliasMode.select &&\n\t\t\t\t\tthis.tokenLookBehind()?.value === ')' && // ) [AS] alias but not SELECT (a) [AS] alpha\n\t\t\t\t\t!this.withinSelect && // skip WITH foo [AS] ( ...\n\t\t\t\t\tthis.tokenLookAhead()?.value !== '('))\n\t\t) {\n\t\t\t// do not format if skipping AS\n\t\t\treturn query;\n\t\t}\n\n\t\treturn this.formatWithSpaces(token, query);\n\t}\n\n\t/**\n\t * Formats a Reserved Dependent Clause token onto query, supporting the keyword that precedes it\n\t * @param {Token} token - current token\n\t * @param {string} query - formatted query so far\n\t */\n\tformatDependentClause(token: Token, query: string): string {\n\t\treturn this.addNewline(query) + this.equalizeWhitespace(this.show(token)) + ' ';\n\t}\n\n\t/**\n\t * Formats an Operator onto query, following rules for specific characters\n\t * @param {Token} token - current token\n\t * @param {string} query - formatted query so far\n\t */\n\tformatOperator(token: Token, query: string): string {\n\t\t// special operator\n\t\tif (token.value === ',') {\n\t\t\treturn this.formatComma(token, query);\n\t\t} else if (token.value === ';') {\n\t\t\treturn this.formatQuerySeparator(token, query);\n\t\t} else if (['$', '['].includes(token.value)) {\n\t\t\treturn this.formatWithSpaces(token, query, 'before');\n\t\t} else if ([':', ']'].includes(token.value)) {\n\t\t\treturn this.formatWithSpaces(token, query, 'after');\n\t\t} else if (['.', '{', '}', '`'].includes(token.value)) {\n\t\t\treturn this.formatWithoutSpaces(token, query);\n\t\t}\n\n\t\t// regular operator\n\t\tif (this.cfg.denseOperators && this.tokenLookBehind()?.type !== TokenType.RESERVED_COMMAND) {\n\t\t\t// do not trim whitespace if SELECT *\n\t\t\treturn this.formatWithoutSpaces(token, query);\n\t\t}\n\t\treturn this.formatWithSpaces(token, query);\n\t}\n\n\t/**\n\t * Formats a Logical Operator onto query, joining boolean conditions\n\t * @param {Token} token - current token\n\t * @param {string} query - formatted query so far\n\t */\n\tformatLogicalOperator(token: Token, query: string): string {\n\t\t// ignore AND when BETWEEN x [AND] y\n\t\tif (isToken.AND(token) && isToken.BETWEEN(this.tokenLookBehind(2))) {\n\t\t\treturn this.formatWithSpaces(token, query);\n\t\t}\n\n\t\tif (this.cfg.tenSpace) {\n\t\t\tthis.indentation.decreaseTopLevel();\n\t\t}\n\n\t\tif (this.cfg.breakBeforeBooleanOperator) {\n\t\t\treturn (\n\t\t\t\t(this.currentNewline ? this.addNewline(query) : query) +\n\t\t\t\tthis.equalizeWhitespace(this.show(token)) +\n\t\t\t\t' '\n\t\t\t);\n\t\t} else {\n\t\t\tquery += this.show(token);\n\t\t\treturn this.currentNewline ? this.addNewline(query) : query;\n\t\t}\n\t}\n\n\t/** Replace any sequence of whitespace characters with single space */\n\tequalizeWhitespace(string: string): string {\n\t\treturn string.replace(/\\s+/gu, ' ');\n\t}\n\n\t/**\n\t * Formats a Block Start token (left paren/bracket/brace, CASE) onto query, beginning an Inline Block or increasing indentation where necessary\n\t * @param {Token} token - current token\n\t * @param {string} query - formatted query so far\n\t */\n\tformatBlockStart(token: Token, query: string): string {\n\t\tif (isToken.CASE(token)) {\n\t\t\tquery = this.formatWithSpaces(token, query);\n\t\t} else {\n\t\t\t// Take out the preceding space unless there was whitespace there in the original query\n\t\t\t// or another opening parens or line comment\n\t\t\tconst preserveWhitespaceFor = [\n\t\t\t\tTokenType.BLOCK_START,\n\t\t\t\tTokenType.LINE_COMMENT,\n\t\t\t\tTokenType.OPERATOR,\n\t\t\t];\n\t\t\tif (\n\t\t\t\ttoken.whitespaceBefore?.length === 0 &&\n\t\t\t\t!preserveWhitespaceFor.includes(this.tokenLookBehind()?.type)\n\t\t\t) {\n\t\t\t\tquery = trimSpacesEnd(query);\n\t\t\t} else if (!this.cfg.parenOptions.openParenNewline) {\n\t\t\t\tquery = query.trimEnd() + ' ';\n\t\t\t}\n\t\t\tquery += this.show(token);\n\t\t\tthis.inlineBlock.beginIfPossible(this.tokens, this.index);\n\t\t}\n\n\t\tif (!this.inlineBlock.isActive()) {\n\t\t\tthis.indentation.increaseBlockLevel();\n\t\t\tif (!isToken.CASE(token) || this.newline === NewlineMode.always) {\n\t\t\t\tquery = this.addNewline(query);\n\t\t\t}\n\t\t}\n\t\treturn query;\n\t}\n\n\t/**\n\t * Formats a Block End token (right paren/bracket/brace, END) onto query, closing an Inline Block or decreasing indentation where necessary\n\t * @param {Token} token - current token\n\t * @param {string} query - formatted query so far\n\t */\n\tformatBlockEnd(token: Token, query: string): string {\n\t\tif (this.inlineBlock.isActive()) {\n\t\t\tthis.inlineBlock.end();\n\t\t\tif (isToken.END(token)) {\n\t\t\t\treturn this.formatWithSpaces(token, query); // add space before END when closing inline block\n\t\t\t}\n\t\t\treturn this.formatWithSpaces(token, query, 'after'); // do not add space before )\n\t\t} else {\n\t\t\tthis.indentation.decreaseBlockLevel();\n\n\t\t\tif (this.cfg.tenSpace) {\n\t\t\t\tquery = this.addNewline(query) + this.cfg.indent;\n\t\t\t} else if (this.cfg.parenOptions.closeParenNewline) {\n\t\t\t\tquery = this.addNewline(query);\n\t\t\t} else {\n\t\t\t\tquery = query.trimEnd() + ' ';\n\t\t\t}\n\n\t\t\treturn this.formatWithSpaces(token, query);\n\t\t}\n\t}\n\n\t/**\n\t * Formats a Placeholder item onto query, to be replaced with the value of the placeholder\n\t * @param {Token} token - current token\n\t * @param {string} query - formatted query so far\n\t */\n\tformatPlaceholder(token: Token, query: string): string {\n\t\treturn query + this.params.get(token) + ' ';\n\t}\n\n\t/**\n\t * Formats a comma Operator onto query, ending line unless in an Inline Block\n\t * @param {Token} token - current token\n\t * @param {string} query - formatted query so far\n\t */\n\tformatComma(token: Token, query: string): string {\n\t\tquery = trimSpacesEnd(query) + this.show(token) + ' ';\n\n\t\tif (this.inlineBlock.isActive()) {\n\t\t\treturn query;\n\t\t} else if (isToken.LIMIT(this.previousReservedToken)) {\n\t\t\treturn query;\n\t\t} else if (this.currentNewline) {\n\t\t\treturn this.addNewline(query);\n\t\t} else {\n\t\t\treturn query;\n\t\t}\n\t}\n\n\t/** Simple append of token onto query */\n\tformatWithoutSpaces(token: Token, query: string): string {\n\t\treturn trimSpacesEnd(query) + this.show(token);\n\t}\n\n\t/**\n\t * Add token onto query with spaces - either before, after, or both\n\t * @param {Token} token - current token\n\t * @param {string} query - formatted query so far\n\t * @param {'before' | 'after' | 'both'} addSpace - where to add spaces around token\n\t * @return {string} token string with specified spaces\n\t */\n\tformatWithSpaces(\n\t\ttoken: Token,\n\t\tquery: string,\n\t\taddSpace: 'before' | 'after' | 'both' = 'both'\n\t): string {\n\t\tconst before = addSpace === 'after' ? trimSpacesEnd(query) : query;\n\t\tconst after = addSpace === 'before' ? '' : ' ';\n\t\treturn before + this.show(token) + after;\n\t}\n\n\t/**\n\t * Format Delimiter token onto query, adding newlines accoring to `this.cfg.linesBetweenQueries`\n\t * @param {Token} token - current token\n\t * @param {string} query - formatted query so far\n\t */\n\tformatQuerySeparator(token: Token, query: string): string {\n\t\tthis.indentation.resetIndentation();\n\t\tquery = trimSpacesEnd(query);\n\n\t\t// move delimiter to new line if specified\n\t\tif (this.cfg.semicolonNewline) {\n\t\t\tquery += '\\n';\n\t\t\tif (this.cfg.tenSpace) {\n\t\t\t\tquery += this.cfg.indent;\n\t\t\t}\n\t\t}\n\t\treturn query + this.show(token) + '\\n'.repeat(this.cfg.linesBetweenQueries + 1);\n\t}\n\n\t/** Converts token to string, uppercasing if enabled */\n\tshow(token: Token): string {\n\t\tif (\n\t\t\tisReserved(token) ||\n\t\t\ttoken.type === TokenType.BLOCK_START ||\n\t\t\ttoken.type === TokenType.BLOCK_END\n\t\t) {\n\t\t\treturn this.cfg.uppercase ? token.value.toUpperCase() : token.value.toLowerCase();\n\t\t} else {\n\t\t\treturn token.value;\n\t\t}\n\t}\n\n\t/** Inserts a newline onto the query */\n\taddNewline(query: string): string {\n\t\tquery = trimSpacesEnd(query);\n\t\tif (!query.endsWith('\\n')) {\n\t\t\tquery += '\\n';\n\t\t}\n\t\treturn query + this.indentation.getIndent();\n\t}\n\n\t/** Produces a 10-char wide version of reserved token for TenSpace modes */\n\ttenSpacedToken(token: Token): Token {\n\t\tconst addBuffer = (string: string, bufferLength = 9) =>\n\t\t\tZWS.repeat(Math.max(bufferLength - string.length, 0));\n\t\tif (this.cfg.tenSpace) {\n\t\t\tlet bufferItem = token.value; // store which part of keyword receives 10-space buffer\n\t\t\tlet tail = [] as string[]; // rest of keyword\n\t\t\tif (bufferItem.length >= 10 && bufferItem.includes(' ')) {\n\t\t\t\t// split for long keywords like INNER JOIN or UNION DISTINCT\n\t\t\t\t[bufferItem, ...tail] = bufferItem.split(' ');\n\t\t\t}\n\n\t\t\tif (this.cfg.keywordPosition === KeywordMode.tenSpaceLeft) {\n\t\t\t\tbufferItem += addBuffer(bufferItem);\n\t\t\t} else {\n\t\t\t\tbufferItem = addBuffer(bufferItem) + bufferItem;\n\t\t\t}\n\n\t\t\ttoken.value = bufferItem + ['', ...tail].join(' ');\n\t\t}\n\t\treturn token;\n\t}\n\n\t/** Fetches nth previous token from the token stream */\n\ttokenLookBehind(n = 1) {\n\t\treturn this.tokens[this.index - n];\n\t}\n\n\t/** Fetches nth next token from the token stream */\n\ttokenLookAhead(n = 1) {\n\t\treturn this.tokens[this.index + n];\n\t}\n}\n","import { escapeRegExp, isEmpty, sortByLengthDesc } from '../utils';\n\n/**\n * Builds a RegExp containing all operators for a SQL dialect\n * @param {string} monadOperators - concatenated string of all 1-length operators\n * @param {string[]} polyadOperators - list of strings of all >1-length operators\n */\nexport const createOperatorRegex = (monadOperators: string, polyadOperators: string[]): RegExp =>\n\tnew RegExp(\n\t\t`^(${sortByLengthDesc(polyadOperators).map(escapeRegExp).join('|')}|` +\n\t\t\t`[${monadOperators.split('').map(escapeRegExp).join('')}])`,\n\t\t'u'\n\t);\n\n/**\n * Builds a RegExp for valid line comments in a SQL dialect\n * @param {string[]} lineCommentTypes - list of character strings that denote line comments\n */\nexport const createLineCommentRegex = (lineCommentTypes: string[]): RegExp =>\n\tnew RegExp(\n\t\t`^((?:${lineCommentTypes.map(c => escapeRegExp(c)).join('|')}).*?)(?:\\r\\n|\\r|\\n|$)`,\n\t\t'u'\n\t);\n\n/**\n * Builds a RegExp for all Reserved Keywords in a SQL dialect\n * @param {string[]} reservedKeywords - list of strings of all Reserved Keywords\n * @param {string} specialWordChars - concatenated string of all special chars that can appear in valid identifiers (and not in Reserved Keywords)\n */\nexport const createReservedWordRegex = (\n\treservedKeywords: string[],\n\tspecialWordChars: string = ''\n): RegExp => {\n\tif (reservedKeywords.length === 0) {\n\t\treturn new RegExp(`^\\b$`, 'u');\n\t}\n\tconst reservedKeywordsPattern = sortByLengthDesc(reservedKeywords)\n\t\t.join('|')\n\t\t.replace(/ /gu, '\\\\s+');\n\treturn new RegExp(\n\t\t`^(${reservedKeywordsPattern})(?![${escapeRegExp(specialWordChars)}]+)\\\\b`,\n\t\t'iu'\n\t);\n};\n\n/**\n * Builds a RegExp for valid identifiers in a SQL dialect\n * @param {Object} specialChars\n * @param {string} specialChars.any - concatenated string of chars that can appear anywhere in a valid identifier\n * @param {string} specialChars.prefix - concatenated string of chars that only appear at the beginning of a valid identifier\n * @param {string} specialChars.suffix - concatenated string of chars that only appear at the end of a valid identifier\n */\nexport const createWordRegex = (\n\tspecialChars: { any?: string; prefix?: string; suffix?: string } = {}\n): RegExp => {\n\tconst prefixLookBehind = `[${escapeRegExp(specialChars.prefix ?? '')}]*`;\n\tconst suffixLookAhead = `[${escapeRegExp(specialChars.suffix ?? '')}]*`;\n\tconst unicodeWordChar =\n\t\t'\\\\p{Alphabetic}\\\\p{Mark}\\\\p{Decimal_Number}\\\\p{Connector_Punctuation}\\\\p{Join_Control}';\n\tconst specialWordChars = `${escapeRegExp(specialChars.any ?? '')}`;\n\n\tconst arrayAccessor = '\\\\[\\\\d\\\\]';\n\tconst mapAccessor = `\\\\[['\"][${unicodeWordChar}]+['\"]\\\\]`;\n\n\treturn new RegExp(\n\t\t`^((${prefixLookBehind}([${unicodeWordChar}${specialWordChars}]+)${suffixLookAhead})(${arrayAccessor}|${mapAccessor})?)`,\n\t\t'u'\n\t);\n};\n\n// This enables the following string patterns:\n// 1. backtick quoted string using `` to escape\n// 2. square bracket quoted string (SQL Server) using ]] to escape\n// 3. double quoted string using \"\" or \\\" to escape\n// 4. single quoted string using '' or \\' to escape\n// 5. national character quoted string using N'' or N\\' to escape\n// 6. Unicode single-quoted string using \\' to escape\n// 7. Unicode double-quoted string using \\\" to escape\n// 8. PostgreSQL dollar-quoted strings\nconst patterns = {\n\t'``': '((`[^`]*($|`))+)',\n\t'{}': '((\\\\{[^\\\\}]*($|\\\\}))+)',\n\t'[]': '((\\\\[[^\\\\]]*($|\\\\]))(\\\\][^\\\\]]*($|\\\\]))*)',\n\t'\"\"': '((\"[^\"\\\\\\\\]*(?:\\\\\\\\.[^\"\\\\\\\\]*)*(\"|$))+)',\n\t\"''\": \"(('[^'\\\\\\\\]*(?:\\\\\\\\.[^'\\\\\\\\]*)*('|$))+)\",\n\t\"N''\": \"((N'[^'\\\\\\\\]*(?:\\\\\\\\.[^'\\\\\\\\]*)*('|$))+)\",\n\t\"x''\": \"((x'[^'\\\\\\\\]*(?:\\\\\\\\.[^'\\\\\\\\]*)*('|$))+)\",\n\t\"U&''\": \"((U&'[^'\\\\\\\\]*(?:\\\\\\\\.[^'\\\\\\\\]*)*('|$))+)\",\n\t'U&\"\"': '((U&\"[^\"\\\\\\\\]*(?:\\\\\\\\.[^\"\\\\\\\\]*)*(\"|$))+)',\n\t'$$': '((?<tag>\\\\$\\\\w*\\\\$)[\\\\s\\\\S]*?(?:\\\\k<tag>|$))',\n};\nexport type StringPatternType = keyof typeof patterns;\n\n/**\n * Builds a string pattern for matching string patterns for all given string types\n * @param {StringPatternType[]} stringTypes - list of strings that denote string patterns\n */\nexport const createStringPattern = (stringTypes: StringPatternType[]): string =>\n\tstringTypes.map(t => patterns[t]).join('|');\n\n/**\n * Builds a RegExp for matching string patterns using `createStringPattern`\n * @param {StringPatternType[]} stringTypes - list of strings that denote string patterns\n */\nexport const createStringRegex = (stringTypes: StringPatternType[]): RegExp =>\n\tnew RegExp('^(' + createStringPattern(stringTypes) + ')', 'u');\n\n/** Escapes paren characters for RegExp patterns */\nconst escapeParen = (paren: string): string => {\n\tif (paren.length === 1) {\n\t\t// A single punctuation character\n\t\treturn escapeRegExp(paren);\n\t} else {\n\t\t// longer word\n\t\treturn '\\\\b' + paren + '\\\\b';\n\t}\n};\n\n/**\n * Builds a RegExp for matching parenthesis patterns, escaping them with `escapeParen`\n * @param {string[]} parens - list of strings that denote parenthesis patterns\n */\nexport const createParenRegex = (parens: string[]): RegExp =>\n\tnew RegExp('^(' + parens.map(escapeParen).join('|') + ')', 'iu');\n\n/**\n * Builds a RegExp for placeholder patterns\n * @param {string[]} types - list of strings that denote placeholder types\n * @param {string} pattern - string that denotes placeholder pattern\n */\nexport const createPlaceholderRegex = (types: string[], pattern: string): RegExp | undefined => {\n\tif (isEmpty(types)) {\n\t\treturn undefined;\n\t}\n\tconst typesRegex = types.map(escapeRegExp).join('|');\n\n\treturn new RegExp(`^((?:${typesRegex})(?:${pattern}))`, 'u');\n};\n","import * as regexFactory from './regexFactory';\nimport { escapeRegExp } from '../utils';\nimport { Token, TokenType } from './token'; // convert to partial type import in TS 4.5\n\nconst NULL_REGEX = /(?!)/; // zero-width negative lookahead, matches nothing\n\n/** Struct that defines how a SQL language can be broken into tokens */\ninterface TokenizerOptions {\n\treservedKeywords: string[];\n\treservedCommands: string[];\n\treservedLogicalOperators: string[];\n\treservedDependentClauses: string[];\n\treservedBinaryCommands: string[];\n\tstringTypes: regexFactory.StringPatternType[];\n\tblockStart: string[];\n\tblockEnd: string[];\n\tindexedPlaceholderTypes?: string[];\n\tnamedPlaceholderTypes: string[];\n\tlineCommentTypes: string[];\n\tspecialWordChars?: { prefix?: string; any?: string; suffix?: string };\n\toperators?: string[];\n}\n\n/** Converts SQL language string into a token stream */\nexport default class Tokenizer {\n\tWHITESPACE_REGEX: RegExp;\n\tREGEX_MAP: { [tokenType in TokenType]: RegExp };\n\n\tINDEXED_PLACEHOLDER_REGEX?: RegExp;\n\tIDENT_NAMED_PLACEHOLDER_REGEX?: RegExp;\n\tSTRING_NAMED_PLACEHOLDER_REGEX?: RegExp;\n\n\t/**\n\t * @param {TokenizerOptions} cfg\n\t *  @param {string[]} cfg.reservedKeywords - Reserved words in SQL\n\t *  @param {string[]} cfg.reservedDependentClauses - Words that following a specific Statement and must have data attached\n\t *  @param {string[]} cfg.reservedLogicalOperators - Words that are set to newline\n\t *  @param {string[]} cfg.reservedCommands - Words that are set to new line separately\n\t *  @param {string[]} cfg.reservedBinaryCommands - Words that are top level but have no indentation\n\t *  @param {string[]} cfg.stringTypes - string types to enable - \"\", '', ``, [], N''\n\t *  @param {string[]} cfg.blockStart - Opening parentheses to enable, like (, [\n\t *  @param {string[]} cfg.blockEnd - Closing parentheses to enable, like ), ]\n\t *  @param {string[]} cfg.indexedPlaceholderTypes - Prefixes for indexed placeholders, like ?\n\t *  @param {string[]} cfg.namedPlaceholderTypes - Prefixes for named placeholders, like @ and :\n\t *  @param {string[]} cfg.lineCommentTypes - Line comments to enable, like # and --\n\t *  @param {string[]} cfg.specialWordChars - Special chars that can be found inside of words, like @ and #\n\t *  @param {string[]} cfg.operators - Additional operators to recognize\n\t */\n\tconstructor(cfg: TokenizerOptions) {\n\t\tthis.WHITESPACE_REGEX = /^(\\s+)/u;\n\n\t\tconst specialWordCharsAll = Object.values(cfg.specialWordChars ?? {}).join('');\n\t\tthis.REGEX_MAP = {\n\t\t\t[TokenType.WORD]: regexFactory.createWordRegex(cfg.specialWordChars),\n\t\t\t[TokenType.STRING]: regexFactory.createStringRegex(cfg.stringTypes),\n\t\t\t[TokenType.RESERVED_KEYWORD]: regexFactory.createReservedWordRegex(\n\t\t\t\tcfg.reservedKeywords,\n\t\t\t\tspecialWordCharsAll\n\t\t\t),\n\t\t\t[TokenType.RESERVED_DEPENDENT_CLAUSE]: regexFactory.createReservedWordRegex(\n\t\t\t\tcfg.reservedDependentClauses ?? [],\n\t\t\t\tspecialWordCharsAll\n\t\t\t),\n\t\t\t[TokenType.RESERVED_LOGICAL_OPERATOR]: regexFactory.createReservedWordRegex(\n\t\t\t\tcfg.reservedLogicalOperators,\n\t\t\t\tspecialWordCharsAll\n\t\t\t),\n\t\t\t[TokenType.RESERVED_COMMAND]: regexFactory.createReservedWordRegex(\n\t\t\t\tcfg.reservedCommands,\n\t\t\t\tspecialWordCharsAll\n\t\t\t),\n\t\t\t[TokenType.RESERVED_BINARY_COMMAND]: regexFactory.createReservedWordRegex(\n\t\t\t\tcfg.reservedBinaryCommands,\n\t\t\t\tspecialWordCharsAll\n\t\t\t),\n\t\t\t[TokenType.OPERATOR]: regexFactory.createOperatorRegex('+-/*%&|^><=.,;[]{}`:$', [\n\t\t\t\t'<>',\n\t\t\t\t'<=',\n\t\t\t\t'>=',\n\t\t\t\t'!=',\n\t\t\t\t...(cfg.operators ?? []),\n\t\t\t]),\n\t\t\t[TokenType.BLOCK_START]: regexFactory.createParenRegex(cfg.blockStart),\n\t\t\t[TokenType.BLOCK_END]: regexFactory.createParenRegex(cfg.blockEnd),\n\t\t\t[TokenType.LINE_COMMENT]: regexFactory.createLineCommentRegex(cfg.lineCommentTypes),\n\t\t\t[TokenType.BLOCK_COMMENT]: /^(\\/\\*[^]*?(?:\\*\\/|$))/u,\n\t\t\t[TokenType.NUMBER]:\n\t\t\t\t/^((-\\s*)?[0-9]+(\\.[0-9]*)?([eE][-+]?[0-9]+(\\.[0-9]+)?)?|0x[0-9a-fA-F]+|0b[01]+)/u,\n\t\t\t[TokenType.PLACEHOLDER]: NULL_REGEX, // matches nothing\n\t\t};\n\n\t\tthis.INDEXED_PLACEHOLDER_REGEX = regexFactory.createPlaceholderRegex(\n\t\t\tcfg.indexedPlaceholderTypes ?? [],\n\t\t\t'[0-9]*'\n\t\t);\n\t\tthis.IDENT_NAMED_PLACEHOLDER_REGEX = regexFactory.createPlaceholderRegex(\n\t\t\tcfg.namedPlaceholderTypes,\n\t\t\t'[a-zA-Z0-9._$]+'\n\t\t);\n\t\tthis.STRING_NAMED_PLACEHOLDER_REGEX = regexFactory.createPlaceholderRegex(\n\t\t\tcfg.namedPlaceholderTypes,\n\t\t\tregexFactory.createStringPattern(cfg.stringTypes)\n\t\t);\n\t}\n\n\t/**\n\t * Takes a SQL string and breaks it into tokens.\n\t * Each token is an object with type and value.\n\t *\n\t * @param {string} input - The SQL string\n\t * @returns {Token[]} output token stream\n\t */\n\ttokenize(input: string): Token[] {\n\t\tconst tokens: Token[] = [];\n\t\tlet token: Token | undefined;\n\n\t\t// Keep processing the string until it is empty\n\t\twhile (input.length) {\n\t\t\t// grab any preceding whitespace\n\t\t\tconst whitespaceBefore = this.getWhitespace(input);\n\t\t\tinput = input.substring(whitespaceBefore.length);\n\n\t\t\tif (input.length) {\n\t\t\t\t// Get the next token and the token type\n\t\t\t\ttoken = this.getNextToken(input, token);\n\t\t\t\t// Advance the string\n\t\t\t\tinput = input.substring(token.value.length);\n\n\t\t\t\ttokens.push({ ...token, whitespaceBefore });\n\t\t\t}\n\t\t}\n\t\treturn tokens;\n\t}\n\n\t/** Matches preceding whitespace if present */\n\tgetWhitespace(input: string): string {\n\t\tconst matches = input.match(this.WHITESPACE_REGEX);\n\t\treturn matches ? matches[1] : '';\n\t}\n\n\t/** Curried function of `getTokenOnFirstMatch` that allows token type to be passed first */\n\tmatchToken =\n\t\t(tokenType: TokenType) =>\n\t\t(input: string): Token | undefined =>\n\t\t\tthis.getTokenOnFirstMatch({\n\t\t\t\tinput,\n\t\t\t\ttype: tokenType,\n\t\t\t\tregex: this.REGEX_MAP[tokenType],\n\t\t\t});\n\n\t/** Attempts to match next token from input string, tests RegExp patterns in decreasing priority */\n\tgetNextToken(input: string, previousToken?: Token) {\n\t\treturn (this.matchToken(TokenType.LINE_COMMENT)(input) ||\n\t\t\tthis.matchToken(TokenType.BLOCK_COMMENT)(input) ||\n\t\t\tthis.matchToken(TokenType.STRING)(input) ||\n\t\t\tthis.matchToken(TokenType.BLOCK_START)(input) ||\n\t\t\tthis.matchToken(TokenType.BLOCK_END)(input) ||\n\t\t\tthis.getPlaceholderToken(input) ||\n\t\t\tthis.matchToken(TokenType.NUMBER)(input) ||\n\t\t\tthis.getReservedWordToken(input, previousToken) ||\n\t\t\tthis.matchToken(TokenType.WORD)(input) ||\n\t\t\tthis.matchToken(TokenType.OPERATOR)(input)) as Token;\n\t}\n\n\t/**\n\t * Attempts to match a placeholder token pattern\n\t * @return {Token | undefined} - The placeholder token if found, otherwise undefined\n\t */\n\tgetPlaceholderToken(input: string): Token | undefined {\n\t\tconst placeholderTokenRegexMap: { regex: RegExp; parseKey: (s: string) => string }[] = [\n\t\t\t// pattern for placeholder with identifier name\n\t\t\t{\n\t\t\t\tregex: this.IDENT_NAMED_PLACEHOLDER_REGEX ?? NULL_REGEX,\n\t\t\t\tparseKey: v => v.slice(1),\n\t\t\t},\n\t\t\t// pattern for placeholder with string name\n\t\t\t{\n\t\t\t\tregex: this.STRING_NAMED_PLACEHOLDER_REGEX ?? NULL_REGEX,\n\t\t\t\tparseKey: v =>\n\t\t\t\t\tthis.getEscapedPlaceholderKey({ key: v.slice(2, -1), quoteChar: v.slice(-1) }),\n\t\t\t},\n\t\t\t// pattern for placeholder with numeric index\n\t\t\t{\n\t\t\t\tregex: this.INDEXED_PLACEHOLDER_REGEX ?? NULL_REGEX,\n\t\t\t\tparseKey: v => v.slice(1),\n\t\t\t},\n\t\t];\n\n\t\treturn placeholderTokenRegexMap.reduce((acc, { regex, parseKey }) => {\n\t\t\tconst token = this.getTokenOnFirstMatch({ input, regex, type: TokenType.PLACEHOLDER });\n\t\t\treturn token ? { ...token, key: parseKey(token.value) } : acc;\n\t\t}, undefined as Token | undefined);\n\t}\n\n\tgetEscapedPlaceholderKey({ key, quoteChar }: { key: string; quoteChar: string }): string {\n\t\treturn key.replace(new RegExp(escapeRegExp('\\\\' + quoteChar), 'gu'), quoteChar);\n\t}\n\n\t/**\n\t * Attempts to match a Reserved word token pattern, avoiding edge cases of Reserved words within string tokens\n\t * @return {Token | undefined} - The Reserved word token if found, otherwise undefined\n\t */\n\tgetReservedWordToken(input: string, previousToken?: Token): Token | undefined {\n\t\t// A reserved word cannot be preceded by a '.', '[', '`', or '\"'\n\t\t// this makes it so for \"mytable.from\", [from], `from`, \"from\" - from is not considered a Reserved word\n\t\tif (previousToken && ['.', '[', '`', '\"'].includes(previousToken.value)) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\t// prioritised list of Reserved token types\n\t\tconst reservedTokenList = [\n\t\t\tTokenType.RESERVED_COMMAND,\n\t\t\tTokenType.RESERVED_BINARY_COMMAND,\n\t\t\tTokenType.RESERVED_DEPENDENT_CLAUSE,\n\t\t\tTokenType.RESERVED_LOGICAL_OPERATOR,\n\t\t\tTokenType.RESERVED_KEYWORD,\n\t\t];\n\n\t\treturn reservedTokenList.reduce(\n\t\t\t(matchedToken, tokenType) => matchedToken || this.matchToken(tokenType)(input),\n\t\t\tundefined as Token | undefined\n\t\t);\n\t}\n\n\t/**\n\t * Attempts to match RegExp from head of input, returning undefined if not found\n\t * @param {string} _.input - The string to match\n\t * @param {TokenType} _.type - The type of token to match against\n\t * @param {RegExp} _.regex - The regex to match\n\t * @return {Token | undefined} - The matched token if found, otherwise undefined\n\t */\n\tgetTokenOnFirstMatch({\n\t\tinput,\n\t\ttype,\n\t\tregex,\n\t}: {\n\t\tinput: string;\n\t\ttype: TokenType;\n\t\tregex: RegExp;\n\t}): Token | undefined {\n\t\tconst matches = input.match(regex);\n\t\treturn matches ? ({ type, value: matches[1] } as Token) : undefined;\n\t}\n}\n","import Formatter from '../core/Formatter';\nimport Tokenizer from '../core/Tokenizer';\nimport type { StringPatternType } from '../core/regexFactory';\nimport { Token } from '../core/token';\nimport { dedupe } from '../utils';\n\n/**\n * Priority 5 (last)\n * Full list of reserved functions\n * distinct from Keywords due to interaction with parentheses\n */\nconst reservedFunctions = {\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/aead_encryption_functions\n\taead: [\n\t\t'KEYS.NEW_KEYSET',\n\t\t'KEYS.ADD_KEY_FROM_RAW_BYTES',\n\t\t'AEAD.DECRYPT_BYTES',\n\t\t'AEAD.DECRYPT_STRING',\n\t\t'AEAD.ENCRYPT',\n\t\t'KEYS.KEYSET_CHAIN',\n\t\t'KEYS.KEYSET_FROM_JSON',\n\t\t'KEYS.KEYSET_TO_JSON',\n\t\t'KEYS.ROTATE_KEYSET',\n\t\t'KEYS.KEYSET_LENGTH',\n\t],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/aggregate_analytic_functions\n\taggregateAnalytic: [\n\t\t'ANY_VALUE',\n\t\t'ARRAY_AGG',\n\t\t'AVG',\n\t\t'CORR',\n\t\t'COUNT',\n\t\t'COUNTIF',\n\t\t'COVAR_POP',\n\t\t'COVAR_SAMP',\n\t\t'MAX',\n\t\t'MIN',\n\t\t'ST_CLUSTERDBSCAN',\n\t\t'STDDEV_POP',\n\t\t'STDDEV_SAMP',\n\t\t'STRING_AGG',\n\t\t'SUM',\n\t\t'VAR_POP',\n\t\t'VAR_SAMP',\n\t],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/aggregate_functions\n\taggregate: [\n\t\t'ANY_VALUE',\n\t\t'ARRAY_AGG',\n\t\t'ARRAY_CONCAT_AGG',\n\t\t'AVG',\n\t\t'BIT_AND',\n\t\t'BIT_OR',\n\t\t'BIT_XOR',\n\t\t'COUNT',\n\t\t'COUNTIF',\n\t\t'LOGICAL_AND',\n\t\t'LOGICAL_OR',\n\t\t'MAX',\n\t\t'MIN',\n\t\t'STRING_AGG',\n\t\t'SUM',\n\t],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/approximate_aggregate_functions\n\tapproximateAggregate: [\n\t\t'APPROX_COUNT_DISTINCT',\n\t\t'APPROX_QUANTILES',\n\t\t'APPROX_TOP_COUNT',\n\t\t'APPROX_TOP_SUM',\n\t],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/array_functions\n\tarray: [\n\t\t'ARRAY',\n\t\t'ARRAY_CONCAT',\n\t\t'ARRAY_LENGTH',\n\t\t'ARRAY_TO_STRING',\n\t\t'GENERATE_ARRAY',\n\t\t'GENERATE_DATE_ARRAY',\n\t\t'GENERATE_TIMESTAMP_ARRAY',\n\t\t'ARRAY_REVERSE',\n\t\t'OFFSET',\n\t\t'SAFE_OFFSET',\n\t\t'ORDINAL',\n\t\t'SAFE_ORDINAL',\n\t],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/bit_functions\n\tbitwise: ['BIT_COUNT'],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/conversion_functions\n\tconversion: ['CASE', 'PARSE_BIGNUMERIC', 'PARSE_NUMERIC', 'SAFE_CAST'],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/date_functions\n\tdate: [\n\t\t'CURRENT_DATE',\n\t\t'EXTRACT',\n\t\t'DATE',\n\t\t'DATE_ADD',\n\t\t'DATE_SUB',\n\t\t'DATE_DIFF',\n\t\t'DATE_TRUNC',\n\t\t'DATE_FROM_UNIX_DATE',\n\t\t'FORMAT_DATE',\n\t\t'LAST_DAY',\n\t\t'PARSE_DATE',\n\t\t'UNIX_DATE',\n\t],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/datetime_functions\n\tdatetime: [\n\t\t'CURRENT_DATETIME',\n\t\t'DATETIME',\n\t\t'EXTRACT',\n\t\t'DATETIME_ADD',\n\t\t'DATETIME_SUB',\n\t\t'DATETIME_DIFF',\n\t\t'DATETIME_TRUNC',\n\t\t'FORMAT_DATETIME',\n\t\t'LAST_DAY',\n\t\t'PARSE_DATETIME',\n\t],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/debugging_functions\n\tdebugging: ['ERROR'],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/federated_query_functions\n\tfederatedQuery: ['EXTERNAL_QUERY'],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/geography_functions\n\tgeography: [\n\t\t'S2_CELLIDFROMPOINT',\n\t\t'S2_COVERINGCELLIDS',\n\t\t'ST_ANGLE',\n\t\t'ST_AREA',\n\t\t'ST_ASBINARY',\n\t\t'ST_ASGEOJSON',\n\t\t'ST_ASTEXT',\n\t\t'ST_AZIMUTH',\n\t\t'ST_BOUNDARY',\n\t\t'ST_BOUNDINGBOX',\n\t\t'ST_BUFFER',\n\t\t'ST_BUFFERWITHTOLERANCE',\n\t\t'ST_CENTROID',\n\t\t'ST_CENTROID_AGG',\n\t\t'ST_CLOSESTPOINT',\n\t\t'ST_CLUSTERDBSCAN',\n\t\t'ST_CONTAINS',\n\t\t'ST_CONVEXHULL',\n\t\t'ST_COVEREDBY',\n\t\t'ST_COVERS',\n\t\t'ST_DIFFERENCE',\n\t\t'ST_DIMENSION',\n\t\t'ST_DISJOINT',\n\t\t'ST_DISTANCE',\n\t\t'ST_DUMP',\n\t\t'ST_DWITHIN',\n\t\t'ST_ENDPOINT',\n\t\t'ST_EQUALS',\n\t\t'ST_EXTENT',\n\t\t'ST_EXTERIORRING',\n\t\t'ST_GEOGFROM',\n\t\t'ST_GEOGFROMGEOJSON',\n\t\t'ST_GEOGFROMTEXT',\n\t\t'ST_GEOGFROMWKB',\n\t\t'ST_GEOGPOINT',\n\t\t'ST_GEOGPOINTFROMGEOHASH',\n\t\t'ST_GEOHASH',\n\t\t'ST_GEOMETRYTYPE',\n\t\t'ST_INTERIORRINGS',\n\t\t'ST_INTERSECTION',\n\t\t'ST_INTERSECTS',\n\t\t'ST_INTERSECTSBOX',\n\t\t'ST_ISCOLLECTION',\n\t\t'ST_ISEMPTY',\n\t\t'ST_LENGTH',\n\t\t'ST_MAKELINE',\n\t\t'ST_MAKEPOLYGON',\n\t\t'ST_MAKEPOLYGONORIENTED',\n\t\t'ST_MAXDISTANCE',\n\t\t'ST_NPOINTS',\n\t\t'ST_NUMGEOMETRIES',\n\t\t'ST_NUMPOINTS',\n\t\t'ST_PERIMETER',\n\t\t'ST_POINTN',\n\t\t'ST_SIMPLIFY',\n\t\t'ST_SNAPTOGRID',\n\t\t'ST_STARTPOINT',\n\t\t'ST_TOUCHES',\n\t\t'ST_UNION',\n\t\t'ST_UNION_AGG',\n\t\t'ST_WITHIN',\n\t\t'ST_X',\n\t\t'ST_Y',\n\t],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/hash_functions\n\thash: ['FARM_FINGERPRINT', 'MD5', 'SHA1', 'SHA256', 'SHA512'],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/hll_functions\n\thll: ['HLL_COUNT.INIT', 'HLL_COUNT.MERGE', 'HLL_COUNT.MERGE_PARTIAL', 'HLL_COUNT.EXTRACT'],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/interval_functions\n\tinterval: ['MAKE_INTERVAL', 'EXTRACT', 'JUSTIFY_DAYS', 'JUSTIFY_HOURS', 'JUSTIFY_INTERVAL'],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/json_functions\n\tjson: [\n\t\t'JSON_EXTRACT',\n\t\t'JSON_QUERY',\n\t\t'JSON_EXTRACT_SCALAR',\n\t\t'JSON_VALUE',\n\t\t'JSON_EXTRACT_ARRAY',\n\t\t'JSON_QUERY_ARRAY',\n\t\t'JSON_EXTRACT_STRING_ARRAY',\n\t\t'JSON_VALUE_ARRAY',\n\t\t'TO_JSON_STRING',\n\t],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/mathematical_functions\n\tmath: [\n\t\t'ABS',\n\t\t'SIGN',\n\t\t'IS_INF',\n\t\t'IS_NAN',\n\t\t'IEEE_DIVIDE',\n\t\t'RAND',\n\t\t'SQRT',\n\t\t'POW',\n\t\t'POWER',\n\t\t'EXP',\n\t\t'LN',\n\t\t'LOG',\n\t\t'LOG10',\n\t\t'GREATEST',\n\t\t'LEAST',\n\t\t'DIV',\n\t\t'SAFE_DIVIDE',\n\t\t'SAFE_MULTIPLY',\n\t\t'SAFE_NEGATE',\n\t\t'SAFE_ADD',\n\t\t'SAFE_SUBTRACT',\n\t\t'MOD',\n\t\t'ROUND',\n\t\t'TRUNC',\n\t\t'CEIL',\n\t\t'CEILING',\n\t\t'FLOOR',\n\t\t'COS',\n\t\t'COSH',\n\t\t'ACOS',\n\t\t'ACOSH',\n\t\t'SIN',\n\t\t'SINH',\n\t\t'ASIN',\n\t\t'ASINH',\n\t\t'TAN',\n\t\t'TANH',\n\t\t'ATAN',\n\t\t'ATANH',\n\t\t'ATAN2',\n\t\t'RANGE_BUCKET',\n\t],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/navigation_functions\n\tnavigation: [\n\t\t'FIRST_VALUE',\n\t\t'LAST_VALUE',\n\t\t'NTH_VALUE',\n\t\t'LEAD',\n\t\t'LAG',\n\t\t'PERCENTILE_CONT',\n\t\t'PERCENTILE_DISC',\n\t],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/net_functions\n\tnet: [\n\t\t'NET.IP_FROM_STRING',\n\t\t'NET.SAFE_IP_FROM_STRING',\n\t\t'NET.IP_TO_STRING',\n\t\t'NET.IP_NET_MASK',\n\t\t'NET.IP_TRUNC',\n\t\t'NET.IPV4_FROM_INT64',\n\t\t'NET.IPV4_TO_INT64',\n\t\t'NET.HOST',\n\t\t'NET.PUBLIC_SUFFIX',\n\t\t'NET.REG_DOMAIN',\n\t],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/numbering_functions\n\tnumbering: ['RANK', 'DENSE_RANK', 'PERCENT_RANK', 'CUME_DIST', 'NTILE', 'ROW_NUMBER'],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/security_functions\n\tsecurity: ['SESSION_USER'],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/statistical_aggregate_functions\n\tstatisticalAggregate: [\n\t\t'CORR',\n\t\t'COVAR_POP',\n\t\t'COVAR_SAMP',\n\t\t'STDDEV_POP',\n\t\t'STDDEV_SAMP',\n\t\t'STDDEV',\n\t\t'VAR_POP',\n\t\t'VAR_SAMP',\n\t\t'VARIANCE',\n\t],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/string_functions\n\tstring: [\n\t\t'ASCII',\n\t\t'BYTE_LENGTH',\n\t\t'CHAR_LENGTH',\n\t\t'CHARACTER_LENGTH',\n\t\t'CHR',\n\t\t'CODE_POINTS_TO_BYTES',\n\t\t'CODE_POINTS_TO_STRING',\n\t\t'CONCAT',\n\t\t'CONTAINS_SUBSTR',\n\t\t'ENDS_WITH',\n\t\t'FORMAT',\n\t\t'FROM_BASE32',\n\t\t'FROM_BASE64',\n\t\t'FROM_HEX',\n\t\t'INITCAP',\n\t\t'INSTR',\n\t\t'LEFT',\n\t\t'LENGTH',\n\t\t'LPAD',\n\t\t'LOWER',\n\t\t'LTRIM',\n\t\t'NORMALIZE',\n\t\t'NORMALIZE_AND_CASEFOLD',\n\t\t'OCTET_LENGTH',\n\t\t'REGEXP_CONTAINS',\n\t\t'REGEXP_EXTRACT',\n\t\t'REGEXP_EXTRACT_ALL',\n\t\t'REGEXP_INSTR',\n\t\t'REGEXP_REPLACE',\n\t\t'REGEXP_SUBSTR',\n\t\t'REPLACE',\n\t\t'REPEAT',\n\t\t'REVERSE',\n\t\t'RIGHT',\n\t\t'RPAD',\n\t\t'RTRIM',\n\t\t'SAFE_CONVERT_BYTES_TO_STRING',\n\t\t'SOUNDEX',\n\t\t'SPLIT',\n\t\t'STARTS_WITH',\n\t\t'STRPOS',\n\t\t'SUBSTR',\n\t\t'SUBSTRING',\n\t\t'TO_BASE32',\n\t\t'TO_BASE64',\n\t\t'TO_CODE_POINTS',\n\t\t'TO_HEX',\n\t\t'TRANSLATE',\n\t\t'TRIM',\n\t\t'UNICODE',\n\t\t'UPPER',\n\t],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/time_functions\n\ttime: [\n\t\t'CURRENT_TIME',\n\t\t'TIME',\n\t\t'EXTRACT',\n\t\t'TIME_ADD',\n\t\t'TIME_SUB',\n\t\t'TIME_DIFF',\n\t\t'TIME_TRUNC',\n\t\t'FORMAT_TIME',\n\t\t'PARSE_TIME',\n\t],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/timestamp_functions\n\ttimestamp: [\n\t\t'CURRENT_TIMESTAMP',\n\t\t'EXTRACT',\n\t\t'STRING',\n\t\t'TIMESTAMP',\n\t\t'TIMESTAMP_ADD',\n\t\t'TIMESTAMP_SUB',\n\t\t'TIMESTAMP_DIFF',\n\t\t'TIMESTAMP_TRUNC',\n\t\t'FORMAT_TIMESTAMP',\n\t\t'PARSE_TIMESTAMP',\n\t\t'TIMESTAMP_SECONDS',\n\t\t'TIMESTAMP_MILLIS',\n\t\t'TIMESTAMP_MICROS',\n\t\t'UNIX_SECONDS',\n\t\t'UNIX_MILLIS',\n\t\t'UNIX_MICROS',\n\t],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/uuid_functions\n\tuuid: ['GENERATE_UUID'],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/conditional_expressions\n\tconditional: ['COALESCE', 'IF', 'IFNULL', 'NULLIF'],\n\t// https://cloud.google.com/bigquery/docs/reference/legacy-sql\n\tlegacyAggregate: [\n\t\t'AVG',\n\t\t'BIT_AND',\n\t\t'BIT_OR',\n\t\t'BIT_XOR',\n\t\t'CORR',\n\t\t'COUNT',\n\t\t'COVAR_POP',\n\t\t'COVAR_SAMP',\n\t\t'EXACT_COUNT_DISTINCT',\n\t\t'FIRST',\n\t\t'GROUP_CONCAT',\n\t\t'GROUP_CONCAT_UNQUOTED',\n\t\t'LAST',\n\t\t'MAX',\n\t\t'MIN',\n\t\t'NEST',\n\t\t'NTH',\n\t\t'QUANTILES',\n\t\t'STDDEV',\n\t\t'STDDEV_POP',\n\t\t'STDDEV_SAMP',\n\t\t'SUM',\n\t\t'TOP',\n\t\t'UNIQUE',\n\t\t'VARIANCE',\n\t\t'VAR_POP',\n\t\t'VAR_SAMP',\n\t],\n\tlegacyBitwise: ['BIT_COUNT'],\n\tlegacyCasting: ['BOOLEAN', 'BYTES', 'CAST', 'FLOAT', 'HEX_STRING', 'INTEGER', 'STRING'],\n\tlegacyComparison: [\n\t\t// expr 'IN',\n\t\t'COALESCE',\n\t\t'GREATEST',\n\t\t'IFNULL',\n\t\t'IS_INF',\n\t\t'IS_NAN',\n\t\t'IS_EXPLICITLY_DEFINED',\n\t\t'LEAST',\n\t\t'NVL',\n\t],\n\tlegacyDatetime: [\n\t\t'CURRENT_DATE',\n\t\t'CURRENT_TIME',\n\t\t'CURRENT_TIMESTAMP',\n\t\t'DATE',\n\t\t'DATE_ADD',\n\t\t'DATEDIFF',\n\t\t'DAY',\n\t\t'DAYOFWEEK',\n\t\t'DAYOFYEAR',\n\t\t'FORMAT_UTC_USEC',\n\t\t'HOUR',\n\t\t'MINUTE',\n\t\t'MONTH',\n\t\t'MSEC_TO_TIMESTAMP',\n\t\t'NOW',\n\t\t'PARSE_UTC_USEC',\n\t\t'QUARTER',\n\t\t'SEC_TO_TIMESTAMP',\n\t\t'SECOND',\n\t\t'STRFTIME_UTC_USEC',\n\t\t'TIME',\n\t\t'TIMESTAMP',\n\t\t'TIMESTAMP_TO_MSEC',\n\t\t'TIMESTAMP_TO_SEC',\n\t\t'TIMESTAMP_TO_USEC',\n\t\t'USEC_TO_TIMESTAMP',\n\t\t'UTC_USEC_TO_DAY',\n\t\t'UTC_USEC_TO_HOUR',\n\t\t'UTC_USEC_TO_MONTH',\n\t\t'UTC_USEC_TO_WEEK',\n\t\t'UTC_USEC_TO_YEAR',\n\t\t'WEEK',\n\t\t'YEAR',\n\t],\n\tlegacyIp: ['FORMAT_IP', 'PARSE_IP', 'FORMAT_PACKED_IP', 'PARSE_PACKED_IP'],\n\tlegacyJson: ['JSON_EXTRACT', 'JSON_EXTRACT_SCALAR'],\n\tlegacyMath: [\n\t\t'ABS',\n\t\t'ACOS',\n\t\t'ACOSH',\n\t\t'ASIN',\n\t\t'ASINH',\n\t\t'ATAN',\n\t\t'ATANH',\n\t\t'ATAN2',\n\t\t'CEIL',\n\t\t'COS',\n\t\t'COSH',\n\t\t'DEGREES',\n\t\t'EXP',\n\t\t'FLOOR',\n\t\t'LN',\n\t\t'LOG',\n\t\t'LOG2',\n\t\t'LOG10',\n\t\t'PI',\n\t\t'POW',\n\t\t'RADIANS',\n\t\t'RAND',\n\t\t'ROUND',\n\t\t'SIN',\n\t\t'SINH',\n\t\t'SQRT',\n\t\t'TAN',\n\t\t'TANH',\n\t],\n\tlegacyRegex: ['REGEXP_MATCH', 'REGEXP_EXTRACT', 'REGEXP_REPLACE'],\n\tlegacyString: [\n\t\t'CONCAT',\n\t\t// expr CONTAINS 'str'\n\t\t'INSTR',\n\t\t'LEFT',\n\t\t'LENGTH',\n\t\t'LOWER',\n\t\t'LPAD',\n\t\t'LTRIM',\n\t\t'REPLACE',\n\t\t'RIGHT',\n\t\t'RPAD',\n\t\t'RTRIM',\n\t\t'SPLIT',\n\t\t'SUBSTR',\n\t\t'UPPER',\n\t],\n\tlegacyTableWildcard: ['TABLE_DATE_RANGE', 'TABLE_DATE_RANGE_STRICT', 'TABLE_QUERY'],\n\tlegacyUrl: ['HOST', 'DOMAIN', 'TLD'],\n\tlegacyWindow: [\n\t\t'AVG',\n\t\t'COUNT',\n\t\t'MAX',\n\t\t'MIN',\n\t\t'STDDEV',\n\t\t'SUM',\n\t\t'CUME_DIST',\n\t\t'DENSE_RANK',\n\t\t'FIRST_VALUE',\n\t\t'LAG',\n\t\t'LAST_VALUE',\n\t\t'LEAD',\n\t\t'NTH_VALUE',\n\t\t'NTILE',\n\t\t'PERCENT_RANK',\n\t\t'PERCENTILE_CONT',\n\t\t'PERCENTILE_DISC',\n\t\t'RANK',\n\t\t'RATIO_TO_REPORT',\n\t\t'ROW_NUMBER',\n\t],\n\tlegacyMisc: [\n\t\t'CURRENT_USER',\n\t\t'EVERY',\n\t\t'FROM_BASE64',\n\t\t'HASH',\n\t\t'FARM_FINGERPRINT',\n\t\t'IF',\n\t\t'POSITION',\n\t\t'SHA1',\n\t\t'SOME',\n\t\t'TO_BASE64',\n\t],\n\tother: ['BQ.JOBS.CANCEL', 'BQ.REFRESH_MATERIALIZED_VIEW'],\n};\n\n/**\n * Priority 5 (last)\n * Full list of reserved words\n * any words that are in a higher priority are removed\n */\nconst reservedKeywords = {\n\tkeywords: [\n\t\t'ALL',\n\t\t// 'AND',\n\t\t'ANY',\n\t\t// 'ARRAY',\n\t\t'AS',\n\t\t'ASC',\n\t\t'ASSERT_ROWS_MODIFIED',\n\t\t'AT',\n\t\t'BETWEEN',\n\t\t'BY',\n\t\t// 'CASE',\n\t\t'CAST',\n\t\t'COLLATE',\n\t\t'CONTAINS',\n\t\t// 'CREATE',\n\t\t// 'CROSS',\n\t\t'CUBE',\n\t\t'CURRENT',\n\t\t'DEFAULT',\n\t\t'DEFINE',\n\t\t'DESC',\n\t\t'DISTINCT',\n\t\t// 'ELSE',\n\t\t// 'END',\n\t\t'ENUM',\n\t\t'ESCAPE',\n\t\t// 'EXCEPT',\n\t\t// 'EXCLUDE',\n\t\t'EXISTS',\n\t\t'EXTRACT',\n\t\t'FALSE',\n\t\t// 'FETCH',\n\t\t'FOLLOWING',\n\t\t'FOR',\n\t\t// 'FROM',\n\t\t'FULL',\n\t\t// 'GROUP',\n\t\t'GROUPING',\n\t\t'GROUPS',\n\t\t'HASH',\n\t\t// 'HAVING',\n\t\t'IF',\n\t\t'IGNORE',\n\t\t'IN',\n\t\t// 'INNER',\n\t\t// 'INTERSECT',\n\t\t// 'INTERVAL',\n\t\t'INTO',\n\t\t'IS',\n\t\t// 'JOIN',\n\t\t// 'LATERAL',\n\t\t// 'LEFT',\n\t\t'LIKE',\n\t\t// 'LIMIT',\n\t\t'LOOKUP',\n\t\t// 'MERGE',\n\t\t// 'NATURAL',\n\t\t'NEW',\n\t\t'NO',\n\t\t'NOT',\n\t\t'NULL',\n\t\t'NULLS',\n\t\t'OF',\n\t\t// 'ON',\n\t\t// 'OR',\n\t\t// 'ORDER',\n\t\t// 'OUTER',\n\t\t'OVER',\n\t\t'PARTITION',\n\t\t'PRECEDING',\n\t\t'PROTO',\n\t\t'RANGE',\n\t\t'RECURSIVE',\n\t\t'RESPECT',\n\t\t// 'RIGHT',\n\t\t'ROLLUP',\n\t\t'ROWS',\n\t\t// 'SELECT',\n\t\t// 'SET',\n\t\t'SOME',\n\t\t// 'STRUCT',\n\t\t'TABLE',\n\t\t// 'TABLESAMPLE',\n\t\t// 'THEN',\n\t\t'TO',\n\t\t'TREAT',\n\t\t'TRUE',\n\t\t'UNBOUNDED',\n\t\t// 'UNION',\n\t\t// 'UNNEST',\n\t\t// 'USING',\n\t\t// 'WHEN',\n\t\t// 'WHERE',\n\t\t// 'WINDOW',\n\t\t// 'WITH',\n\t\t'WITHIN',\n\t],\n\tdatatypes: [\n\t\t'ARRAY', // parametric, ARRAY<T>\n\t\t'BOOL',\n\t\t'BYTES', // parameterised, BYTES(Length)\n\t\t'DATE',\n\t\t'DATETIME',\n\t\t'GEOGRAPHY',\n\t\t'INTERVAL',\n\t\t'INT64',\n\t\t'INT',\n\t\t'SMALLINT',\n\t\t'INTEGER',\n\t\t'BIGINT',\n\t\t'TINYINT',\n\t\t'BYTEINT',\n\t\t'NUMERIC', // parameterised, NUMERIC(Precision[, Scale])\n\t\t'DECIMAL', // parameterised, DECIMAL(Precision[, Scale])\n\t\t'BIGNUMERIC', // parameterised, BIGNUMERIC(Precision[, Scale])\n\t\t'BIGDECIMAL', // parameterised, BIGDECIMAL(Precision[, Scale])\n\t\t'FLOAT64',\n\t\t'STRING', // parameterised, STRING(Length)\n\t\t'STRUCT', // parametric, STRUCT<T>\n\t\t'TIME',\n\t\t'TIMEZONE',\n\t],\n\t// https://cloud.google.com/bigquery/docs/reference/standard-sql/conversion_functions#formatting_syntax\n\tstringFormat: ['HEX', 'BASEX', 'BASE64M', 'ASCII', 'UTF-8', 'UTF8'],\n\tmisc: ['SAFE'],\n};\n\n/**\n * Priority 1 (first)\n * keywords that begin a new statement\n * will begin new indented block\n */\nconst reservedCommands = [\n\t// DQL, https://cloud.google.com/bigquery/docs/reference/standard-sql/query-syntax\n\t'SELECT',\n\t'FROM',\n\t'UNNEST',\n\t'PIVOT',\n\t'UNPIVOT',\n\t'TABLESAMPLE SYSTEM',\n\t'WHERE',\n\t'GROUP BY',\n\t'HAVING',\n\t'ORDER BY',\n\t'QUALIFY',\n\t'WINDOW',\n\t'LIMIT',\n\t'OFFSET',\n\t'WITH',\n\t'OMIT RECORD IF', // legacy\n\t// DML, https://cloud.google.com/bigquery/docs/reference/standard-sql/dml-syntax\n\t'INSERT',\n\t'INSERT INTO',\n\t'VALUES',\n\t'DELETE',\n\t// 'DELETE FROM',\n\t'TRUNCATE TABLE',\n\t'UPDATE',\n\t'MERGE',\n\t'MERGE INTO',\n\t// 'USING',\n\t// DDL, https://cloud.google.com/bigquery/docs/reference/standard-sql/data-definition-language\n\t'SET SCHEMA', // added\n\t'CREATE SCHEMA',\n\t'CREATE TABLE',\n\t'CREATE TABLE LIKE',\n\t'CREATE TABLE COPY',\n\t'CREATE SNAPSHOT TABLE',\n\t'CREATE TABLE CLONE',\n\t'CREATE VIEW',\n\t'CREATE MATERIALIZED VIEW',\n\t'CREATE EXTERNAL TABLE',\n\t'CREATE FUNCTION',\n\t'CREATE TABLE FUNCTION',\n\t'CREATE PROCEDURE',\n\t'CREATE ROW ACCESS POLICY',\n\t'ALTER SCHEMA SET OPTIONS',\n\t'ALTER TABLE SET OPTIONS',\n\t'ALTER TABLE ADD COLUMN',\n\t'ALTER TABLE RENAME TO',\n\t'ALTER TABLE DROP COLUMN',\n\t'ALTER COLUMN SET OPTIONS',\n\t'ALTER COLUMN DROP NOT NULL',\n\t'ALTER COLUMN SET DATA TYPE',\n\t'ALTER VIEW SET OPTIONS',\n\t'ALTER MATERIALIZED VIEW SET OPTIONS',\n\t'DROP SCHEMA',\n\t'DROP TABLE',\n\t'DROP SNAPSHOT TABLE',\n\t'DROP EXTERNAL TABLE',\n\t'DROP VIEW',\n\t'DROP MATERIALIZED VIEW',\n\t'DROP FUNCTION',\n\t'DROP TABLE FUNCTION',\n\t'DROP PROCEDURE',\n\t'DROP ROW ACCESS POLICY',\n\t// DCL, https://cloud.google.com/bigquery/docs/reference/standard-sql/data-control-language\n\t'GRANT',\n\t'REVOKE',\n\t'CREATE CAPACITY',\n\t'CREATE RESERVATION',\n\t'CREATE ASSIGNMENT',\n\t'DROP CAPACITY',\n\t'DROP RESERVATION',\n\t'DROP ASSIGNMENT',\n\t// Script, https://cloud.google.com/bigquery/docs/reference/standard-sql/scripting\n\t'DECLARE',\n\t'SET',\n\t'EXECUTE IMMEDIATE',\n\t'LOOP',\n\t'END LOOP',\n\t'REPEAT',\n\t'END REPEAT',\n\t'WHILE',\n\t'END WHILE',\n\t'BREAK',\n\t'LEAVE',\n\t'CONTINUE',\n\t'ITERATE',\n\t'FOR',\n\t'END FOR',\n\t'BEGIN',\n\t'BEGIN TRANSACTION',\n\t'COMMIT TRANSACTION',\n\t'ROLLBACK TRANSACTION',\n\t'RAISE',\n\t'RETURN',\n\t'CALL',\n\t// Debug, https://cloud.google.com/bigquery/docs/reference/standard-sql/debugging-statements\n\t'ASSERT',\n\t// Other, https://cloud.google.com/bigquery/docs/reference/standard-sql/other-statements\n\t'EXPORT DATA',\n];\n\n/**\n * Priority 2\n * commands that operate on two tables or subqueries\n * two main categories: joins and boolean set operators\n */\nconst reservedBinaryCommands = [\n\t// set booleans\n\t'INTERSECT',\n\t'INTERSECT ALL',\n\t'INTERSECT DISTINCT',\n\t'UNION',\n\t'UNION ALL',\n\t'UNION DISTINCT',\n\t'EXCEPT',\n\t'EXCEPT ALL',\n\t'EXCEPT DISTINCT',\n\t// joins\n\t'JOIN',\n\t'INNER JOIN',\n\t'LEFT JOIN',\n\t'LEFT OUTER JOIN',\n\t'RIGHT JOIN',\n\t'RIGHT OUTER JOIN',\n\t'FULL JOIN',\n\t'FULL OUTER JOIN',\n\t'CROSS JOIN',\n];\n\n/**\n * Priority 3\n * keywords that follow a previous Statement, must be attached to subsequent data\n * can be fully inline or on newline with optional indent\n */\nconst reservedDependentClauses = ['ON', 'WHEN', 'THEN', 'ELSE', 'USING'];\n\n// https://cloud.google.com/bigquery/docs/reference/#standard-sql-reference\nexport default class BigQueryFormatter extends Formatter {\n\tstatic reservedCommands = reservedCommands;\n\tstatic reservedBinaryCommands = reservedBinaryCommands;\n\tstatic reservedDependentClauses = reservedDependentClauses;\n\tstatic reservedLogicalOperators = ['AND', 'OR'];\n\tstatic fullReservedWords = dedupe([\n\t\t...Object.values(reservedFunctions).reduce((acc, arr) => [...acc, ...arr], []),\n\t\t...Object.values(reservedKeywords).reduce((acc, arr) => [...acc, ...arr], []),\n\t]);\n\n\tstatic stringTypes: StringPatternType[] = ['\"\"', \"''\", '``']; // add: '''''', \"\"\"\"\"\" ; prefixes: r, b\n\tstatic blockStart = ['(', 'CASE'];\n\tstatic blockEnd = [')', 'END'];\n\tstatic indexedPlaceholderTypes = ['?'];\n\tstatic namedPlaceholderTypes = [];\n\tstatic lineCommentTypes = ['--', '#'];\n\tstatic specialWordChars = { any: '_@$-' };\n\tstatic operators = ['>>', '<<', '||'];\n\t// TODO: handle trailing comma in select clause\n\n\ttokenizer() {\n\t\treturn new Tokenizer({\n\t\t\treservedCommands: BigQueryFormatter.reservedCommands,\n\t\t\treservedBinaryCommands: BigQueryFormatter.reservedBinaryCommands,\n\t\t\treservedDependentClauses: BigQueryFormatter.reservedDependentClauses,\n\t\t\treservedLogicalOperators: BigQueryFormatter.reservedLogicalOperators,\n\t\t\treservedKeywords: BigQueryFormatter.fullReservedWords,\n\t\t\tstringTypes: BigQueryFormatter.stringTypes,\n\t\t\tblockStart: BigQueryFormatter.blockStart,\n\t\t\tblockEnd: BigQueryFormatter.blockEnd,\n\t\t\tindexedPlaceholderTypes: BigQueryFormatter.indexedPlaceholderTypes,\n\t\t\tnamedPlaceholderTypes: BigQueryFormatter.namedPlaceholderTypes,\n\t\t\tlineCommentTypes: BigQueryFormatter.lineCommentTypes,\n\t\t\tspecialWordChars: BigQueryFormatter.specialWordChars,\n\t\t\toperators: BigQueryFormatter.operators,\n\t\t});\n\t}\n\n\ttokenOverride(token: Token) {\n\t\tif (\n\t\t\t(/ARRAY/i.test(token.value) || /STRUCT/i.test(token.value)) &&\n\t\t\tthis.tokenLookAhead().value === '<'\n\t\t) {\n\t\t\tlet level = 0;\n\t\t\tlet finalToken = token.value;\n\n\t\t\tdo {\n\t\t\t\tconst nextToken = this.tokenLookAhead();\n\t\t\t\tif (nextToken.value === '>' || nextToken.value === '>>') {\n\t\t\t\t\tlevel -= nextToken.value.length;\n\t\t\t\t} else if (nextToken.value === '<') {\n\t\t\t\t\tlevel++;\n\t\t\t\t}\n\t\t\t\tfinalToken += this.tokens.splice(this.index + 1, 1)[0].value;\n\t\t\t} while (level > 0);\n\n\t\t\treturn { ...token, value: finalToken };\n\t\t}\n\n\t\treturn token;\n\t}\n}\n","import Formatter from '../core/Formatter';\nimport Tokenizer from '../core/Tokenizer';\nimport type { StringPatternType } from '../core/regexFactory';\nimport { dedupe } from '../utils';\n\n/**\n * Priority 5 (last)\n * Full list of reserved functions\n * distinct from Keywords due to interaction with parentheses\n */\nconst reservedFunctions = {\n\t// https://www.ibm.com/docs/en/db2-for-zos/11?topic=functions-aggregate\n\taggregate: [\n\t\t'ARRAY_AGG',\n\t\t'AVG',\n\t\t'CORR',\n\t\t'CORRELATION',\n\t\t'COUNT',\n\t\t'COUNT_BIG',\n\t\t'COVAR_POP',\n\t\t'COVARIANCE',\n\t\t'COVAR',\n\t\t'COVAR_SAMP',\n\t\t'COVARIANCE_SAMP',\n\t\t'CUME_DIST',\n\t\t'GROUPING',\n\t\t'LISTAGG',\n\t\t'MAX',\n\t\t'MEDIAN',\n\t\t'MIN',\n\t\t'PERCENTILE_CONT',\n\t\t'PERCENTILE_DISC',\n\t\t'PERCENT_RANK',\n\t\t'REGR_AVGX',\n\t\t'REGR_AVGY',\n\t\t'REGR_COUNT',\n\t\t'REGR_INTERCEPT',\n\t\t'REGR_ICPT',\n\t\t'REGR_R2',\n\t\t'REGR_SLOPE',\n\t\t'REGR_SXX',\n\t\t'REGR_SXY',\n\t\t'REGR_SYY',\n\t\t'STDDEV_POP',\n\t\t'STDDEV',\n\t\t'STDDEV_SAMP',\n\t\t'SUM',\n\t\t'VAR_POP',\n\t\t'VARIANCE',\n\t\t'VAR',\n\t\t'VAR_SAMP',\n\t\t'VARIANCE_SAMP',\n\t\t'XMLAGG',\n\t],\n\t// https://www.ibm.com/docs/en/db2-for-zos/11?topic=functions-scalar\n\tscalar: [\n\t\t'ABS',\n\t\t'ABSVAL',\n\t\t'ACOS',\n\t\t'ADD_DAYS',\n\t\t'ADD_MONTHS',\n\t\t'ARRAY_DELETE',\n\t\t'ARRAY_FIRST',\n\t\t'ARRAY_LAST',\n\t\t'ARRAY_NEXT',\n\t\t'ARRAY_PRIOR',\n\t\t'ARRAY_TRIM',\n\t\t'ASCII',\n\t\t'ASCII_CHR',\n\t\t'ASCII_STR',\n\t\t'ASCIISTR',\n\t\t'ASIN',\n\t\t'ATAN',\n\t\t'ATANH',\n\t\t'ATAN2',\n\t\t'BIGINT',\n\t\t'BINARY',\n\t\t'BITAND',\n\t\t'BITANDNOT',\n\t\t'BITOR',\n\t\t'BITXOR',\n\t\t'BITNOT',\n\t\t'BLOB',\n\t\t'BTRIM',\n\t\t'CARDINALITY',\n\t\t'CCSID_ENCODING',\n\t\t'CEILING',\n\t\t'CEIL',\n\t\t'CHAR',\n\t\t'CHAR9',\n\t\t'CHARACTER_LENGTH',\n\t\t'CHAR_LENGTH',\n\t\t'CHR',\n\t\t'CLOB',\n\t\t'COALESCE',\n\t\t'COLLATION_KEY',\n\t\t'COMPARE_DECFLOAT',\n\t\t'CONCAT',\n\t\t'CONTAINS',\n\t\t'COS',\n\t\t'COSH',\n\t\t'DATE',\n\t\t'DAY',\n\t\t'DAYOFMONTH',\n\t\t'DAYOFWEEK',\n\t\t'DAYOFWEEK_ISO',\n\t\t'DAYOFYEAR',\n\t\t'DAYS',\n\t\t'DAYS_BETWEEN',\n\t\t'DBCLOB',\n\t\t'DECFLOAT',\n\t\t'DECFLOAT_FORMAT',\n\t\t'DECFLOAT_SORTKEY',\n\t\t'DECIMAL',\n\t\t'DEC',\n\t\t'DECODE',\n\t\t'DECRYPT_BINARY',\n\t\t'DECRYPT_BIT',\n\t\t'DECRYPT_CHAR',\n\t\t'DECRYPT_DB',\n\t\t'DECRYPT_DATAKEY_BIGINT',\n\t\t'DECRYPT_DATAKEY_BIT',\n\t\t'DECRYPT_DATAKEY_CLOB',\n\t\t'DECRYPT_DATAKEY_DBCLOB',\n\t\t'DECRYPT_DATAKEY_DECIMAL',\n\t\t'DECRYPT_DATAKEY_INTEGER',\n\t\t'DECRYPT_DATAKEY_VARCHAR',\n\t\t'DECRYPT_DATAKEY_VARGRAPHIC',\n\t\t'DEGREES',\n\t\t'DIFFERENCE',\n\t\t'DIGITS',\n\t\t'DOUBLE_PRECISION',\n\t\t'DOUBLE',\n\t\t'DSN_XMLVALIDATE',\n\t\t'EBCDIC_CHR',\n\t\t'EBCDIC_STR',\n\t\t'ENCRYPT_DATAKEY',\n\t\t'ENCRYPT_TDES',\n\t\t'EXP',\n\t\t'EXTRACT',\n\t\t'FLOAT',\n\t\t'FLOOR',\n\t\t'GENERATE_UNIQUE',\n\t\t'GENERATE_UNIQUE_BINARY',\n\t\t'GETHINT',\n\t\t'GETVARIABLE',\n\t\t'GRAPHIC',\n\t\t'GREATEST',\n\t\t'HASH',\n\t\t'HASH_CRC32',\n\t\t'HASH_MD5',\n\t\t'HASH_SHA1',\n\t\t'HASH_SHA256',\n\t\t'HEX',\n\t\t'HOUR',\n\t\t'IDENTITY_VAL_LOCAL',\n\t\t'IFNULL',\n\t\t'INSERT',\n\t\t'INSTR',\n\t\t'INTEGER',\n\t\t'INT',\n\t\t'JULIAN_DAY',\n\t\t'LAST_DAY',\n\t\t'LCASE',\n\t\t'LEAST',\n\t\t'LEFT',\n\t\t'LENGTH',\n\t\t'LN',\n\t\t'LOCATE',\n\t\t'LOCATE_IN_STRING',\n\t\t'LOG10',\n\t\t'LOWER',\n\t\t'LPAD',\n\t\t'LTRIM',\n\t\t'MAX',\n\t\t'MAX_CARDINALITY',\n\t\t'MICROSECOND',\n\t\t'MIDNIGHT_SECONDS',\n\t\t'MIN',\n\t\t'MINUTE',\n\t\t'MOD',\n\t\t'MONTH',\n\t\t'MONTHS_BETWEEN',\n\t\t'MQREAD',\n\t\t'MQREADCLOB',\n\t\t'MQRECEIVE',\n\t\t'MQRECEIVECLOB',\n\t\t'MQSEND',\n\t\t'MULTIPLY_ALT',\n\t\t'NEXT_DAY',\n\t\t'NEXT_MONTH',\n\t\t'NORMALIZE_DECFLOAT',\n\t\t'NORMALIZE_STRING',\n\t\t'NULLIF',\n\t\t'NVL',\n\t\t'OVERLAY',\n\t\t'PACK',\n\t\t'POSITION',\n\t\t'POSSTR',\n\t\t'POWER',\n\t\t'POW',\n\t\t'QUANTIZE',\n\t\t'QUARTER',\n\t\t'RADIANS',\n\t\t'RAISE_ERROR',\n\t\t'RANDOM',\n\t\t'RAND',\n\t\t'REAL',\n\t\t'REGEXP_COUNT',\n\t\t'REGEXP_INSTR',\n\t\t'REGEXP_LIKE',\n\t\t'REGEXP_REPLACE',\n\t\t'REGEXP_SUBSTR',\n\t\t'REPEAT',\n\t\t'REPLACE',\n\t\t'RID',\n\t\t'RIGHT',\n\t\t'ROUND',\n\t\t'ROUND_TIMESTAMP',\n\t\t'ROWID',\n\t\t'RPAD',\n\t\t'RTRIM',\n\t\t'SCORE',\n\t\t'SECOND',\n\t\t'SIGN',\n\t\t'SIN',\n\t\t'SINH',\n\t\t'SMALLINT',\n\t\t'SOUNDEX',\n\t\t'SOAPHTTPC',\n\t\t'SOAPHTTPV',\n\t\t'SOAPHTTPNC',\n\t\t'SOAPHTTPNV',\n\t\t'SPACE',\n\t\t'SQRT',\n\t\t'STRIP',\n\t\t'STRLEFT',\n\t\t'STRPOS',\n\t\t'STRRIGHT',\n\t\t'SUBSTR',\n\t\t'SUBSTRING',\n\t\t'TAN',\n\t\t'TANH',\n\t\t'TIME',\n\t\t'TIMESTAMP',\n\t\t'TIMESTAMPADD',\n\t\t'TIMESTAMPDIFF',\n\t\t'TIMESTAMP_FORMAT',\n\t\t'TIMESTAMP_ISO',\n\t\t'TIMESTAMP_TZ',\n\t\t'TO_CHAR',\n\t\t'TO_CLOB',\n\t\t'TO_DATE',\n\t\t'TO_NUMBER',\n\t\t'TOTALORDER',\n\t\t'TO_TIMESTAMP',\n\t\t'TRANSLATE',\n\t\t'TRIM',\n\t\t'TRIM_ARRAY',\n\t\t'TRUNCATE',\n\t\t'TRUNC',\n\t\t'TRUNC_TIMESTAMP',\n\t\t'UCASE',\n\t\t'UNICODE',\n\t\t'UNICODE_STR',\n\t\t'UNISTR',\n\t\t'UPPER',\n\t\t'VALUE',\n\t\t'VARBINARY',\n\t\t'VARCHAR',\n\t\t'VARCHAR9',\n\t\t'VARCHAR_BIT_FORMAT',\n\t\t'VARCHAR_FORMAT',\n\t\t'VARGRAPHIC',\n\t\t'VERIFY_GROUP_FOR_USER',\n\t\t'VERIFY_ROLE_FOR_USER',\n\t\t'VERIFY_TRUSTED_CONTEXT_ROLE_FOR_USER',\n\t\t'WEEK',\n\t\t'WEEK_ISO',\n\t\t'WRAP',\n\t\t'XMLATTRIBUTES',\n\t\t'XMLCOMMENT',\n\t\t'XMLCONCAT',\n\t\t'XMLDOCUMENT',\n\t\t'XMLELEMENT',\n\t\t'XMLFOREST',\n\t\t'XMLMODIFY',\n\t\t'XMLNAMESPACES',\n\t\t'XMLPARSE',\n\t\t'XMLPI',\n\t\t'XMLQUERY',\n\t\t'XMLSERIALIZE',\n\t\t'XMLTEXT',\n\t\t'XMLXSROBJECTID',\n\t\t'XSLTRANSFORM',\n\t\t'YEAR',\n\t],\n\t// https://www.ibm.com/docs/en/db2-for-zos/11?topic=functions-table\n\ttable: [\n\t\t'ADMIN_TASK_LIST',\n\t\t'ADMIN_TASK_OUTPUT',\n\t\t'ADMIN_TASK_STATUS',\n\t\t'BLOCKING_THREADS',\n\t\t'MQREADALL',\n\t\t'MQREADALLCLOB',\n\t\t'MQRECEIVEALL',\n\t\t'MQRECEIVEALLCLOB',\n\t\t'XMLTABLE',\n\t],\n\t// https://www.ibm.com/docs/en/db2-for-zos/11?topic=functions-row\n\trow: ['UNPACK'],\n\t// https://www.ibm.com/docs/en/db2-for-zos/12?topic=expressions-olap-specification\n\tolap: ['FIRST_VALUE', 'LAG', 'LAST_VALUE', 'LEAD', 'NTH_VALUE', 'NTILE', 'RATIO_TO_REPORT'],\n};\n\n/**\n * Priority 5 (last)\n * Full list of reserved words\n * any words that are in a higher priority are removed\n */\nconst reservedKeywords = {\n\t// https://www.ibm.com/docs/en/db2-for-zos/11?topic=words-reserved#db2z_reservedwords__newresword\n\tstandard: [\n\t\t'ALL',\n\t\t'ALLOCATE',\n\t\t'ALLOW',\n\t\t'ALTERAND',\n\t\t'ANY',\n\t\t'AS',\n\t\t'ARRAY',\n\t\t'ARRAY_EXISTS',\n\t\t'ASENSITIVE',\n\t\t'ASSOCIATE',\n\t\t'ASUTIME',\n\t\t'AT',\n\t\t'AUDIT',\n\t\t'AUX',\n\t\t'AUXILIARY',\n\t\t'BEFORE',\n\t\t'BEGIN',\n\t\t'BETWEEN',\n\t\t'BUFFERPOOL',\n\t\t'BY',\n\t\t'CAPTURE',\n\t\t'CASCADED',\n\t\t'CASE',\n\t\t'CAST',\n\t\t'CCSID',\n\t\t'CHARACTER',\n\t\t'CHECK',\n\t\t'CLONE',\n\t\t'CLUSTER',\n\t\t'COLLECTION',\n\t\t'COLLID',\n\t\t'COLUMN',\n\t\t'CONDITION',\n\t\t'CONNECTION',\n\t\t'CONSTRAINT',\n\t\t'CONTENT',\n\t\t'CONTINUE',\n\t\t'CREATE',\n\t\t'CUBE',\n\t\t'CURRENT',\n\t\t'CURRENT_DATE',\n\t\t'CURRENT_LC_CTYPE',\n\t\t'CURRENT_PATH',\n\t\t'CURRENT_SCHEMA',\n\t\t'CURRENT_TIME',\n\t\t'CURRENT_TIMESTAMP',\n\t\t'CURRVAL',\n\t\t'CURSOR',\n\t\t'DATA',\n\t\t'DATABASE',\n\t\t'DBINFO',\n\t\t'DECLARE',\n\t\t'DEFAULT',\n\t\t'DESCRIPTOR',\n\t\t'DETERMINISTIC',\n\t\t'DISABLE',\n\t\t'DISALLOW',\n\t\t'DISTINCT',\n\t\t'DO',\n\t\t'DOCUMENT',\n\t\t'DSSIZE',\n\t\t'DYNAMIC',\n\t\t'EDITPROC',\n\t\t'ENCODING',\n\t\t'ENCRYPTION',\n\t\t'ENDING',\n\t\t'END-EXEC',\n\t\t'ERASE',\n\t\t'ESCAPE',\n\t\t'EXCEPTION',\n\t\t'EXISTS',\n\t\t'EXIT',\n\t\t'EXTERNAL',\n\t\t'FENCED',\n\t\t'FIELDPROC',\n\t\t'FINAL',\n\t\t'FIRST',\n\t\t'FOR',\n\t\t'FREE',\n\t\t'FULL',\n\t\t'FUNCTION',\n\t\t'GENERATED',\n\t\t'GET',\n\t\t'GLOBAL',\n\t\t'GOTO',\n\t\t'GROUP',\n\t\t'HANDLER',\n\t\t'HOLD',\n\t\t'HOURS',\n\t\t'IF',\n\t\t'IMMEDIATE',\n\t\t'IN',\n\t\t'INCLUSIVE',\n\t\t'INDEX',\n\t\t'INHERIT',\n\t\t'INNER',\n\t\t'INOUT',\n\t\t'INSENSITIVE',\n\t\t'INTO',\n\t\t'IS',\n\t\t'ISOBID',\n\t\t'ITERATE',\n\t\t'JAR',\n\t\t'KEEP',\n\t\t'KEY',\n\t\t'LANGUAGE',\n\t\t'LAST',\n\t\t'LC_CTYPE',\n\t\t'LEAVE',\n\t\t'LIKE',\n\t\t'LOCAL',\n\t\t'LOCALE',\n\t\t'LOCATOR',\n\t\t'LOCATORS',\n\t\t'LOCK',\n\t\t'LOCKMAX',\n\t\t'LOCKSIZE',\n\t\t'LONG',\n\t\t'LOOP',\n\t\t'MAINTAINED',\n\t\t'MATERIALIZED',\n\t\t'MICROSECONDS',\n\t\t'MINUTEMINUTES',\n\t\t'MODIFIES',\n\t\t'MONTHS',\n\t\t'NEXT',\n\t\t'NEXTVAL',\n\t\t'NO',\n\t\t'NONE',\n\t\t'NOT',\n\t\t'NULL',\n\t\t'NULLS',\n\t\t'NUMPARTS',\n\t\t'OBID',\n\t\t'OF',\n\t\t'OLD',\n\t\t'OPTIMIZATION',\n\t\t'OPTIMIZE',\n\t\t'ORDER',\n\t\t'ORGANIZATION',\n\t\t'OUT',\n\t\t'OUTER',\n\t\t'PACKAGE',\n\t\t'PARAMETER',\n\t\t'PART',\n\t\t'PADDED',\n\t\t'PARTITION',\n\t\t'PARTITIONED',\n\t\t'PARTITIONING',\n\t\t'PATH',\n\t\t'PIECESIZE',\n\t\t'PERIOD',\n\t\t'PLAN',\n\t\t'PRECISION',\n\t\t'PREVVAL',\n\t\t'PRIOR',\n\t\t'PRIQTY',\n\t\t'PRIVILEGES',\n\t\t'PROCEDURE',\n\t\t'PROGRAM',\n\t\t'PSID',\n\t\t'PUBLIC',\n\t\t'QUERY',\n\t\t'QUERYNO',\n\t\t'READS',\n\t\t'REFERENCES',\n\t\t'RESIGNAL',\n\t\t'RESTRICT',\n\t\t'RESULT',\n\t\t'RESULT_SET_LOCATOR',\n\t\t'RETURN',\n\t\t'RETURNS',\n\t\t'ROLE',\n\t\t'ROLLUP',\n\t\t'ROUND_CEILING',\n\t\t'ROUND_DOWN',\n\t\t'ROUND_FLOOR',\n\t\t'ROUND_HALF_DOWN',\n\t\t'ROUND_HALF_EVEN',\n\t\t'ROUND_HALF_UP',\n\t\t'ROUND_UP',\n\t\t'ROW',\n\t\t'ROWSET',\n\t\t'SCHEMA',\n\t\t'SCRATCHPAD',\n\t\t'SECONDS',\n\t\t'SECQTY',\n\t\t'SECURITY',\n\t\t'SEQUENCE',\n\t\t'SENSITIVE',\n\t\t'SESSION_USER',\n\t\t'SIMPLE',\n\t\t'SOME',\n\t\t'SOURCE',\n\t\t'SPECIFIC',\n\t\t'STANDARD',\n\t\t'STATIC',\n\t\t'STATEMENT',\n\t\t'STAY',\n\t\t'STOGROUP',\n\t\t'STORES',\n\t\t'STYLE',\n\t\t'SUMMARY',\n\t\t'SYNONYM',\n\t\t'SYSDATE',\n\t\t'SYSTEM',\n\t\t'SYSTIMESTAMP',\n\t\t'TABLE',\n\t\t'TABLESPACE',\n\t\t'TO',\n\t\t'TRIGGER',\n\t\t'TYPE',\n\t\t'UNDO',\n\t\t'UNIQUE',\n\t\t'UNTIL',\n\t\t'USER',\n\t\t'USING',\n\t\t'VALIDPROC',\n\t\t'VARIABLE',\n\t\t'VARIANT',\n\t\t'VCAT',\n\t\t'VERSIONING',\n\t\t'VIEW',\n\t\t'VOLATILE',\n\t\t'VOLUMES',\n\t\t'WHILE',\n\t\t'WLM',\n\t\t'XMLEXISTS',\n\t\t'XMLCAST',\n\t\t'YEARS',\n\t\t'ZONE',\n\t],\n\t// https://www.ibm.com/docs/en/db2-for-zos/11?topic=utilities-db2-online\n\tonlineUtilies: [\n\t\t'BACKUP SYSTEM',\n\t\t'CATENFM',\n\t\t'CATMAINT',\n\t\t'CHECK DATA',\n\t\t'CHECK INDEX',\n\t\t'CHECK LOB',\n\t\t'COPY',\n\t\t'COPYTOCOPY',\n\t\t'DIAGNOSE',\n\t\t'EXEC SQL',\n\t\t'LISTDEF',\n\t\t'LOAD',\n\t\t'MERGECOPY',\n\t\t'MODIFY RECOVERY',\n\t\t'MODIFY STATISTICS',\n\t\t'OPTIONS',\n\t\t'QUIESCE',\n\t\t'REBUILD INDEX',\n\t\t'RECOVER',\n\t\t'REORG INDEX',\n\t\t'REORG TABLESPACE',\n\t\t'REPAIR',\n\t\t'REPORT',\n\t\t'RESTORE SYSTEM',\n\t\t'RUNSTATS',\n\t\t'STOSPACE',\n\t\t'TEMPLATE',\n\t\t'UNLOAD',\n\t],\n\t// https://www.ibm.com/docs/en/db2-for-zos/11?topic=db2-commands\n\tcommands: [\n\t\t'ABEND',\n\t\t'ACCESS DATABASE',\n\t\t'ALTER BUFFERPOOL',\n\t\t'ALTER GROUPBUFFERPOOL',\n\t\t'ALTER UTILITY',\n\t\t'ARCHIVE LOG',\n\t\t'BIND PACKAGE',\n\t\t'BIND PLAN',\n\t\t'BIND QUERY',\n\t\t'BIND SERVICE',\n\t\t'BIND',\n\t\t'REBIND',\n\t\t'CANCEL THREAD',\n\t\t'DCLGEN',\n\t\t'DISPLAY ACCEL',\n\t\t'DISPLAY ARCHIVE',\n\t\t'DISPLAY BLOCKERS',\n\t\t'DISPLAY BUFFERPOOL',\n\t\t'DISPLAY DATABASE',\n\t\t'DISPLAY DDF',\n\t\t'DISPLAY FUNCTION SPECIFIC',\n\t\t'DISPLAY GROUP',\n\t\t'DISPLAY GROUPBUFFERPOOL',\n\t\t'DISPLAY LOCATION',\n\t\t'DISPLAY LOG',\n\t\t'DISPLAY PROCEDURE',\n\t\t'DISPLAY PROFILE',\n\t\t'DISPLAY RLIMIT',\n\t\t'DISPLAY RESTSVC',\n\t\t'DISPLAY THREAD',\n\t\t'DISPLAY TRACE',\n\t\t'DISPLAY UTILITY',\n\t\t'DSN',\n\t\t'DSNH',\n\t\t'END',\n\t\t'FREE PACKAGE',\n\t\t'FREE PLAN',\n\t\t'FREE QUERY',\n\t\t'FREE SERVICE',\n\t\t'MODIFY admtproc,APPL=SHUTDOWN',\n\t\t'MODIFY admtproc,APPL=TRACE',\n\t\t'MODIFY DDF',\n\t\t'MODIFY irlmproc,ABEND',\n\t\t'MODIFY irlmproc,DIAG',\n\t\t'MODIFY irlmproc,PURGE',\n\t\t'MODIFY irlmproc,SET',\n\t\t'MODIFY irlmproc,STATUS',\n\t\t'MODIFY TRACE',\n\t\t'REBIND PACKAGE',\n\t\t'REBIND PLAN',\n\t\t'REBIND TRIGGER PACKAGE',\n\t\t'RECOVER BSDS',\n\t\t'RECOVER INDOUBT',\n\t\t'RECOVER POSTPONED',\n\t\t'REFRESH DB2,EARLY',\n\t\t'RESET GENERICLU',\n\t\t'RESET INDOUBT',\n\t\t'RUN',\n\t\t'SET ARCHIVE',\n\t\t'SET LOG',\n\t\t'SET SYSPARM',\n\t\t'SPUFI',\n\t\t'START ACCEL',\n\t\t'START admtproc',\n\t\t'START CDDS',\n\t\t'START DATABASE',\n\t\t'START DB2',\n\t\t'START DDF',\n\t\t'START FUNCTION SPECIFIC',\n\t\t'START irlmproc',\n\t\t'START PROCEDURE',\n\t\t'START PROFILE',\n\t\t'START RLIMIT',\n\t\t'START RESTSVC',\n\t\t'START TRACE',\n\t\t'STOP ACCEL',\n\t\t'STOP admtproc',\n\t\t'STOP CDDS',\n\t\t'STOP DATABASE',\n\t\t'STOP DB2',\n\t\t'STOP DDF',\n\t\t'STOP FUNCTION SPECIFIC',\n\t\t'STOP irlmproc',\n\t\t'STOP PROCEDURE',\n\t\t'STOP PROFILE',\n\t\t'STOP RLIMIT',\n\t\t'STOP RESTSVC',\n\t\t'STOP TRACE',\n\t\t'TERM UTILITY',\n\t\t'TRACE CT',\n\t],\n};\n\n/**\n * Priority 1 (first)\n * keywords that begin a new statement\n * will begin new indented block\n */\n// https://www.ibm.com/docs/en/db2-for-zos/11?topic=statements-list-supported\nconst reservedCommands = [\n\t'ALLOCATE CURSOR',\n\t'ALTER DATABASE',\n\t'ALTER FUNCTION',\n\t'ALTER INDEX',\n\t'ALTER MASK',\n\t'ALTER PERMISSION',\n\t'ALTER PROCEDURE',\n\t'ALTER SEQUENCE',\n\t'ALTER STOGROUP',\n\t'ALTER TABLE',\n\t'ALTER TABLESPACE',\n\t'ALTER TRIGGER',\n\t'ALTER TRUSTED CONTEXT',\n\t'ALTER VIEW',\n\t'ASSOCIATE LOCATORS',\n\t'BEGIN DECLARE SECTION',\n\t'CALL',\n\t'CLOSE',\n\t'COMMENT',\n\t'COMMIT',\n\t'CONNECT',\n\t'CREATE ALIAS',\n\t'CREATE AUXILIARY TABLE',\n\t'CREATE DATABASE',\n\t'CREATE FUNCTION',\n\t'CREATE GLOBAL TEMPORARY TABLE',\n\t'CREATE INDEX',\n\t'CREATE LOB TABLESPACE',\n\t'CREATE MASK',\n\t'CREATE PERMISSION',\n\t'CREATE PROCEDURE',\n\t'CREATE ROLE',\n\t'CREATE SEQUENCE',\n\t'CREATE STOGROUP',\n\t'CREATE SYNONYM',\n\t'CREATE TABLE',\n\t'CREATE TABLESPACE',\n\t'CREATE TRIGGER',\n\t'CREATE TRUSTED CONTEXT',\n\t'CREATE TYPE',\n\t'CREATE VARIABLE',\n\t'CREATE VIEW',\n\t'DECLARE CURSOR',\n\t'DECLARE GLOBAL TEMPORARY TABLE',\n\t'DECLARE STATEMENT',\n\t'DECLARE TABLE',\n\t'DECLARE VARIABLE',\n\t'DELETE',\n\t'DESCRIBE CURSOR',\n\t'DESCRIBE INPUT',\n\t'DESCRIBE OUTPUT',\n\t'DESCRIBE PROCEDURE',\n\t'DESCRIBE TABLE',\n\t'DROP',\n\t'END DECLARE SECTION',\n\t'EXCHANGE',\n\t'EXECUTE',\n\t'EXECUTE IMMEDIATE',\n\t'EXPLAIN',\n\t'FETCH',\n\t'FREE LOCATOR',\n\t'GET DIAGNOSTICS',\n\t'GRANT',\n\t'HOLD LOCATOR',\n\t'INCLUDE',\n\t'INSERT',\n\t'LABEL',\n\t'LOCK TABLE',\n\t'MERGE',\n\t'OPEN',\n\t'PREPARE',\n\t'REFRESH',\n\t'RELEASE',\n\t'RELEASE SAVEPOINT',\n\t'RENAME',\n\t'REVOKE',\n\t'ROLLBACK',\n\t'SAVEPOINT',\n\t'SELECT',\n\t'SELECT INTO',\n\t'SET CONNECTION',\n\t'SET',\n\t'SET CURRENT ACCELERATOR',\n\t'SET CURRENT APPLICATION COMPATIBILITY',\n\t'SET CURRENT APPLICATION ENCODING SCHEME',\n\t'SET CURRENT DEBUG MODE',\n\t'SET CURRENT DECFLOAT ROUNDING MODE',\n\t'SET CURRENT DEGREE',\n\t'SET CURRENT EXPLAIN MODE',\n\t'SET CURRENT GET_ACCEL_ARCHIVE',\n\t'SET CURRENT LOCALE LC_CTYPE',\n\t'SET CURRENT MAINTAINED TABLE TYPES FOR OPTIMIZATION',\n\t'SET CURRENT OPTIMIZATION HINT',\n\t'SET CURRENT PACKAGE PATH',\n\t'SET CURRENT PACKAGESET',\n\t'SET CURRENT PRECISION',\n\t'SET CURRENT QUERY ACCELERATION',\n\t'SET CURRENT QUERY ACCELERATION WAITFORDATA',\n\t'SET CURRENT REFRESH AGE',\n\t'SET CURRENT ROUTINE VERSION',\n\t'SET CURRENT RULES',\n\t'SET CURRENT SQLID',\n\t'SET CURRENT TEMPORAL BUSINESS_TIME',\n\t'SET CURRENT TEMPORAL SYSTEM_TIME',\n\t'SET ENCRYPTION PASSWORD',\n\t'SET PATH',\n\t'SET SCHEMA',\n\t'SET SESSION TIME ZONE',\n\t'SIGNAL',\n\t'TRUNCATE',\n\t'UPDATE',\n\t'VALUES',\n\t'VALUES INTO',\n\t'WHENEVER',\n\t// other\n\t'ADD',\n\t'ALTER COLUMN', // verify\n\t'AFTER',\n\t'DROP TABLE', // verify\n\t'FETCH FIRST',\n\t'FROM',\n\t'GROUP BY',\n\t'GO',\n\t'HAVING',\n\t'INSERT INTO',\n\t'LIMIT',\n\t'OFFSET',\n\t'ORDER BY',\n\t'SELECT',\n\t'SET CURRENT SCHEMA',\n\t'WHERE',\n\t'WITH',\n];\n\n/**\n * Priority 2\n * commands that operate on two tables or subqueries\n * two main categories: joins and boolean set operators\n */\nconst reservedBinaryCommands = [\n\t// set booleans\n\t'INTERSECT',\n\t'INTERSECT ALL',\n\t'INTERSECT DISTINCT',\n\t'UNION',\n\t'UNION ALL',\n\t'UNION DISTINCT',\n\t'EXCEPT',\n\t'EXCEPT ALL',\n\t'EXCEPT DISTINCT',\n\t// joins\n\t'JOIN',\n\t'INNER JOIN',\n\t'LEFT JOIN',\n\t'LEFT OUTER JOIN',\n\t'RIGHT JOIN',\n\t'RIGHT OUTER JOIN',\n\t'FULL JOIN',\n\t'FULL OUTER JOIN',\n\t'CROSS JOIN',\n\t'NATURAL JOIN',\n];\n\n/**\n * Priority 3\n * keywords that follow a previous Statement, must be attached to subsequent data\n * can be fully inline or on newline with optional indent\n */\nconst reservedDependentClauses = ['ON', 'WHEN', 'THEN', 'ELSE', 'ELSEIF'];\n\n// https://www.ibm.com/support/knowledgecenter/en/ssw_ibm_i_72/db2/rbafzintro.htm\nexport default class Db2Formatter extends Formatter {\n\tstatic reservedCommands = reservedCommands;\n\tstatic reservedBinaryCommands = reservedBinaryCommands;\n\tstatic reservedDependentClauses = reservedDependentClauses;\n\tstatic reservedLogicalOperators = ['AND', 'OR'];\n\tstatic fullReservedWords = dedupe([\n\t\t...Object.values(reservedFunctions).reduce((acc, arr) => [...acc, ...arr], []),\n\t\t...Object.values(reservedKeywords).reduce((acc, arr) => [...acc, ...arr], []),\n\t]);\n\n\tstatic stringTypes: StringPatternType[] = [`\"\"`, \"''\", '``', '[]', \"x''\"];\n\tstatic blockStart = ['('];\n\tstatic blockEnd = [')'];\n\tstatic indexedPlaceholderTypes = ['?'];\n\tstatic namedPlaceholderTypes = [':'];\n\tstatic lineCommentTypes = ['--'];\n\tstatic specialWordChars = { any: '#@' };\n\tstatic operators = ['**', '!>', '!<', '||'];\n\n\ttokenizer() {\n\t\treturn new Tokenizer({\n\t\t\treservedCommands: Db2Formatter.reservedCommands,\n\t\t\treservedBinaryCommands: Db2Formatter.reservedBinaryCommands,\n\t\t\treservedDependentClauses: Db2Formatter.reservedDependentClauses,\n\t\t\treservedLogicalOperators: Db2Formatter.reservedLogicalOperators,\n\t\t\treservedKeywords: Db2Formatter.fullReservedWords,\n\t\t\tstringTypes: Db2Formatter.stringTypes,\n\t\t\tblockStart: Db2Formatter.blockStart,\n\t\t\tblockEnd: Db2Formatter.blockEnd,\n\t\t\tindexedPlaceholderTypes: Db2Formatter.indexedPlaceholderTypes,\n\t\t\tnamedPlaceholderTypes: Db2Formatter.namedPlaceholderTypes,\n\t\t\tlineCommentTypes: Db2Formatter.lineCommentTypes,\n\t\t\tspecialWordChars: Db2Formatter.specialWordChars,\n\t\t\toperators: Db2Formatter.operators,\n\t\t});\n\t}\n}\n","import Formatter from '../core/Formatter';\nimport Tokenizer from '../core/Tokenizer';\nimport type { StringPatternType } from '../core/regexFactory';\nimport { dedupe } from '../utils';\n\n/**\n * Priority 5 (last)\n * Full list of reserved functions\n * distinct from Keywords due to interaction with parentheses\n */\n// https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF\nconst reservedFunctions = {\n\tmath: [\n\t\t'ABS',\n\t\t'ACOS',\n\t\t'ASIN',\n\t\t'ATAN',\n\t\t'BIN',\n\t\t'BROUND',\n\t\t'CBRT',\n\t\t'CEIL',\n\t\t'CEILING',\n\t\t'CONV',\n\t\t'COS',\n\t\t'DEGREES',\n\t\t// 'E',\n\t\t'EXP',\n\t\t'FACTORIAL',\n\t\t'FLOOR',\n\t\t'GREATEST',\n\t\t'HEX',\n\t\t'LEAST',\n\t\t'LN',\n\t\t'LOG',\n\t\t'LOG10',\n\t\t'LOG2',\n\t\t'NEGATIVE',\n\t\t'PI',\n\t\t'PMOD',\n\t\t'POSITIVE',\n\t\t'POW',\n\t\t'POWER',\n\t\t'RADIANS',\n\t\t'RAND',\n\t\t'ROUND',\n\t\t'SHIFTLEFT',\n\t\t'SHIFTRIGHT',\n\t\t'SHIFTRIGHTUNSIGNED',\n\t\t'SIGN',\n\t\t'SIN',\n\t\t'SQRT',\n\t\t'TAN',\n\t\t'UNHEX',\n\t\t'WIDTH_BUCKET',\n\t],\n\tarray: ['ARRAY_CONTAINS', 'MAP_KEYS', 'MAP_VALUES', 'SIZE', 'SORT_ARRAY'],\n\tconversion: ['BINARY', 'CAST'],\n\tdate: [\n\t\t'ADD_MONTHS',\n\t\t'DATE',\n\t\t'DATE_ADD',\n\t\t'DATE_FORMAT',\n\t\t'DATE_SUB',\n\t\t'DATEDIFF',\n\t\t'DAY',\n\t\t'DAYNAME',\n\t\t'DAYOFMONTH',\n\t\t'DAYOFYEAR',\n\t\t'EXTRACT',\n\t\t'FROM_UNIXTIME',\n\t\t'FROM_UTC_TIMESTAMP',\n\t\t'HOUR',\n\t\t'LAST_DAY',\n\t\t'MINUTE',\n\t\t'MONTH',\n\t\t'MONTHS_BETWEEN',\n\t\t'NEXT_DAY',\n\t\t'QUARTER',\n\t\t'SECOND',\n\t\t'TIMESTAMP',\n\t\t'TO_DATE',\n\t\t'TO_UTC_TIMESTAMP',\n\t\t'TRUNC',\n\t\t'UNIX_TIMESTAMP',\n\t\t'WEEKOFYEAR',\n\t\t'YEAR',\n\t],\n\tconditional: ['ASSERT_TRUE', 'COALESCE', 'IF', 'ISNOTNULL', 'ISNULL', 'NULLIF', 'NVL'],\n\tstring: [\n\t\t'ASCII',\n\t\t'BASE64',\n\t\t'CHARACTER_LENGTH',\n\t\t'CHR',\n\t\t'CONCAT',\n\t\t'CONCAT_WS',\n\t\t'CONTEXT_NGRAMS',\n\t\t'DECODE',\n\t\t'ELT',\n\t\t'ENCODE',\n\t\t'FIELD',\n\t\t'FIND_IN_SET',\n\t\t'FORMAT_NUMBER',\n\t\t'GET_JSON_OBJECT',\n\t\t'IN_FILE',\n\t\t'INITCAP',\n\t\t'INSTR',\n\t\t'LCASE',\n\t\t'LENGTH',\n\t\t'LEVENSHTEIN',\n\t\t'LOCATE',\n\t\t'LOWER',\n\t\t'LPAD',\n\t\t'LTRIM',\n\t\t'NGRAMS',\n\t\t'OCTET_LENGTH',\n\t\t'PARSE_URL',\n\t\t'PRINTF',\n\t\t'QUOTE',\n\t\t'REGEXP_EXTRACT',\n\t\t'REGEXP_REPLACE',\n\t\t'REPEAT',\n\t\t'REVERSE',\n\t\t'RPAD',\n\t\t'RTRIM',\n\t\t'SENTENCES',\n\t\t'SOUNDEX',\n\t\t'SPACE',\n\t\t'SPLIT',\n\t\t'STR_TO_MAP',\n\t\t'SUBSTR',\n\t\t'SUBSTRING',\n\t\t'TRANSLATE',\n\t\t'TRIM',\n\t\t'UCASE',\n\t\t'UNBASE64',\n\t\t'UPPER',\n\t],\n\tmasking: [\n\t\t'MASK',\n\t\t'MASK_FIRST_N',\n\t\t'MASK_HASH',\n\t\t'MASK_LAST_N',\n\t\t'MASK_SHOW_FIRST_N',\n\t\t'MASK_SHOW_LAST_N',\n\t],\n\tmisc: [\n\t\t'AES_DECRYPT',\n\t\t'AES_ENCRYPT',\n\t\t'CRC32',\n\t\t'CURRENT_DATABASE',\n\t\t'CURRENT_USER',\n\t\t'HASH',\n\t\t'JAVA_METHOD',\n\t\t'LOGGED_IN_USER',\n\t\t'MD5',\n\t\t'REFLECT',\n\t\t'SHA',\n\t\t'SHA1',\n\t\t'SHA2',\n\t\t'SURROGATE_KEY',\n\t\t'VERSION',\n\t],\n\taggregate: [\n\t\t'AVG',\n\t\t'COLLECT_LIST',\n\t\t'COLLECT_SET',\n\t\t'CORR',\n\t\t'COUNT',\n\t\t'COVAR_POP',\n\t\t'COVAR_SAMP',\n\t\t'HISTOGRAM_NUMERIC',\n\t\t'MAX',\n\t\t'MIN',\n\t\t'NTILE',\n\t\t'PERCENTILE',\n\t\t'PERCENTILE_APPROX',\n\t\t'REGR_AVGX',\n\t\t'REGR_AVGY',\n\t\t'REGR_COUNT',\n\t\t'REGR_INTERCEPT',\n\t\t'REGR_R2',\n\t\t'REGR_SLOPE',\n\t\t'REGR_SXX',\n\t\t'REGR_SXY',\n\t\t'REGR_SYY',\n\t\t'STDDEV_POP',\n\t\t'STDDEV_SAMP',\n\t\t'SUM',\n\t\t'VAR_POP',\n\t\t'VAR_SAMP',\n\t\t'VARIANCE',\n\t],\n\ttable: ['EXPLODE', 'INLINE', 'JSON_TUPLE', 'PARSE_URL_TUPLE', 'POSEXPLODE', 'STACK'],\n};\n\n/**\n * Priority 5 (last)\n * Full list of reserved words\n * any words that are in a higher priority are removed\n */\n// https://cwiki.apache.org/confluence/display/hive/languagemanual+ddl\nconst reservedKeywords = {\n\t// Non-reserved keywords have proscribed meanings in. HiveQL, but can still be used as table or column names\n\tnonReserved: [\n\t\t'ADD',\n\t\t'ADMIN',\n\t\t'AFTER',\n\t\t'ANALYZE',\n\t\t'ARCHIVE',\n\t\t'ASC',\n\t\t'BEFORE',\n\t\t'BUCKET',\n\t\t'BUCKETS',\n\t\t'CASCADE',\n\t\t'CHANGE',\n\t\t'CLUSTER',\n\t\t'CLUSTERED',\n\t\t'CLUSTERSTATUS',\n\t\t'COLLECTION',\n\t\t'COLUMNS',\n\t\t'COMMENT',\n\t\t'COMPACT',\n\t\t'COMPACTIONS',\n\t\t'COMPUTE',\n\t\t'CONCATENATE',\n\t\t'CONTINUE',\n\t\t'DATA',\n\t\t'DATABASES',\n\t\t'DATETIME',\n\t\t'DAY',\n\t\t'DBPROPERTIES',\n\t\t'DEFERRED',\n\t\t'DEFINED',\n\t\t'DELIMITED',\n\t\t'DEPENDENCY',\n\t\t'DESC',\n\t\t'DIRECTORIES',\n\t\t'DIRECTORY',\n\t\t'DISABLE',\n\t\t'DISTRIBUTE',\n\t\t'ELEM_TYPE',\n\t\t'ENABLE',\n\t\t'ESCAPED',\n\t\t'EXCLUSIVE',\n\t\t'EXPLAIN',\n\t\t'EXPORT',\n\t\t'FIELDS',\n\t\t'FILE',\n\t\t'FILEFORMAT',\n\t\t'FIRST',\n\t\t'FORMAT',\n\t\t'FORMATTED',\n\t\t'FUNCTIONS',\n\t\t'HOLD_DDLTIME',\n\t\t'HOUR',\n\t\t'IDXPROPERTIES',\n\t\t'IGNORE',\n\t\t'INDEX',\n\t\t'INDEXES',\n\t\t'INPATH',\n\t\t'INPUTDRIVER',\n\t\t'INPUTFORMAT',\n\t\t'ITEMS',\n\t\t'JAR',\n\t\t'KEYS',\n\t\t'KEY_TYPE',\n\t\t'LIMIT',\n\t\t'LINES',\n\t\t'LOAD',\n\t\t'LOCATION',\n\t\t'LOCK',\n\t\t'LOCKS',\n\t\t'LOGICAL',\n\t\t'LONG',\n\t\t'MAPJOIN',\n\t\t'MATERIALIZED',\n\t\t'METADATA',\n\t\t'MINUS',\n\t\t'MINUTE',\n\t\t'MONTH',\n\t\t'MSCK',\n\t\t'NOSCAN',\n\t\t'NO_DROP',\n\t\t'OFFLINE',\n\t\t'OPTION',\n\t\t'OUTPUTDRIVER',\n\t\t'OUTPUTFORMAT',\n\t\t'OVERWRITE',\n\t\t'OWNER',\n\t\t'PARTITIONED',\n\t\t'PARTITIONS',\n\t\t'PLUS',\n\t\t'PRETTY',\n\t\t'PRINCIPALS',\n\t\t'PROTECTION',\n\t\t'PURGE',\n\t\t'READ',\n\t\t'READONLY',\n\t\t'REBUILD',\n\t\t'RECORDREADER',\n\t\t'RECORDWRITER',\n\t\t'RELOAD',\n\t\t'RENAME',\n\t\t'REPAIR',\n\t\t'REPLACE',\n\t\t'REPLICATION',\n\t\t'RESTRICT',\n\t\t'REWRITE',\n\t\t'ROLE',\n\t\t'ROLES',\n\t\t'SCHEMA',\n\t\t'SCHEMAS',\n\t\t'SECOND',\n\t\t'SEMI',\n\t\t'SERDE',\n\t\t'SERDEPROPERTIES',\n\t\t'SERVER',\n\t\t'SETS',\n\t\t'SHARED',\n\t\t'SHOW',\n\t\t'SHOW_DATABASE',\n\t\t'SKEWED',\n\t\t'SORT',\n\t\t'SORTED',\n\t\t'SSL',\n\t\t'STATISTICS',\n\t\t'STORED',\n\t\t'STREAMTABLE',\n\t\t'STRING',\n\t\t'STRUCT',\n\t\t'TABLES',\n\t\t'TBLPROPERTIES',\n\t\t'TEMPORARY',\n\t\t'TERMINATED',\n\t\t'TINYINT',\n\t\t'TOUCH',\n\t\t'TRANSACTIONS',\n\t\t'UNARCHIVE',\n\t\t'UNDO',\n\t\t'UNIONTYPE',\n\t\t'UNLOCK',\n\t\t'UNSET',\n\t\t'UNSIGNED',\n\t\t'URI',\n\t\t// 'USE',\n\t\t'UTC',\n\t\t'UTCTIMESTAMP',\n\t\t'VALUE_TYPE',\n\t\t'VIEW',\n\t\t'WHILE',\n\t\t'YEAR',\n\t\t'AUTOCOMMIT',\n\t\t'ISOLATION',\n\t\t'LEVEL',\n\t\t'OFFSET',\n\t\t'SNAPSHOT',\n\t\t'TRANSACTION',\n\t\t'WORK',\n\t\t'WRITE',\n\t\t'ABORT',\n\t\t'KEY',\n\t\t'LAST',\n\t\t'NORELY',\n\t\t'NOVALIDATE',\n\t\t'NULLS',\n\t\t'RELY',\n\t\t'VALIDATE',\n\t\t'DETAIL',\n\t\t'DOW',\n\t\t'EXPRESSION',\n\t\t'OPERATOR',\n\t\t'QUARTER',\n\t\t'SUMMARY',\n\t\t'VECTORIZATION',\n\t\t'WEEK',\n\t\t'YEARS',\n\t\t'MONTHS',\n\t\t'WEEKS',\n\t\t'DAYS',\n\t\t'HOURS',\n\t\t'MINUTES',\n\t\t'SECONDS',\n\t\t'TIMESTAMPTZ',\n\t\t'ZONE',\n\t],\n\treserved: [\n\t\t// reserved\n\t\t'ALL',\n\t\t// 'ALTER',\n\t\t// 'AND',\n\t\t'ARRAY',\n\t\t'AS',\n\t\t'AUTHORIZATION',\n\t\t'BETWEEN',\n\t\t'BIGINT',\n\t\t'BINARY',\n\t\t'BOOLEAN',\n\t\t'BOTH',\n\t\t'BY',\n\t\t// 'CASE',\n\t\t'CAST',\n\t\t'CHAR',\n\t\t'COLUMN',\n\t\t'CONF',\n\t\t// 'CREATE',\n\t\t'CROSS',\n\t\t'CUBE',\n\t\t'CURRENT',\n\t\t'CURRENT_DATE',\n\t\t'CURRENT_TIMESTAMP',\n\t\t'CURSOR',\n\t\t'DATABASE',\n\t\t'DATE',\n\t\t'DECIMAL',\n\t\t'DELETE',\n\t\t// 'DESCRIBE',\n\t\t'DISTINCT',\n\t\t'DOUBLE',\n\t\t// 'DROP',\n\t\t// 'ELSE',\n\t\t// 'END',\n\t\t'EXCHANGE',\n\t\t'EXISTS',\n\t\t'EXTENDED',\n\t\t'EXTERNAL',\n\t\t'FALSE',\n\t\t// 'FETCH',\n\t\t'FLOAT',\n\t\t'FOLLOWING',\n\t\t'FOR',\n\t\t// 'FROM',\n\t\t'FULL',\n\t\t'FUNCTION',\n\t\t'GRANT',\n\t\t// 'GROUP',\n\t\t'GROUPING',\n\t\t// 'HAVING',\n\t\t'IF',\n\t\t'IMPORT',\n\t\t'IN',\n\t\t'INNER',\n\t\t// 'INSERT',\n\t\t'INT',\n\t\t// 'INTERSECT',\n\t\t'INTERVAL',\n\t\t'INTO',\n\t\t'IS',\n\t\t// 'JOIN',\n\t\t'LATERAL',\n\t\t'LEFT',\n\t\t'LESS',\n\t\t'LIKE',\n\t\t'LOCAL',\n\t\t'MACRO',\n\t\t'MAP',\n\t\t'MORE',\n\t\t'NONE',\n\t\t'NOT',\n\t\t'NULL',\n\t\t'OF',\n\t\t// 'ON',\n\t\t// 'OR',\n\t\t'ORDER',\n\t\t'OUT',\n\t\t'OUTER',\n\t\t'OVER',\n\t\t'PARTIALSCAN',\n\t\t'PARTITION',\n\t\t'PERCENT',\n\t\t'PRECEDING',\n\t\t'PRESERVE',\n\t\t'PROCEDURE',\n\t\t'RANGE',\n\t\t'READS',\n\t\t'REDUCE',\n\t\t'REVOKE',\n\t\t'RIGHT',\n\t\t'ROLLUP',\n\t\t'ROW',\n\t\t'ROWS',\n\t\t// 'SELECT',\n\t\t'SET',\n\t\t'SMALLINT',\n\t\t'TABLE',\n\t\t'TABLESAMPLE',\n\t\t// 'THEN',\n\t\t'TIMESTAMP',\n\t\t'TO',\n\t\t'TRANSFORM',\n\t\t'TRIGGER',\n\t\t'TRUE',\n\t\t// 'TRUNCATE',\n\t\t'UNBOUNDED',\n\t\t// 'UNION',\n\t\t'UNIQUEJOIN',\n\t\t// 'UPDATE',\n\t\t'USER',\n\t\t'USING',\n\t\t'UTC_TMESTAMP',\n\t\t// 'VALUES',\n\t\t'VARCHAR',\n\t\t// 'WHEN',\n\t\t// 'WHERE',\n\t\t'WINDOW',\n\t\t// 'WITH',\n\t\t'COMMIT',\n\t\t'ONLY',\n\t\t'REGEXP',\n\t\t'RLIKE',\n\t\t'ROLLBACK',\n\t\t'START',\n\t\t'CACHE',\n\t\t'CONSTRAINT',\n\t\t'FOREIGN',\n\t\t'PRIMARY',\n\t\t'REFERENCES',\n\t\t'DAYOFWEEK',\n\t\t'EXTRACT',\n\t\t'FLOOR',\n\t\t'INTEGER',\n\t\t'PRECISION',\n\t\t'VIEWS',\n\t\t'TIME',\n\t\t'NUMERIC',\n\t\t'SYNC',\n\t],\n\tfileTypes: [\n\t\t'TEXTFILE',\n\t\t'SEQUENCEFILE',\n\t\t'ORC',\n\t\t'CSV',\n\t\t'TSV',\n\t\t'PARQUET',\n\t\t'AVRO',\n\t\t'RCFILE',\n\t\t'JSONFILE',\n\t\t'INPUTFORMAT',\n\t\t'OUTPUTFORMAT',\n\t],\n};\n\n/**\n * Priority 1 (first)\n * keywords that begin a new statement\n * will begin new indented block\n */\nconst reservedCommands = [\n\t// commands\n\t'ALTER',\n\t'ALTER COLUMN', // added\n\t'ALTER TABLE', // added\n\t'CREATE',\n\t'CREATE TABLE', // added\n\t'USE',\n\t'DESCRIBE',\n\t'DROP',\n\t'DROP TABLE', // added\n\t'FETCH',\n\t'FROM',\n\t'GROUP BY',\n\t'HAVING',\n\t'INSERT',\n\t'INSERT INTO', // added\n\t'LIMIT',\n\t'OFFSET',\n\t'ORDER BY',\n\t'SELECT',\n\t// 'SET',\n\t'SET SCHEMA', // added\n\t'SHOW',\n\t'SORT BY',\n\t'TRUNCATE',\n\t'UPDATE',\n\t'VALUES',\n\t'WHERE',\n\t'WITH',\n\n\t// newline keywords\n\t'STORED AS',\n\t'STORED BY',\n\t'ROW FORMAT',\n];\n\n/**\n * Priority 2\n * commands that operate on two tables or subqueries\n * two main categories: joins and boolean set operators\n */\nconst reservedBinaryCommands = [\n\t// set booleans\n\t'INTERSECT',\n\t'INTERSECT ALL',\n\t'INTERSECT DISTINCT',\n\t'UNION',\n\t'UNION ALL',\n\t'UNION DISTINCT',\n\t// joins\n\t'JOIN',\n\t'INNER JOIN',\n\t'LEFT JOIN',\n\t'LEFT OUTER JOIN',\n\t'RIGHT JOIN',\n\t'RIGHT OUTER JOIN',\n\t'FULL JOIN',\n\t'FULL OUTER JOIN',\n\t'CROSS JOIN',\n];\n\n/**\n * Priority 3\n * keywords that follow a previous 'Statement', must be attached to subsequent data\n * can be fully inline or on newline with optional indent\n */\nconst reservedDependentClauses = ['ON', 'WHEN', 'THEN', 'ELSE'];\n\n// https://cwiki.apache.org/confluence/display/Hive/LanguageManual\nexport default class HiveFormatter extends Formatter {\n\tstatic reservedCommands = reservedCommands;\n\tstatic reservedBinaryCommands = reservedBinaryCommands;\n\tstatic reservedDependentClauses = reservedDependentClauses;\n\tstatic reservedLogicalOperators = ['AND', 'OR'];\n\tstatic fullReservedWords = dedupe([\n\t\t...Object.values(reservedFunctions).reduce((acc, arr) => [...acc, ...arr], []),\n\t\t...Object.values(reservedKeywords).reduce((acc, arr) => [...acc, ...arr], []),\n\t]);\n\n\tstatic stringTypes: StringPatternType[] = ['\"\"', \"''\", '``'];\n\tstatic blockStart = ['(', 'CASE'];\n\tstatic blockEnd = [')', 'END'];\n\tstatic indexedPlaceholderTypes = ['?'];\n\tstatic namedPlaceholderTypes = [];\n\tstatic lineCommentTypes = ['--'];\n\tstatic specialWordChars = {};\n\tstatic operators = ['<=>', '==', '||'];\n\n\ttokenizer() {\n\t\treturn new Tokenizer({\n\t\t\treservedCommands: HiveFormatter.reservedCommands,\n\t\t\treservedBinaryCommands: HiveFormatter.reservedBinaryCommands,\n\t\t\treservedDependentClauses: HiveFormatter.reservedDependentClauses,\n\t\t\treservedLogicalOperators: HiveFormatter.reservedLogicalOperators,\n\t\t\treservedKeywords: HiveFormatter.fullReservedWords,\n\t\t\tstringTypes: HiveFormatter.stringTypes,\n\t\t\tblockStart: HiveFormatter.blockStart,\n\t\t\tblockEnd: HiveFormatter.blockEnd,\n\t\t\tindexedPlaceholderTypes: HiveFormatter.indexedPlaceholderTypes,\n\t\t\tnamedPlaceholderTypes: HiveFormatter.namedPlaceholderTypes,\n\t\t\tlineCommentTypes: HiveFormatter.lineCommentTypes,\n\t\t\tspecialWordChars: HiveFormatter.specialWordChars,\n\t\t\toperators: HiveFormatter.operators,\n\t\t});\n\t}\n}\n","import Formatter from '../core/Formatter';\nimport Tokenizer from '../core/Tokenizer';\nimport { isToken, Token, TokenType } from '../core/token';\nimport type { StringPatternType } from '../core/regexFactory';\nimport { dedupe } from '../utils';\n\n/**\n * Priority 5 (last)\n * Full list of reserved functions\n * distinct from Keywords due to interaction with parentheses\n */\n// https://mariadb.com/kb/en/information-schema-sql_functions-table/\nconst reservedFunctions = [\n\t'ADDDATE',\n\t'ADD_MONTHS',\n\t'BIT_AND',\n\t'BIT_OR',\n\t'BIT_XOR',\n\t'CAST',\n\t'COUNT',\n\t'CUME_DIST',\n\t'CURDATE',\n\t'CURTIME',\n\t'DATE_ADD',\n\t'DATE_SUB',\n\t'DATE_FORMAT',\n\t'DECODE',\n\t'DENSE_RANK',\n\t'EXTRACT',\n\t'FIRST_VALUE',\n\t'GROUP_CONCAT',\n\t'JSON_ARRAYAGG',\n\t'JSON_OBJECTAGG',\n\t'LAG',\n\t'LEAD',\n\t'MAX',\n\t'MEDIAN',\n\t'MID',\n\t'MIN',\n\t'NOW',\n\t'NTH_VALUE',\n\t'NTILE',\n\t'POSITION',\n\t'PERCENT_RANK',\n\t'PERCENTILE_CONT',\n\t'PERCENTILE_DISC',\n\t'RANK',\n\t'ROW_NUMBER',\n\t'SESSION_USER',\n\t'STD',\n\t'STDDEV',\n\t'STDDEV_POP',\n\t'STDDEV_SAMP',\n\t'SUBDATE',\n\t'SUBSTR',\n\t'SUBSTRING',\n\t'SUM',\n\t'SYSTEM_USER',\n\t'TRIM',\n\t'TRIM_ORACLE',\n\t'VARIANCE',\n\t'VAR_POP',\n\t'VAR_SAMP',\n\t'ABS',\n\t'ACOS',\n\t'ADDTIME',\n\t'AES_DECRYPT',\n\t'AES_ENCRYPT',\n\t'ASIN',\n\t'ATAN',\n\t'ATAN2',\n\t'BENCHMARK',\n\t'BIN',\n\t'BINLOG_GTID_POS',\n\t'BIT_COUNT',\n\t'BIT_LENGTH',\n\t'CEIL',\n\t'CEILING',\n\t'CHARACTER_LENGTH',\n\t'CHAR_LENGTH',\n\t'CHR',\n\t'COERCIBILITY',\n\t'COLUMN_CHECK',\n\t'COLUMN_EXISTS',\n\t'COLUMN_LIST',\n\t'COLUMN_JSON',\n\t'COMPRESS',\n\t'CONCAT',\n\t'CONCAT_OPERATOR_ORACLE',\n\t'CONCAT_WS',\n\t'CONNECTION_ID',\n\t'CONV',\n\t'CONVERT_TZ',\n\t'COS',\n\t'COT',\n\t'CRC32',\n\t'DATEDIFF',\n\t'DAYNAME',\n\t'DAYOFMONTH',\n\t'DAYOFWEEK',\n\t'DAYOFYEAR',\n\t'DEGREES',\n\t'DECODE_HISTOGRAM',\n\t'DECODE_ORACLE',\n\t'DES_DECRYPT',\n\t'DES_ENCRYPT',\n\t'ELT',\n\t'ENCODE',\n\t'ENCRYPT',\n\t'EXP',\n\t'EXPORT_SET',\n\t'EXTRACTVALUE',\n\t'FIELD',\n\t'FIND_IN_SET',\n\t'FLOOR',\n\t'FORMAT',\n\t'FOUND_ROWS',\n\t'FROM_BASE64',\n\t'FROM_DAYS',\n\t'FROM_UNIXTIME',\n\t'GET_LOCK',\n\t'GREATEST',\n\t'HEX',\n\t'IFNULL',\n\t'INSTR',\n\t'ISNULL',\n\t'IS_FREE_LOCK',\n\t'IS_USED_LOCK',\n\t'JSON_ARRAY',\n\t'JSON_ARRAY_APPEND',\n\t'JSON_ARRAY_INSERT',\n\t'JSON_COMPACT',\n\t'JSON_CONTAINS',\n\t'JSON_CONTAINS_PATH',\n\t'JSON_DEPTH',\n\t'JSON_DETAILED',\n\t'JSON_EXISTS',\n\t'JSON_EXTRACT',\n\t'JSON_INSERT',\n\t'JSON_KEYS',\n\t'JSON_LENGTH',\n\t'JSON_LOOSE',\n\t'JSON_MERGE',\n\t'JSON_MERGE_PATCH',\n\t'JSON_MERGE_PRESERVE',\n\t'JSON_QUERY',\n\t'JSON_QUOTE',\n\t'JSON_OBJECT',\n\t'JSON_REMOVE',\n\t'JSON_REPLACE',\n\t'JSON_SET',\n\t'JSON_SEARCH',\n\t'JSON_TYPE',\n\t'JSON_UNQUOTE',\n\t'JSON_VALID',\n\t'JSON_VALUE',\n\t'LAST_DAY',\n\t'LAST_INSERT_ID',\n\t'LCASE',\n\t'LEAST',\n\t'LENGTH',\n\t'LENGTHB',\n\t'LN',\n\t'LOAD_FILE',\n\t'LOCATE',\n\t'LOG',\n\t'LOG10',\n\t'LOG2',\n\t'LOWER',\n\t'LPAD',\n\t'LPAD_ORACLE',\n\t'LTRIM',\n\t'LTRIM_ORACLE',\n\t'MAKEDATE',\n\t'MAKETIME',\n\t'MAKE_SET',\n\t'MASTER_GTID_WAIT',\n\t'MASTER_POS_WAIT',\n\t'MD5',\n\t'MONTHNAME',\n\t'NAME_CONST',\n\t'NVL',\n\t'NVL2',\n\t'NULLIF',\n\t'OCT',\n\t'OCTET_LENGTH',\n\t'ORD',\n\t'PERIOD_ADD',\n\t'PERIOD_DIFF',\n\t'PI',\n\t'POW',\n\t'POWER',\n\t'QUOTE',\n\t'REGEXP_INSTR',\n\t'REGEXP_REPLACE',\n\t'REGEXP_SUBSTR',\n\t'RADIANS',\n\t'RAND',\n\t'RELEASE_ALL_LOCKS',\n\t'RELEASE_LOCK',\n\t'REPLACE_ORACLE',\n\t'REVERSE',\n\t'ROUND',\n\t'RPAD',\n\t'RPAD_ORACLE',\n\t'RTRIM',\n\t'RTRIM_ORACLE',\n\t'SEC_TO_TIME',\n\t'SHA',\n\t'SHA1',\n\t'SHA2',\n\t'SIGN',\n\t'SIN',\n\t'SLEEP',\n\t'SOUNDEX',\n\t'SPACE',\n\t'SQRT',\n\t'STRCMP',\n\t'STR_TO_DATE',\n\t'SUBSTR_ORACLE',\n\t'SUBSTRING_INDEX',\n\t'SUBTIME',\n\t'SYS_GUID',\n\t'TAN',\n\t'TIMEDIFF',\n\t'TIME_FORMAT',\n\t'TIME_TO_SEC',\n\t'TO_BASE64',\n\t'TO_CHAR',\n\t'TO_DAYS',\n\t'TO_SECONDS',\n\t'UCASE',\n\t'UNCOMPRESS',\n\t'UNCOMPRESSED_LENGTH',\n\t'UNHEX',\n\t'UNIX_TIMESTAMP',\n\t'UPDATEXML',\n\t'UPPER',\n\t'UUID',\n\t'UUID_SHORT',\n\t'VERSION',\n\t'WEEKDAY',\n\t'WEEKOFYEAR',\n\t'WSREP_LAST_WRITTEN_GTID',\n\t'WSREP_LAST_SEEN_GTID',\n\t'WSREP_SYNC_WAIT_UPTO_GTID',\n\t'YEARWEEK',\n];\n\n/**\n * Priority 5 (last)\n * Full list of reserved words\n * any words that are in a higher priority are removed\n */\n// https://mariadb.com/kb/en/information-schema-keywords-table/\nconst reservedKeywords = [\n\t'ACCESSIBLE',\n\t'ACCOUNT',\n\t'ACTION',\n\t'ADMIN',\n\t'AFTER',\n\t'AGAINST',\n\t'AGGREGATE',\n\t'ALL',\n\t'ALGORITHM',\n\t'ALTER',\n\t'ALWAYS',\n\t'ANY',\n\t'AS',\n\t'ASC',\n\t'ASCII',\n\t'ASENSITIVE',\n\t'AT',\n\t'ATOMIC',\n\t'AUTHORS',\n\t'AUTO_INCREMENT',\n\t'AUTOEXTEND_SIZE',\n\t'AUTO',\n\t'AVG',\n\t'AVG_ROW_LENGTH',\n\t'BACKUP',\n\t'BEFORE',\n\t'BETWEEN',\n\t'BIGINT',\n\t'BINARY',\n\t'BIT',\n\t'BLOB',\n\t'BLOCK',\n\t'BODY',\n\t'BOOL',\n\t'BOOLEAN',\n\t'BOTH',\n\t'BTREE',\n\t'BY',\n\t'BYTE',\n\t'CACHE',\n\t'CASCADE',\n\t'CASCADED',\n\t'CATALOG_NAME',\n\t'CHAIN',\n\t'CHANGE',\n\t'CHANGED',\n\t'CHAR',\n\t'CHARACTER',\n\t'CHARSET',\n\t'CHECK',\n\t'CHECKPOINT',\n\t'CHECKSUM',\n\t'CIPHER',\n\t'CLASS_ORIGIN',\n\t'CLIENT',\n\t'CLOB',\n\t'CLOSE',\n\t'COALESCE',\n\t'CODE',\n\t'COLLATE',\n\t'COLLATION',\n\t'COLUMN',\n\t'COLUMN_NAME',\n\t'COLUMNS',\n\t'COLUMN_ADD',\n\t'COLUMN_CREATE',\n\t'COLUMN_DELETE',\n\t'COLUMN_GET',\n\t'COMMENT',\n\t'COMMITTED',\n\t'COMPACT',\n\t'COMPLETION',\n\t'COMPRESSED',\n\t'CONCURRENT',\n\t'CONDITION',\n\t'CONNECTION',\n\t'CONSISTENT',\n\t'CONSTRAINT',\n\t'CONSTRAINT_CATALOG',\n\t'CONSTRAINT_NAME',\n\t'CONSTRAINT_SCHEMA',\n\t'CONTAINS',\n\t'CONTEXT',\n\t'CONTINUE',\n\t'CONTRIBUTORS',\n\t'CONVERT',\n\t'CPU',\n\t'CREATE',\n\t'CROSS',\n\t'CUBE',\n\t'CURRENT',\n\t'CURRENT_DATE',\n\t'CURRENT_POS',\n\t'CURRENT_ROLE',\n\t'CURRENT_TIME',\n\t'CURRENT_TIMESTAMP',\n\t'CURRENT_USER',\n\t'CURSOR',\n\t'CURSOR_NAME',\n\t'CYCLE',\n\t'DATA',\n\t'DATABASE',\n\t'DATABASES',\n\t'DATAFILE',\n\t'DATE',\n\t'DATETIME',\n\t'DAY',\n\t'DAY_HOUR',\n\t'DAY_MICROSECOND',\n\t'DAY_MINUTE',\n\t'DAY_SECOND',\n\t'DEALLOCATE',\n\t'DEC',\n\t'DECIMAL',\n\t'DECLARE',\n\t'DEFAULT',\n\t'DEFINER',\n\t'DELAYED',\n\t'DELAY_KEY_WRITE',\n\t'DELETE_DOMAIN_ID',\n\t'DES_KEY_FILE',\n\t'DETERMINISTIC',\n\t'DIAGNOSTICS',\n\t'DIRECTORY',\n\t'DISABLE',\n\t'DISCARD',\n\t'DISK',\n\t'DISTINCT',\n\t'DISTINCTROW',\n\t'DIV',\n\t'DOUBLE',\n\t'DO_DOMAIN_IDS',\n\t'DROP',\n\t'DUAL',\n\t'DUMPFILE',\n\t'DUPLICATE',\n\t'DYNAMIC',\n\t'EACH',\n\t'EMPTY',\n\t'ENABLE',\n\t'ENCLOSED',\n\t'ENDS',\n\t'ENGINE',\n\t'ENGINES',\n\t'ENUM',\n\t'ERROR',\n\t'ERRORS',\n\t'ESCAPE',\n\t'ESCAPED',\n\t'EVENT',\n\t'EVENTS',\n\t'EVERY',\n\t'EXAMINED',\n\t'EXCHANGE',\n\t'EXCLUDE',\n\t'EXCEPTION',\n\t'EXISTS',\n\t'EXIT',\n\t'EXPANSION',\n\t'EXPIRE',\n\t'EXPORT',\n\t'EXTENDED',\n\t'EXTENT_SIZE',\n\t'FALSE',\n\t'FAST',\n\t'FAULTS',\n\t'FEDERATED',\n\t'FETCH',\n\t'FIELDS',\n\t'FILE',\n\t'FIRST',\n\t'FIXED',\n\t'FLOAT',\n\t'FLOAT4',\n\t'FLOAT8',\n\t'FOLLOWING',\n\t'FOLLOWS',\n\t'FOR',\n\t'FORCE',\n\t'FOREIGN',\n\t'FOUND',\n\t'FULL',\n\t'FULLTEXT',\n\t'FUNCTION',\n\t'GENERAL',\n\t'GENERATED',\n\t'GET_FORMAT',\n\t'GET',\n\t'GLOBAL',\n\t'GOTO',\n\t'GRANTS',\n\t'GROUP',\n\t'HARD',\n\t'HASH',\n\t'HIGH_PRIORITY',\n\t'HISTORY',\n\t'HOST',\n\t'HOSTS',\n\t'HOUR',\n\t'HOUR_MICROSECOND',\n\t'HOUR_MINUTE',\n\t'HOUR_SECOND',\n\t// 'ID',\n\t'IDENTIFIED',\n\t'IF',\n\t'IGNORE',\n\t'IGNORED',\n\t'IGNORE_DOMAIN_IDS',\n\t'IGNORE_SERVER_IDS',\n\t'IMMEDIATE',\n\t'IMPORT',\n\t'IN',\n\t'INCREMENT',\n\t'INDEX',\n\t'INDEXES',\n\t'INFILE',\n\t'INITIAL_SIZE',\n\t'INNER',\n\t'INOUT',\n\t'INSENSITIVE',\n\t'INSERT_METHOD',\n\t'INSTALL',\n\t'INT',\n\t'INT1',\n\t'INT2',\n\t'INT3',\n\t'INT4',\n\t'INT8',\n\t'INTEGER',\n\t'INTERVAL',\n\t'INVISIBLE',\n\t'INTO',\n\t'IO',\n\t'IO_THREAD',\n\t'IPC',\n\t'IS',\n\t'ISOLATION',\n\t'ISOPEN',\n\t'ISSUER',\n\t'ITERATE',\n\t'INVOKER',\n\t'JSON',\n\t'JSON_TABLE',\n\t'KEY',\n\t'KEYS',\n\t'KEY_BLOCK_SIZE',\n\t'LANGUAGE',\n\t'LAST',\n\t'LAST_VALUE',\n\t'LASTVAL',\n\t'LEADING',\n\t'LEAVE',\n\t'LEAVES',\n\t'LEFT',\n\t'LESS',\n\t'LEVEL',\n\t'LIKE',\n\t'LINEAR',\n\t'LINES',\n\t'LIST',\n\t'LOAD',\n\t'LOCAL',\n\t'LOCALTIME',\n\t'LOCALTIMESTAMP',\n\t'LOCK',\n\t'LOCKED',\n\t'LOCKS',\n\t'LOGFILE',\n\t'LOGS',\n\t'LONG',\n\t'LONGBLOB',\n\t'LONGTEXT',\n\t'LOOP',\n\t'LOW_PRIORITY',\n\t'MASTER',\n\t'MASTER_CONNECT_RETRY',\n\t'MASTER_DELAY',\n\t'MASTER_GTID_POS',\n\t'MASTER_HOST',\n\t'MASTER_LOG_FILE',\n\t'MASTER_LOG_POS',\n\t'MASTER_PASSWORD',\n\t'MASTER_PORT',\n\t'MASTER_SERVER_ID',\n\t'MASTER_SSL',\n\t'MASTER_SSL_CA',\n\t'MASTER_SSL_CAPATH',\n\t'MASTER_SSL_CERT',\n\t'MASTER_SSL_CIPHER',\n\t'MASTER_SSL_CRL',\n\t'MASTER_SSL_CRLPATH',\n\t'MASTER_SSL_KEY',\n\t'MASTER_SSL_VERIFY_SERVER_CERT',\n\t'MASTER_USER',\n\t'MASTER_USE_GTID',\n\t'MASTER_HEARTBEAT_PERIOD',\n\t'MATCH',\n\t'MAX_CONNECTIONS_PER_HOUR',\n\t'MAX_QUERIES_PER_HOUR',\n\t'MAX_ROWS',\n\t'MAX_SIZE',\n\t'MAX_STATEMENT_TIME',\n\t'MAX_UPDATES_PER_HOUR',\n\t'MAX_USER_CONNECTIONS',\n\t'MAXVALUE',\n\t'MEDIUM',\n\t'MEDIUMBLOB',\n\t'MEDIUMINT',\n\t'MEDIUMTEXT',\n\t'MEMORY',\n\t'MERGE',\n\t'MESSAGE_TEXT',\n\t'MICROSECOND',\n\t'MIDDLEINT',\n\t'MIGRATE',\n\t'MINUS',\n\t'MINUTE',\n\t'MINUTE_MICROSECOND',\n\t'MINUTE_SECOND',\n\t'MINVALUE',\n\t'MIN_ROWS',\n\t'MOD',\n\t'MODE',\n\t'MODIFIES',\n\t'MODIFY',\n\t'MONITOR',\n\t'MONTH',\n\t'MUTEX',\n\t'MYSQL',\n\t'MYSQL_ERRNO',\n\t'NAME',\n\t'NAMES',\n\t'NATIONAL',\n\t'NATURAL',\n\t'NCHAR',\n\t'NESTED',\n\t'NEVER',\n\t'NEW',\n\t'NEXT',\n\t'NEXTVAL',\n\t'NO',\n\t'NOMAXVALUE',\n\t'NOMINVALUE',\n\t'NOCACHE',\n\t'NOCYCLE',\n\t'NO_WAIT',\n\t'NOWAIT',\n\t'NODEGROUP',\n\t'NONE',\n\t'NOT',\n\t'NOTFOUND',\n\t'NO_WRITE_TO_BINLOG',\n\t'NULL',\n\t'NUMBER',\n\t'NUMERIC',\n\t'NVARCHAR',\n\t'OF',\n\t'OFFSET',\n\t'OLD_PASSWORD',\n\t'ONE',\n\t'ONLINE',\n\t'ONLY',\n\t'OPEN',\n\t'OPTIMIZE',\n\t'OPTIONS',\n\t'OPTION',\n\t'OPTIONALLY',\n\t'ORDER',\n\t'ORDINALITY',\n\t'OTHERS',\n\t'OUT',\n\t'OUTER',\n\t'OUTFILE',\n\t'OVER',\n\t'OVERLAPS',\n\t'OWNER',\n\t'PACKAGE',\n\t'PACK_KEYS',\n\t'PAGE',\n\t'PAGE_CHECKSUM',\n\t'PARSER',\n\t'PARSE_VCOL_EXPR',\n\t'PATH',\n\t'PERIOD',\n\t'PARTIAL',\n\t'PARTITION',\n\t'PARTITIONING',\n\t'PARTITIONS',\n\t'PASSWORD',\n\t'PERSISTENT',\n\t'PHASE',\n\t'PLUGIN',\n\t'PLUGINS',\n\t'PORT',\n\t'PORTION',\n\t'PRECEDES',\n\t'PRECEDING',\n\t'PRECISION',\n\t'PRESERVE',\n\t'PREV',\n\t'PREVIOUS',\n\t'PRIMARY',\n\t'PRIVILEGES',\n\t'PROCEDURE',\n\t'PROCESS',\n\t'PROCESSLIST',\n\t'PROFILE',\n\t'PROFILES',\n\t'PROXY',\n\t'PURGE',\n\t'QUARTER',\n\t'QUERY',\n\t'QUICK',\n\t'RAISE',\n\t'RANGE',\n\t'RAW',\n\t'READ',\n\t'READ_ONLY',\n\t'READ_WRITE',\n\t'READS',\n\t'REAL',\n\t'REBUILD',\n\t'RECOVER',\n\t'RECURSIVE',\n\t'REDO_BUFFER_SIZE',\n\t'REDOFILE',\n\t'REDUNDANT',\n\t'REFERENCES',\n\t'REGEXP',\n\t'RELAY',\n\t'RELAYLOG',\n\t'RELAY_LOG_FILE',\n\t'RELAY_LOG_POS',\n\t'RELAY_THREAD',\n\t'RELEASE',\n\t'RELOAD',\n\t'REMOVE',\n\t'RENAME',\n\t'REORGANIZE',\n\t'REPAIR',\n\t'REPEATABLE',\n\t'REPLAY',\n\t'REPLICA',\n\t'REPLICAS',\n\t'REPLICA_POS',\n\t'REPLICATION',\n\t'REPEAT',\n\t'REQUIRE',\n\t'RESET',\n\t'RESTART',\n\t'RESTORE',\n\t'RESTRICT',\n\t'RESUME',\n\t'RETURNED_SQLSTATE',\n\t'RETURN',\n\t'RETURNING',\n\t'RETURNS',\n\t'REUSE',\n\t'RIGHT',\n\t'RLIKE',\n\t'ROLE',\n\t'ROLLUP',\n\t'ROUTINE',\n\t'ROW',\n\t'ROWCOUNT',\n\t'ROWNUM',\n\t'ROWS',\n\t'ROWTYPE',\n\t'ROW_COUNT',\n\t'ROW_FORMAT',\n\t'RTREE',\n\t'SCHEDULE',\n\t'SCHEMA',\n\t'SCHEMA_NAME',\n\t'SCHEMAS',\n\t'SECOND',\n\t'SECOND_MICROSECOND',\n\t'SECURITY',\n\t'SENSITIVE',\n\t'SEPARATOR',\n\t'SEQUENCE',\n\t'SERIAL',\n\t'SERIALIZABLE',\n\t'SESSION',\n\t'SERVER',\n\t'SETVAL',\n\t'SHARE',\n\t'SIGNED',\n\t'SIMPLE',\n\t'SKIP',\n\t'SLAVE',\n\t'SLAVES',\n\t'SLAVE_POS',\n\t'SLOW',\n\t'SNAPSHOT',\n\t'SMALLINT',\n\t'SOCKET',\n\t'SOFT',\n\t'SOME',\n\t'SONAME',\n\t'SOUNDS',\n\t'SOURCE',\n\t'STAGE',\n\t'STORED',\n\t'SPATIAL',\n\t'SPECIFIC',\n\t'REF_SYSTEM_ID',\n\t'SQL',\n\t'SQLEXCEPTION',\n\t'SQLSTATE',\n\t'SQLWARNING',\n\t'SQL_BIG_RESULT',\n\t'SQL_BUFFER_RESULT',\n\t'SQL_CACHE',\n\t'SQL_CALC_FOUND_ROWS',\n\t'SQL_NO_CACHE',\n\t'SQL_SMALL_RESULT',\n\t'SQL_THREAD',\n\t'SQL_TSI_SECOND',\n\t'SQL_TSI_MINUTE',\n\t'SQL_TSI_HOUR',\n\t'SQL_TSI_DAY',\n\t'SQL_TSI_WEEK',\n\t'SQL_TSI_MONTH',\n\t'SQL_TSI_QUARTER',\n\t'SQL_TSI_YEAR',\n\t'SSL',\n\t'START',\n\t'STARTING',\n\t'STARTS',\n\t'STATEMENT',\n\t'STATS_AUTO_RECALC',\n\t'STATS_PERSISTENT',\n\t'STATS_SAMPLE_PAGES',\n\t'STATUS',\n\t'STOP',\n\t'STORAGE',\n\t'STRING',\n\t'SUBCLASS_ORIGIN',\n\t'SUBJECT',\n\t'SUBPARTITION',\n\t'SUBPARTITIONS',\n\t'SUPER',\n\t'SUSPEND',\n\t'SWAPS',\n\t'SWITCHES',\n\t'SYSDATE',\n\t'SYSTEM',\n\t'SYSTEM_TIME',\n\t'TABLE',\n\t'TABLE_NAME',\n\t'TABLES',\n\t'TABLESPACE',\n\t'TABLE_CHECKSUM',\n\t'TEMPORARY',\n\t'TEMPTABLE',\n\t'TERMINATED',\n\t'TEXT',\n\t'THAN',\n\t'TIES',\n\t'TIME',\n\t'TIMESTAMP',\n\t'TIMESTAMPADD',\n\t'TIMESTAMPDIFF',\n\t'TINYBLOB',\n\t'TINYINT',\n\t'TINYTEXT',\n\t'TO',\n\t'TRAILING',\n\t'TRANSACTION',\n\t'TRANSACTIONAL',\n\t'THREADS',\n\t'TRIGGER',\n\t'TRIGGERS',\n\t'TRUE',\n\t'TYPE',\n\t'TYPES',\n\t'UNBOUNDED',\n\t'UNCOMMITTED',\n\t'UNDEFINED',\n\t'UNDO_BUFFER_SIZE',\n\t'UNDOFILE',\n\t'UNDO',\n\t'UNICODE',\n\t'UNIQUE',\n\t'UNKNOWN',\n\t'UNLOCK',\n\t'UNINSTALL',\n\t'UNSIGNED',\n\t'UNTIL',\n\t'UPGRADE',\n\t'USAGE',\n\t'USER',\n\t'USER_RESOURCES',\n\t'USE_FRM',\n\t'USING',\n\t'UTC_DATE',\n\t'UTC_TIME',\n\t'UTC_TIMESTAMP',\n\t'VALUE',\n\t'VARBINARY',\n\t'VARCHAR',\n\t'VARCHARACTER',\n\t'VARCHAR2',\n\t'VARIABLES',\n\t'VARYING',\n\t'VIA',\n\t'VIEW',\n\t'VIRTUAL',\n\t'VISIBLE',\n\t'VERSIONING',\n\t'WAIT',\n\t'WARNINGS',\n\t'WEEK',\n\t'WEIGHT_STRING',\n\t'WHILE',\n\t'WINDOW',\n\t'WITHIN',\n\t'WITHOUT',\n\t'WORK',\n\t'WRAPPER',\n\t'WRITE',\n\t'X509',\n\t'XA',\n\t'XML',\n\t'YEAR',\n\t'YEAR_MONTH',\n\t'ZEROFILL',\n];\n\n/**\n * Priority 1 (first)\n * keywords that begin a new statement\n * will begin new indented block\n */\n// https://mariadb.com/docs/reference/mdb/sql-statements/\nconst reservedCommands = [\n\t'ALTER DATABASE',\n\t'ALTER DATABASE COMMENT',\n\t'ALTER EVENT',\n\t'ALTER FUNCTION',\n\t'ALTER PROCEDURE',\n\t'ALTER SCHEMA',\n\t'ALTER SCHEMA COMMENT',\n\t'ALTER SEQUENCE',\n\t'ALTER SERVER',\n\t'ALTER TABLE',\n\t'ALTER USER',\n\t'ALTER VIEW',\n\t'ANALYZE',\n\t'ANALYZE TABLE',\n\t'BACKUP LOCK',\n\t'BACKUP STAGE',\n\t'BACKUP UNLOCK',\n\t'BEGIN',\n\t'BINLOG',\n\t'CACHE INDEX',\n\t'CALL',\n\t'CHANGE MASTER TO',\n\t'CHECK TABLE',\n\t'CHECK VIEW',\n\t'CHECKSUM TABLE',\n\t'COMMIT',\n\t'CREATE AGGREGATE FUNCTION',\n\t'CREATE DATABASE',\n\t'CREATE EVENT',\n\t'CREATE FUNCTION',\n\t'CREATE INDEX',\n\t'CREATE PROCEDURE',\n\t'CREATE ROLE',\n\t'CREATE SEQUENCE',\n\t'CREATE SERVER',\n\t'CREATE SPATIAL INDEX',\n\t'CREATE TABLE',\n\t'CREATE TRIGGER',\n\t'CREATE UNIQUE INDEX',\n\t'CREATE USER',\n\t'CREATE VIEW',\n\t'DEALLOCATE PREPARE',\n\t'DELETE',\n\t'DESC',\n\t'DESCRIBE',\n\t'DO',\n\t'DROP DATABASE',\n\t'DROP EVENT',\n\t'DROP FUNCTION',\n\t'DROP INDEX',\n\t'DROP PREPARE',\n\t'DROP PROCEDURE',\n\t'DROP ROLE',\n\t'DROP SEQUENCE',\n\t'DROP SERVER',\n\t'DROP TABLE',\n\t'DROP TRIGGER',\n\t'DROP USER',\n\t'DROP VIEW',\n\t'EXECUTE',\n\t'EXPLAIN',\n\t'FLUSH',\n\t'GET DIAGNOSTICS',\n\t'GET DIAGNOSTICS CONDITION',\n\t'GRANT',\n\t'HANDLER',\n\t'HELP',\n\t'INSERT',\n\t'INSTALL PLUGIN',\n\t'INSTALL SONAME',\n\t'KILL',\n\t'LOAD DATA INFILE',\n\t'LOAD INDEX INTO CACHE',\n\t'LOAD XML INFILE',\n\t'LOCK TABLE',\n\t'OPTIMIZE TABLE',\n\t'PREPARE',\n\t'PURGE BINARY LOGS',\n\t'PURGE MASTER LOGS',\n\t'RELEASE SAVEPOINT',\n\t'RENAME TABLE',\n\t'RENAME USER',\n\t'REPAIR TABLE',\n\t'REPAIR VIEW',\n\t'REPLACE',\n\t'RESET MASTER',\n\t'RESET QUERY CACHE',\n\t'RESET REPLICA',\n\t'RESET SLAVE',\n\t'RESIGNAL',\n\t'REVOKE',\n\t'ROLLBACK',\n\t'SAVEPOINT',\n\t'SELECT',\n\t'SET',\n\t'SET CHARACTER SET',\n\t'SET DEFAULT ROLE',\n\t'SET GLOBAL TRANSACTION',\n\t'SET NAMES',\n\t'SET PASSWORD',\n\t'SET ROLE',\n\t'SET STATEMENT',\n\t'SET TRANSACTION',\n\t'SHOW',\n\t'SHOW ALL REPLICAS STATUS',\n\t'SHOW ALL SLAVES STATUS',\n\t'SHOW AUTHORS',\n\t'SHOW BINARY LOGS',\n\t'SHOW BINLOG EVENTS',\n\t'SHOW BINLOG STATUS',\n\t'SHOW CHARACTER SET',\n\t'SHOW CLIENT_STATISTICS',\n\t'SHOW COLLATION',\n\t'SHOW COLUMNS',\n\t'SHOW CONTRIBUTORS',\n\t'SHOW CREATE DATABASE',\n\t'SHOW CREATE EVENT',\n\t'SHOW CREATE FUNCTION',\n\t'SHOW CREATE PACKAGE',\n\t'SHOW CREATE PACKAGE BODY',\n\t'SHOW CREATE PROCEDURE',\n\t'SHOW CREATE SEQUENCE',\n\t'SHOW CREATE TABLE',\n\t'SHOW CREATE TRIGGER',\n\t'SHOW CREATE USER',\n\t'SHOW CREATE VIEW',\n\t'SHOW DATABASES',\n\t'SHOW ENGINE',\n\t'SHOW ENGINE INNODB STATUS',\n\t'SHOW ENGINES',\n\t'SHOW ERRORS',\n\t'SHOW EVENTS',\n\t'SHOW EXPLAIN',\n\t'SHOW FUNCTION CODE',\n\t'SHOW FUNCTION STATUS',\n\t'SHOW GRANTS',\n\t'SHOW INDEX',\n\t'SHOW INDEXES',\n\t'SHOW INDEX_STATISTICS',\n\t'SHOW KEYS',\n\t'SHOW LOCALES',\n\t'SHOW MASTER LOGS',\n\t'SHOW MASTER STATUS',\n\t'SHOW OPEN TABLES',\n\t'SHOW PACKAGE BODY CODE',\n\t'SHOW PACKAGE BODY STATUS',\n\t'SHOW PACKAGE STATUS',\n\t'SHOW PLUGINS',\n\t'SHOW PLUGINS SONAME',\n\t'SHOW PRIVILEGES',\n\t'SHOW PROCEDURE CODE',\n\t'SHOW PROCEDURE STATUS',\n\t'SHOW PROCESSLIST',\n\t'SHOW PROFILE',\n\t'SHOW PROFILES',\n\t'SHOW QUERY_RESPONSE_TIME',\n\t'SHOW RELAYLOG EVENTS',\n\t'SHOW REPLICA',\n\t'SHOW REPLICA HOSTS',\n\t'SHOW REPLICA STATUS',\n\t'SHOW SCHEMAS',\n\t'SHOW SLAVE',\n\t'SHOW SLAVE HOSTS',\n\t'SHOW SLAVE STATUS',\n\t'SHOW STATUS',\n\t'SHOW STORAGE ENGINES',\n\t'SHOW TABLE STATUS',\n\t'SHOW TABLES',\n\t'SHOW TRIGGERS',\n\t'SHOW USER_STATISTICS',\n\t'SHOW VARIABLES',\n\t'SHOW WARNINGS',\n\t'SHOW WSREP_MEMBERSHIP',\n\t'SHOW WSREP_STATUS',\n\t'SHUTDOWN',\n\t'SIGNAL',\n\t'START ALL REPLICAS',\n\t'START ALL SLAVES',\n\t'START REPLICA',\n\t'START SLAVE',\n\t'START TRANSACTION',\n\t'STOP ALL REPLICAS',\n\t'STOP ALL SLAVES',\n\t'STOP REPLICA',\n\t'STOP SLAVE',\n\t'TRUNCATE',\n\t'TRUNCATE TABLE',\n\t'UNINSTALL PLUGIN',\n\t'UNINSTALL SONAME',\n\t'UNLOCK TABLE',\n\t'UPDATE',\n\t'USE',\n\t'WITH',\n\t'XA BEGIN',\n\t'XA COMMIT',\n\t'XA END',\n\t'XA PREPARE',\n\t'XA RECOVER',\n\t'XA ROLLBACK',\n\t'XA START',\n\t// other\n\t'ADD',\n\t'ALTER COLUMN',\n\t'FROM',\n\t'GROUP BY',\n\t'HAVING',\n\t'INSERT INTO',\n\t'INSERT',\n\t'LIMIT',\n\t'OFFSET',\n\t'ORDER BY',\n\t'SELECT',\n\t'VALUES',\n\t'WHERE',\n];\n\n/**\n * Priority 2\n * commands that operate on two tables or subqueries\n * two main categories: joins and boolean set operators\n */\nconst reservedBinaryCommands = [\n\t// set booleans\n\t'INTERSECT',\n\t'INTERSECT ALL',\n\t'INTERSECT DISTINCT',\n\t'UNION',\n\t'UNION ALL',\n\t'UNION DISTINCT',\n\t'EXCEPT',\n\t'EXCEPT ALL',\n\t'EXCEPT DISTINCT',\n\t'MINUS',\n\t'MINUS ALL',\n\t'MINUS DISTINCT',\n\t// joins\n\t'JOIN',\n\t'INNER JOIN',\n\t'LEFT JOIN',\n\t'LEFT OUTER JOIN',\n\t'RIGHT JOIN',\n\t'RIGHT OUTER JOIN',\n\t'CROSS JOIN',\n\t'NATURAL JOIN',\n\t// non-standard joins\n\t'STRAIGHT_JOIN',\n\t'NATURAL LEFT JOIN',\n\t'NATURAL LEFT OUTER JOIN',\n\t'NATURAL RIGHT JOIN',\n\t'NATURAL RIGHT OUTER JOIN',\n];\n\n/**\n * Priority 3\n * keywords that follow a previous Statement, must be attached to subsequent data\n * can be fully inline or on newline with optional indent\n */\nconst reservedDependentClauses = ['ON', 'WHEN', 'THEN', 'ELSE', 'ELSEIF', 'ELSIF'];\n\n// For reference: https://mariadb.com/kb/en/sql-statements-structure/\nexport default class MariaDbFormatter extends Formatter {\n\tstatic reservedCommands = reservedCommands;\n\tstatic reservedBinaryCommands = reservedBinaryCommands;\n\tstatic reservedLogicalOperators = ['AND', 'OR', 'XOR'];\n\tstatic reservedDependentClauses = reservedDependentClauses;\n\tstatic reservedKeywords = dedupe([...reservedKeywords, ...reservedFunctions]);\n\tstatic stringTypes: StringPatternType[] = ['``', \"''\", '\"\"'];\n\tstatic blockStart = ['(', 'CASE'];\n\tstatic blockEnd = [')', 'END'];\n\tstatic indexedPlaceholderTypes = ['?'];\n\tstatic namedPlaceholderTypes = [];\n\tstatic lineCommentTypes = ['--', '#'];\n\tstatic specialWordChars = { prefix: '@' };\n\tstatic operators = [':=', '<<', '>>', '<=>', '&&', '||'];\n\n\ttokenizer() {\n\t\treturn new Tokenizer({\n\t\t\treservedCommands: MariaDbFormatter.reservedCommands,\n\t\t\treservedBinaryCommands: MariaDbFormatter.reservedBinaryCommands,\n\t\t\treservedDependentClauses: MariaDbFormatter.reservedDependentClauses,\n\t\t\treservedLogicalOperators: MariaDbFormatter.reservedLogicalOperators,\n\t\t\treservedKeywords: MariaDbFormatter.reservedKeywords,\n\t\t\tstringTypes: MariaDbFormatter.stringTypes,\n\t\t\tblockStart: MariaDbFormatter.blockStart,\n\t\t\tblockEnd: MariaDbFormatter.blockEnd,\n\t\t\tindexedPlaceholderTypes: MariaDbFormatter.indexedPlaceholderTypes,\n\t\t\tnamedPlaceholderTypes: MariaDbFormatter.namedPlaceholderTypes,\n\t\t\tlineCommentTypes: MariaDbFormatter.lineCommentTypes,\n\t\t\tspecialWordChars: MariaDbFormatter.specialWordChars,\n\t\t\toperators: MariaDbFormatter.operators,\n\t\t});\n\t}\n\n\ttokenOverride(token: Token) {\n\t\t// [SET] ( ...\n\t\tif (isToken.SET(token) && this.tokenLookAhead()?.value === '(') {\n\t\t\t// This is SET datatype, not SET statement\n\t\t\treturn { type: TokenType.RESERVED_KEYWORD, value: token.value };\n\t\t}\n\n\t\treturn token;\n\t}\n}\n","import Formatter from '../core/Formatter';\nimport Tokenizer from '../core/Tokenizer';\nimport { isToken, Token, TokenType } from '../core/token';\nimport type { StringPatternType } from '../core/regexFactory';\nimport { dedupe } from '../utils';\n\n// TODO: split this into object with function categories\n/**\n * Priority 5 (last)\n * Full list of reserved functions\n * distinct from Keywords due to interaction with parentheses\n */\n// https://dev.mysql.com/doc/refman/8.0/en/built-in-function-reference.html\nconst reservedFunctions = [\n\t'ABS',\n\t'ACOS',\n\t'ADDDATE',\n\t'ADDTIME',\n\t'AES_DECRYPT',\n\t'AES_ENCRYPT',\n\t'AND',\n\t'ANY_VALUE',\n\t'ASCII',\n\t'ASIN',\n\t'ATAN',\n\t'ATAN2',\n\t'AVG',\n\t'BENCHMARK',\n\t'BIN',\n\t'BIN_TO_UUID',\n\t'BINARY',\n\t'BIT_AND',\n\t'BIT_COUNT',\n\t'BIT_LENGTH',\n\t'BIT_OR',\n\t'BIT_XOR',\n\t'CAN_ACCESS_COLUMN',\n\t'CAN_ACCESS_DATABASE',\n\t'CAN_ACCESS_TABLE',\n\t'CAN_ACCESS_USER',\n\t'CAN_ACCESS_VIEW',\n\t'CASE',\n\t'CAST',\n\t'CEIL',\n\t'CEILING',\n\t'CHAR',\n\t'CHAR_LENGTH',\n\t'CHARACTER_LENGTH',\n\t'CHARSET',\n\t'COALESCE',\n\t'COERCIBILITY',\n\t'COLLATION',\n\t'COMPRESS',\n\t'CONCAT',\n\t'CONCAT_WS',\n\t'CONNECTION_ID',\n\t'CONV',\n\t'CONVERT',\n\t'CONVERT_TZ',\n\t'COS',\n\t'COT',\n\t'COUNT',\n\t'CRC32',\n\t'CUME_DIST',\n\t'CURDATE',\n\t'CURRENT_DATE',\n\t'CURRENT_ROLE',\n\t'CURRENT_TIME',\n\t'CURRENT_TIMESTAMP',\n\t'CURRENT_USER',\n\t'CURTIME',\n\t'DATABASE',\n\t'DATE',\n\t'DATE_ADD',\n\t'DATE_FORMAT',\n\t'DATE_SUB',\n\t'DATEDIFF',\n\t'DAY',\n\t'DAYNAME',\n\t'DAYOFMONTH',\n\t'DAYOFWEEK',\n\t'DAYOFYEAR',\n\t'DEFAULT',\n\t'DEGREES',\n\t'DENSE_RANK',\n\t'DIV',\n\t'ELT',\n\t'EXP',\n\t'EXPORT_SET',\n\t'EXTRACT',\n\t'ExtractValue',\n\t'FIELD',\n\t'FIND_IN_SET',\n\t'FIRST_VALUE',\n\t'FLOOR',\n\t'FORMAT',\n\t'FORMAT_BYTES',\n\t'FORMAT_PICO_TIME',\n\t'FOUND_ROWS',\n\t'FROM_BASE64',\n\t'FROM_DAYS',\n\t'FROM_UNIXTIME',\n\t'GeomCollection',\n\t'GeometryCollection',\n\t'GET_DD_COLUMN_PRIVILEGES',\n\t'GET_DD_CREATE_OPTIONS',\n\t'GET_DD_INDEX_SUB_PART_LENGTH',\n\t'GET_FORMAT',\n\t'GET_LOCK',\n\t'GREATEST',\n\t'GROUP_CONCAT',\n\t'GROUPING',\n\t'GTID_SUBSET',\n\t'GTID_SUBTRACT',\n\t'HEX',\n\t'HOUR',\n\t'ICU_VERSION',\n\t'IF',\n\t'IFNULL',\n\t'IN',\n\t'INET_ATON',\n\t'INET_NTOA',\n\t'INET6_ATON',\n\t'INET6_NTOA',\n\t'INSERT',\n\t'INSTR',\n\t'INTERNAL_AUTO_INCREMENT',\n\t'INTERNAL_AVG_ROW_LENGTH',\n\t'INTERNAL_CHECK_TIME',\n\t'INTERNAL_CHECKSUM',\n\t'INTERNAL_DATA_FREE',\n\t'INTERNAL_DATA_LENGTH',\n\t'INTERNAL_DD_CHAR_LENGTH',\n\t'INTERNAL_GET_COMMENT_OR_ERROR',\n\t'INTERNAL_GET_ENABLED_ROLE_JSON',\n\t'INTERNAL_GET_HOSTNAME',\n\t'INTERNAL_GET_USERNAME',\n\t'INTERNAL_GET_VIEW_WARNING_OR_ERROR',\n\t'INTERNAL_INDEX_COLUMN_CARDINALITY',\n\t'INTERNAL_INDEX_LENGTH',\n\t'INTERNAL_IS_ENABLED_ROLE',\n\t'INTERNAL_IS_MANDATORY_ROLE',\n\t'INTERNAL_KEYS_DISABLED',\n\t'INTERNAL_MAX_DATA_LENGTH',\n\t'INTERNAL_TABLE_ROWS',\n\t'INTERNAL_UPDATE_TIME',\n\t'INTERVAL',\n\t'IS',\n\t'IS_FREE_LOCK',\n\t'IS_IPV4',\n\t'IS_IPV4_COMPAT',\n\t'IS_IPV4_MAPPED',\n\t'IS_IPV6',\n\t'IS NOT',\n\t'IS NOT NULL',\n\t'IS NULL',\n\t'IS_USED_LOCK',\n\t'IS_UUID',\n\t'ISNULL',\n\t'JSON_ARRAY',\n\t'JSON_ARRAY_APPEND',\n\t'JSON_ARRAY_INSERT',\n\t'JSON_ARRAYAGG',\n\t'JSON_CONTAINS',\n\t'JSON_CONTAINS_PATH',\n\t'JSON_DEPTH',\n\t'JSON_EXTRACT',\n\t'JSON_INSERT',\n\t'JSON_KEYS',\n\t'JSON_LENGTH',\n\t'JSON_MERGE',\n\t'JSON_MERGE_PATCH',\n\t'JSON_MERGE_PRESERVE',\n\t'JSON_OBJECT',\n\t'JSON_OBJECTAGG',\n\t'JSON_OVERLAPS',\n\t'JSON_PRETTY',\n\t'JSON_QUOTE',\n\t'JSON_REMOVE',\n\t'JSON_REPLACE',\n\t'JSON_SCHEMA_VALID',\n\t'JSON_SCHEMA_VALIDATION_REPORT',\n\t'JSON_SEARCH',\n\t'JSON_SET',\n\t'JSON_STORAGE_FREE',\n\t'JSON_STORAGE_SIZE',\n\t'JSON_TABLE',\n\t'JSON_TYPE',\n\t'JSON_UNQUOTE',\n\t'JSON_VALID',\n\t'JSON_VALUE',\n\t'LAG',\n\t'LAST_DAY',\n\t'LAST_INSERT_ID',\n\t'LAST_VALUE',\n\t'LCASE',\n\t'LEAD',\n\t'LEAST',\n\t'LEFT',\n\t'LENGTH',\n\t'LIKE',\n\t'LineString',\n\t'LN',\n\t'LOAD_FILE',\n\t'LOCALTIME',\n\t'LOCALTIMESTAMP',\n\t'LOCATE',\n\t'LOG',\n\t'LOG10',\n\t'LOG2',\n\t'LOWER',\n\t'LPAD',\n\t'LTRIM',\n\t'MAKE_SET',\n\t'MAKEDATE',\n\t'MAKETIME',\n\t'MASTER_POS_WAIT',\n\t'MATCH',\n\t'MAX',\n\t'MBRContains',\n\t'MBRCoveredBy',\n\t'MBRCovers',\n\t'MBRDisjoint',\n\t'MBREquals',\n\t'MBRIntersects',\n\t'MBROverlaps',\n\t'MBRTouches',\n\t'MBRWithin',\n\t'MD5',\n\t'MEMBER OF',\n\t'MICROSECOND',\n\t'MID',\n\t'MIN',\n\t'MINUTE',\n\t'MOD',\n\t'MONTH',\n\t'MONTHNAME',\n\t'MultiLineString',\n\t'MultiPoint',\n\t'MultiPolygon',\n\t'NAME_CONST',\n\t'NOT',\n\t'NOT IN',\n\t'NOT LIKE',\n\t'NOT REGEXP',\n\t'NOW',\n\t'NTH_VALUE',\n\t'NTILE',\n\t'NULLIF',\n\t'OCT',\n\t'OCTET_LENGTH',\n\t'OR',\n\t'ORD',\n\t'PERCENT_RANK',\n\t'PERIOD_ADD',\n\t'PERIOD_DIFF',\n\t'PI',\n\t'Point',\n\t'Polygon',\n\t'POSITION',\n\t'POW',\n\t'POWER',\n\t'PS_CURRENT_THREAD_ID',\n\t'PS_THREAD_ID',\n\t'QUARTER',\n\t'QUOTE',\n\t'RADIANS',\n\t'RAND',\n\t'RANDOM_BYTES',\n\t'RANK',\n\t'REGEXP',\n\t'REGEXP_INSTR',\n\t'REGEXP_LIKE',\n\t'REGEXP_REPLACE',\n\t'REGEXP_SUBSTR',\n\t'RELEASE_ALL_LOCKS',\n\t'RELEASE_LOCK',\n\t'REPEAT',\n\t'REPLACE',\n\t'REVERSE',\n\t'RIGHT',\n\t'RLIKE',\n\t'ROLES_GRAPHML',\n\t'ROUND',\n\t'ROW_COUNT',\n\t'ROW_NUMBER',\n\t'RPAD',\n\t'RTRIM',\n\t'SCHEMA',\n\t'SEC_TO_TIME',\n\t'SECOND',\n\t'SESSION_USER',\n\t'SHA1',\n\t'SHA2',\n\t'SIGN',\n\t'SIN',\n\t'SLEEP',\n\t'SOUNDEX',\n\t'SOUNDS LIKE',\n\t'SOURCE_POS_WAIT',\n\t'SPACE',\n\t'SQRT',\n\t'ST_Area',\n\t'ST_AsBinary',\n\t'ST_AsGeoJSON',\n\t'ST_AsText',\n\t'ST_Buffer',\n\t'ST_Buffer_Strategy',\n\t'ST_Centroid',\n\t'ST_Collect',\n\t'ST_Contains',\n\t'ST_ConvexHull',\n\t'ST_Crosses',\n\t'ST_Difference',\n\t'ST_Dimension',\n\t'ST_Disjoint',\n\t'ST_Distance',\n\t'ST_Distance_Sphere',\n\t'ST_EndPoint',\n\t'ST_Envelope',\n\t'ST_Equals',\n\t'ST_ExteriorRing',\n\t'ST_FrechetDistance',\n\t'ST_GeoHash',\n\t'ST_GeomCollFromText',\n\t'ST_GeomCollFromWKB',\n\t'ST_GeometryN',\n\t'ST_GeometryType',\n\t'ST_GeomFromGeoJSON',\n\t'ST_GeomFromText',\n\t'ST_GeomFromWKB',\n\t'ST_HausdorffDistance',\n\t'ST_InteriorRingN',\n\t'ST_Intersection',\n\t'ST_Intersects',\n\t'ST_IsClosed',\n\t'ST_IsEmpty',\n\t'ST_IsSimple',\n\t'ST_IsValid',\n\t'ST_LatFromGeoHash',\n\t'ST_Latitude',\n\t'ST_Length',\n\t'ST_LineFromText',\n\t'ST_LineFromWKB',\n\t'ST_LineInterpolatePoint',\n\t'ST_LineInterpolatePoints',\n\t'ST_LongFromGeoHash',\n\t'ST_Longitude',\n\t'ST_MakeEnvelope',\n\t'ST_MLineFromText',\n\t'ST_MLineFromWKB',\n\t'ST_MPointFromText',\n\t'ST_MPointFromWKB',\n\t'ST_MPolyFromText',\n\t'ST_MPolyFromWKB',\n\t'ST_NumGeometries',\n\t'ST_NumInteriorRing',\n\t'ST_NumPoints',\n\t'ST_Overlaps',\n\t'ST_PointAtDistance',\n\t'ST_PointFromGeoHash',\n\t'ST_PointFromText',\n\t'ST_PointFromWKB',\n\t'ST_PointN',\n\t'ST_PolyFromText',\n\t'ST_PolyFromWKB',\n\t'ST_Simplify',\n\t'ST_SRID',\n\t'ST_StartPoint',\n\t'ST_SwapXY',\n\t'ST_SymDifference',\n\t'ST_Touches',\n\t'ST_Transform',\n\t'ST_Union',\n\t'ST_Validate',\n\t'ST_Within',\n\t'ST_X',\n\t'ST_Y',\n\t'STATEMENT_DIGEST',\n\t'STATEMENT_DIGEST_TEXT',\n\t'STD',\n\t'STDDEV',\n\t'STDDEV_POP',\n\t'STDDEV_SAMP',\n\t'STR_TO_DATE',\n\t'STRCMP',\n\t'SUBDATE',\n\t'SUBSTR',\n\t'SUBSTRING',\n\t'SUBSTRING_INDEX',\n\t'SUBTIME',\n\t'SUM',\n\t'SYSDATE',\n\t'SYSTEM_USER',\n\t'TAN',\n\t'TIME',\n\t'TIME_FORMAT',\n\t'TIME_TO_SEC',\n\t'TIMEDIFF',\n\t'TIMESTAMP',\n\t'TIMESTAMPADD',\n\t'TIMESTAMPDIFF',\n\t'TO_BASE64',\n\t'TO_DAYS',\n\t'TO_SECONDS',\n\t'TRIM',\n\t'TRUNCATE',\n\t'UCASE',\n\t'UNCOMPRESS',\n\t'UNCOMPRESSED_LENGTH',\n\t'UNHEX',\n\t'UNIX_TIMESTAMP',\n\t'UpdateXML',\n\t'UPPER',\n\t'USER',\n\t'UTC_DATE',\n\t'UTC_TIME',\n\t'UTC_TIMESTAMP',\n\t'UUID',\n\t'UUID_SHORT',\n\t'UUID_TO_BIN',\n\t'VALIDATE_PASSWORD_STRENGTH',\n\t'VALUES',\n\t'VAR_POP',\n\t'VAR_SAMP',\n\t'VARIANCE',\n\t'VERSION',\n\t'WAIT_FOR_EXECUTED_GTID_SET',\n\t'WAIT_UNTIL_SQL_THREAD_AFTER_GTIDS',\n\t'WEEK',\n\t'WEEKDAY',\n\t'WEEKOFYEAR',\n\t'WEIGHT_STRING',\n\t'XOR',\n\t'YEAR',\n\t'YEARWEEK',\n];\n\n/**\n * Priority 5 (last)\n * Full list of reserved words\n * any words that are in a higher priority are removed\n */\n// https://dev.mysql.com/doc/refman/8.0/en/keywords.html\nconst reservedKeywords = [\n\t'ACCESSIBLE',\n\t'ACCOUNT',\n\t'ACTION',\n\t'ACTIVE',\n\t'ADMIN',\n\t'AFTER',\n\t'AGAINST',\n\t'AGGREGATE',\n\t'ALGORITHM',\n\t'ALL',\n\t'ALTER',\n\t'ALWAYS',\n\t'ANALYSE',\n\t'ANALYZE',\n\t'ANY',\n\t'ARRAY',\n\t'AS',\n\t'ASC',\n\t'ASENSITIVE',\n\t'AT',\n\t'ATTRIBUTE',\n\t'AUTHENTICATION',\n\t'AUTOEXTEND_SIZE',\n\t'AUTO_INCREMENT',\n\t'AVG_ROW_LENGTH',\n\t'BACKUP',\n\t'BEFORE',\n\t'BEGIN',\n\t'BETWEEN',\n\t'BIGINT',\n\t'BIT',\n\t'BLOB',\n\t'BLOCK',\n\t'BOOL',\n\t'BOOLEAN',\n\t'BOTH',\n\t'BTREE',\n\t'BUCKETS',\n\t'BY',\n\t'BYTE',\n\t'CACHE',\n\t'CASCADE',\n\t'CASCADED',\n\t'CATALOG_NAME',\n\t'CHAIN',\n\t'CHALLENGE_RESPONSE',\n\t'CHANGE',\n\t'CHANGED',\n\t'CHANNEL',\n\t'CHARACTER',\n\t'CHECK',\n\t'CHECKSUM',\n\t'CIPHER',\n\t'CLASS_ORIGIN',\n\t'CLIENT',\n\t'CLOSE',\n\t'CODE',\n\t'COLLATE',\n\t'COLUMN',\n\t'COLUMNS',\n\t'COLUMN_FORMAT',\n\t'COLUMN_NAME',\n\t'COMMENT',\n\t'COMMITTED',\n\t'COMPACT',\n\t'COMPLETION',\n\t'COMPONENT',\n\t'COMPRESSED',\n\t'COMPRESSION',\n\t'CONCURRENT',\n\t'CONDITION',\n\t'CONNECTION',\n\t'CONSISTENT',\n\t'CONSTRAINT',\n\t'CONSTRAINT_CATALOG',\n\t'CONSTRAINT_NAME',\n\t'CONSTRAINT_SCHEMA',\n\t'CONTAINS',\n\t'CONTEXT',\n\t'CONTINUE',\n\t'CPU',\n\t'CREATE',\n\t'CROSS',\n\t'CUBE',\n\t'CURRENT',\n\t'CURSOR',\n\t'CURSOR_NAME',\n\t'DATA',\n\t'DATABASES',\n\t'DATAFILE',\n\t'DATETIME',\n\t'DAY_HOUR',\n\t'DAY_MICROSECOND',\n\t'DAY_MINUTE',\n\t'DAY_SECOND',\n\t'DEALLOCATE',\n\t'DEC',\n\t'DECIMAL',\n\t'DECLARE',\n\t'DEFAULT_AUTH',\n\t'DEFINER',\n\t'DEFINITION',\n\t'DELAYED',\n\t'DELAY_KEY_WRITE',\n\t'DESC',\n\t'DESCRIPTION',\n\t'DES_KEY_FILE',\n\t'DETERMINISTIC',\n\t'DIAGNOSTICS',\n\t'DIRECTORY',\n\t'DISABLE',\n\t'DISCARD',\n\t'DISK',\n\t'DISTINCT',\n\t'DISTINCTROW',\n\t'DOUBLE',\n\t'DROP',\n\t'DUAL',\n\t'DUMPFILE',\n\t'DUPLICATE',\n\t'DYNAMIC',\n\t'EACH',\n\t'EMPTY',\n\t'ENABLE',\n\t'ENCLOSED',\n\t'ENCRYPTION',\n\t'ENDS',\n\t'ENFORCED',\n\t'ENGINE',\n\t'ENGINES',\n\t'ENGINE_ATTRIBUTE',\n\t'ENUM',\n\t'ERROR',\n\t'ERRORS',\n\t'ESCAPE',\n\t'ESCAPED',\n\t'EVENT',\n\t'EVENTS',\n\t'EVERY',\n\t'EXCHANGE',\n\t'EXCLUDE',\n\t'EXISTS',\n\t'EXIT',\n\t'EXPANSION',\n\t'EXPIRE',\n\t'EXPORT',\n\t'EXTENDED',\n\t'EXTENT_SIZE',\n\t'FACTOR',\n\t'FAILED_LOGIN_ATTEMPTS',\n\t'FALSE',\n\t'FAST',\n\t'FAULTS',\n\t'FETCH',\n\t'FIELDS',\n\t'FILE',\n\t'FILE_BLOCK_SIZE',\n\t'FILTER',\n\t'FINISH',\n\t'FIRST',\n\t'FIXED',\n\t'FLOAT',\n\t'FLOAT4',\n\t'FLOAT8',\n\t'FOLLOWING',\n\t'FOLLOWS',\n\t'FOR',\n\t'FORCE',\n\t'FOREIGN',\n\t'FOUND',\n\t'FULL',\n\t'FULLTEXT',\n\t'FUNCTION',\n\t'GENERAL',\n\t'GENERATED',\n\t'GEOMCOLLECTION',\n\t'GEOMETRY',\n\t'GEOMETRYCOLLECTION',\n\t'GET',\n\t'GET_MASTER_PUBLIC_KEY',\n\t'GET_SOURCE_PUBLIC_KEY',\n\t'GLOBAL',\n\t'@@GLOBAL',\n\t'GRANTS',\n\t'GROUP',\n\t'GROUPS',\n\t'GROUP_REPLICATION',\n\t'GTID_ONLY',\n\t'HASH',\n\t'HIGH_PRIORITY',\n\t'HISTOGRAM',\n\t'HISTORY',\n\t'HOST',\n\t'HOSTS',\n\t'HOUR_MICROSECOND',\n\t'HOUR_MINUTE',\n\t'HOUR_SECOND',\n\t'IDENTIFIED',\n\t'IGNORE',\n\t'IGNORE_SERVER_IDS',\n\t'IMPORT',\n\t'INACTIVE',\n\t'INDEX',\n\t'INDEXES',\n\t'INFILE',\n\t'INITIAL',\n\t'INITIAL_SIZE',\n\t'INITIATE',\n\t'INNER',\n\t'INOUT',\n\t'INSENSITIVE',\n\t'INSERT_METHOD',\n\t'INSTALL',\n\t'INSTANCE',\n\t'INT',\n\t'INT1',\n\t'INT2',\n\t'INT3',\n\t'INT4',\n\t'INT8',\n\t'INTEGER',\n\t'INTO',\n\t'INVISIBLE',\n\t'INVOKER',\n\t'IO',\n\t'IO_AFTER_GTIDS',\n\t'IO_BEFORE_GTIDS',\n\t'IO_THREAD',\n\t'IPC',\n\t'ISOLATION',\n\t'ISSUER',\n\t'ITERATE',\n\t'JSON',\n\t'KEY',\n\t'KEYRING',\n\t'KEYS',\n\t'KEY_BLOCK_SIZE',\n\t'LANGUAGE',\n\t'LAST',\n\t'LEADING',\n\t'LEAVE',\n\t'LEAVES',\n\t'LESS',\n\t'LEVEL',\n\t'LINEAR',\n\t'LINES',\n\t'LINESTRING',\n\t'LIST',\n\t'LOAD',\n\t'LOCAL',\n\t'LOCK',\n\t'LOCKED',\n\t'LOCKS',\n\t'LOGFILE',\n\t'LOGS',\n\t'LONG',\n\t'LONGBLOB',\n\t'LONGTEXT',\n\t'LOOP',\n\t'LOW_PRIORITY',\n\t'MASTER',\n\t'MASTER_AUTO_POSITION',\n\t'MASTER_BIND',\n\t'MASTER_COMPRESSION_ALGORITHMS',\n\t'MASTER_CONNECT_RETRY',\n\t'MASTER_DELAY',\n\t'MASTER_HEARTBEAT_PERIOD',\n\t'MASTER_HOST',\n\t'MASTER_LOG_FILE',\n\t'MASTER_LOG_POS',\n\t'MASTER_PASSWORD',\n\t'MASTER_PORT',\n\t'MASTER_PUBLIC_KEY_PATH',\n\t'MASTER_RETRY_COUNT',\n\t'MASTER_SERVER_ID',\n\t'MASTER_SSL',\n\t'MASTER_SSL_CA',\n\t'MASTER_SSL_CAPATH',\n\t'MASTER_SSL_CERT',\n\t'MASTER_SSL_CIPHER',\n\t'MASTER_SSL_CRL',\n\t'MASTER_SSL_CRLPATH',\n\t'MASTER_SSL_KEY',\n\t'MASTER_SSL_VERIFY_SERVER_CERT',\n\t'MASTER_TLS_CIPHERSUITES',\n\t'MASTER_TLS_VERSION',\n\t'MASTER_USER',\n\t'MASTER_ZSTD_COMPRESSION_LEVEL',\n\t'MAXVALUE',\n\t'MAX_CONNECTIONS_PER_HOUR',\n\t'MAX_QUERIES_PER_HOUR',\n\t'MAX_ROWS',\n\t'MAX_SIZE',\n\t'MAX_UPDATES_PER_HOUR',\n\t'MAX_USER_CONNECTIONS',\n\t'MEDIUM',\n\t'MEDIUMBLOB',\n\t'MEDIUMINT',\n\t'MEDIUMTEXT',\n\t'MEMBER',\n\t'MEMORY',\n\t'MERGE',\n\t'MESSAGE_TEXT',\n\t'MIDDLEINT',\n\t'MIGRATE',\n\t'MINUTE_MICROSECOND',\n\t'MINUTE_SECOND',\n\t'MIN_ROWS',\n\t'MODE',\n\t'MODIFIES',\n\t'MODIFY',\n\t'MULTILINESTRING',\n\t'MULTIPOINT',\n\t'MULTIPOLYGON',\n\t'MUTEX',\n\t'MYSQL_ERRNO',\n\t'NAME',\n\t'NAMES',\n\t'NATIONAL',\n\t'NATURAL',\n\t'NCHAR',\n\t'NDB',\n\t'NDBCLUSTER',\n\t'NESTED',\n\t'NETWORK_NAMESPACE',\n\t'NEVER',\n\t'NEW',\n\t'NEXT',\n\t'NO',\n\t'NODEGROUP',\n\t'NONE',\n\t'NOWAIT',\n\t'NO_WAIT',\n\t'NO_WRITE_TO_BINLOG',\n\t'NULL',\n\t'NULLS',\n\t'NUMBER',\n\t'NUMERIC',\n\t'NVARCHAR',\n\t'OF',\n\t'OFF',\n\t'OFFSET',\n\t'OJ',\n\t'OLD',\n\t'ONE',\n\t'ONLY',\n\t'OPEN',\n\t'OPTIMIZE',\n\t'OPTIMIZER_COSTS',\n\t'OPTION',\n\t'OPTIONAL',\n\t'OPTIONALLY',\n\t'OPTIONS',\n\t'ORDER',\n\t'ORDINALITY',\n\t'ORGANIZATION',\n\t'OTHERS',\n\t'OUT',\n\t'OUTER',\n\t'OUTFILE',\n\t'OVER',\n\t'OWNER',\n\t'PACK_KEYS',\n\t'PAGE',\n\t'PARSER',\n\t'PARSE_GCOL_EXPR',\n\t'PARTIAL',\n\t'PARTITION',\n\t'PARTITIONING',\n\t'PARTITIONS',\n\t'PASSWORD',\n\t'PASSWORD_LOCK_TIME',\n\t'PATH',\n\t'PERSIST',\n\t'@@PERSIST',\n\t'PERSIST_ONLY',\n\t'@@PERSIST_ONLY',\n\t'PHASE',\n\t'PLUGIN',\n\t'PLUGINS',\n\t'PLUGIN_DIR',\n\t'POINT',\n\t'POLYGON',\n\t'PORT',\n\t'PRECEDES',\n\t'PRECEDING',\n\t'PRECISION',\n\t'PRESERVE',\n\t'PREV',\n\t'PRIMARY',\n\t'PRIVILEGES',\n\t'PRIVILEGE_CHECKS_USER',\n\t'PROCEDURE',\n\t'PROCESS',\n\t'PROCESSLIST',\n\t'PROFILE',\n\t'PROFILES',\n\t'PROXY',\n\t'PURGE',\n\t'QUERY',\n\t'QUICK',\n\t'RANDOM',\n\t'RANGE',\n\t'READ',\n\t'READS',\n\t'READ_ONLY',\n\t'READ_WRITE',\n\t'REAL',\n\t'REBUILD',\n\t'RECOVER',\n\t'RECURSIVE',\n\t'REDOFILE',\n\t'REDO_BUFFER_SIZE',\n\t'REDUNDANT',\n\t'REFERENCE',\n\t'REFERENCES',\n\t'REGISTRATION',\n\t'RELAY',\n\t'RELAYLOG',\n\t'RELAY_LOG_FILE',\n\t'RELAY_LOG_POS',\n\t'RELAY_THREAD',\n\t'RELEASE',\n\t'RELOAD',\n\t'REMOTE',\n\t'REMOVE',\n\t'RENAME',\n\t'REORGANIZE',\n\t'REPAIR',\n\t'REPEATABLE',\n\t'REPLICA',\n\t'REPLICAS',\n\t'REPLICATE_DO_DB',\n\t'REPLICATE_DO_TABLE',\n\t'REPLICATE_IGNORE_DB',\n\t'REPLICATE_IGNORE_TABLE',\n\t'REPLICATE_REWRITE_DB',\n\t'REPLICATE_WILD_DO_TABLE',\n\t'REPLICATE_WILD_IGNORE_TABLE',\n\t'REPLICATION',\n\t'REQUIRE',\n\t'REQUIRE_ROW_FORMAT',\n\t'RESIGNAL',\n\t'RESOURCE',\n\t'RESPECT',\n\t'RESTORE',\n\t'RESTRICT',\n\t'RESUME',\n\t'RETAIN',\n\t'RETURN',\n\t'RETURNED_SQLSTATE',\n\t'RETURNING',\n\t'RETURNS',\n\t'REUSE',\n\t'ROLE',\n\t'ROLLUP',\n\t'ROTATE',\n\t'ROUTINE',\n\t'ROW',\n\t'ROWS',\n\t'ROW_FORMAT',\n\t'RTREE',\n\t'SCHEDULE',\n\t'SCHEMAS',\n\t'SCHEMA_NAME',\n\t'SECONDARY',\n\t'SECONDARY_ENGINE',\n\t'SECONDARY_ENGINE_ATTRIBUTE',\n\t'SECONDARY_LOAD',\n\t'SECONDARY_UNLOAD',\n\t'SECOND_MICROSECOND',\n\t'SECURITY',\n\t'SENSITIVE',\n\t'SEPARATOR',\n\t'SERIAL',\n\t'SERIALIZABLE',\n\t'SERVER',\n\t'SESSION',\n\t'@@SESSION',\n\t'SHARE',\n\t'SIGNAL',\n\t'SIGNED',\n\t'SIMPLE',\n\t'SKIP',\n\t'SLAVE',\n\t'SLOW',\n\t'SMALLINT',\n\t'SNAPSHOT',\n\t'SOCKET',\n\t'SOME',\n\t'SONAME',\n\t'SOUNDS',\n\t'SOURCE',\n\t'SOURCE_AUTO_POSITION',\n\t'SOURCE_BIND',\n\t'SOURCE_COMPRESSION_ALGORITHMS',\n\t'SOURCE_CONNECT_RETRY',\n\t'SOURCE_DELAY',\n\t'SOURCE_HEARTBEAT_PERIOD',\n\t'SOURCE_HOST',\n\t'SOURCE_LOG_FILE',\n\t'SOURCE_LOG_POS',\n\t'SOURCE_PASSWORD',\n\t'SOURCE_PORT',\n\t'SOURCE_PUBLIC_KEY_PATH',\n\t'SOURCE_RETRY_COUNT',\n\t'SOURCE_SSL',\n\t'SOURCE_SSL_CA',\n\t'SOURCE_SSL_CAPATH',\n\t'SOURCE_SSL_CERT',\n\t'SOURCE_SSL_CIPHER',\n\t'SOURCE_SSL_CRL',\n\t'SOURCE_SSL_CRLPATH',\n\t'SOURCE_SSL_KEY',\n\t'SOURCE_SSL_VERIFY_SERVER_CERT',\n\t'SOURCE_TLS_CIPHERSUITES',\n\t'SOURCE_TLS_VERSION',\n\t'SOURCE_USER',\n\t'SOURCE_ZSTD_COMPRESSION_LEVEL',\n\t'SPATIAL',\n\t'SPECIFIC',\n\t'SQL',\n\t'SQLEXCEPTION',\n\t'SQLSTATE',\n\t'SQLWARNING',\n\t'SQL_AFTER_GTIDS',\n\t'SQL_AFTER_MTS_GAPS',\n\t'SQL_BEFORE_GTIDS',\n\t'SQL_BIG_RESULT',\n\t'SQL_BUFFER_RESULT',\n\t'SQL_CACHE',\n\t'SQL_CALC_FOUND_ROWS',\n\t'SQL_NO_CACHE',\n\t'SQL_SMALL_RESULT',\n\t'SQL_THREAD',\n\t'SQL_TSI_DAY',\n\t'SQL_TSI_HOUR',\n\t'SQL_TSI_MINUTE',\n\t'SQL_TSI_MONTH',\n\t'SQL_TSI_QUARTER',\n\t'SQL_TSI_SECOND',\n\t'SQL_TSI_WEEK',\n\t'SQL_TSI_YEAR',\n\t'SRID',\n\t'SSL',\n\t'STACKED',\n\t'START',\n\t'STARTING',\n\t'STARTS',\n\t'STATS_AUTO_RECALC',\n\t'STATS_PERSISTENT',\n\t'STATS_SAMPLE_PAGES',\n\t'STATUS',\n\t'STOP',\n\t'STORAGE',\n\t'STORED',\n\t'STREAM',\n\t'STRING',\n\t'SUBCLASS_ORIGIN',\n\t'SUBJECT',\n\t'SUBPARTITION',\n\t'SUBPARTITIONS',\n\t'SUPER',\n\t'SUSPEND',\n\t'SWAPS',\n\t'SWITCHES',\n\t'SYSTEM',\n\t'TABLES',\n\t'TABLESPACE',\n\t'TABLE_CHECKSUM',\n\t'TABLE_NAME',\n\t'TEMPORARY',\n\t'TEMPTABLE',\n\t'TERMINATED',\n\t'TEXT',\n\t'THAN',\n\t'THREAD_PRIORITY',\n\t'TIES',\n\t'TINYBLOB',\n\t'TINYINT',\n\t'TINYTEXT',\n\t'TLS',\n\t'TO',\n\t'TRAILING',\n\t'TRANSACTION',\n\t'TRIGGER',\n\t'TRIGGERS',\n\t'TRUE',\n\t'TYPE',\n\t'TYPES',\n\t'UNBOUNDED',\n\t'UNCOMMITTED',\n\t'UNDEFINED',\n\t'UNDO',\n\t'UNDOFILE',\n\t'UNDO_BUFFER_SIZE',\n\t'UNICODE',\n\t'UNINSTALL',\n\t'UNIQUE',\n\t'UNKNOWN',\n\t'UNLOCK',\n\t'UNREGISTER',\n\t'UNSIGNED',\n\t'UNTIL',\n\t'UPGRADE',\n\t'USAGE',\n\t'USER_RESOURCES',\n\t'USE_FRM',\n\t'USING',\n\t'VALIDATION',\n\t'VALUE',\n\t'VARBINARY',\n\t'VARCHAR',\n\t'VARCHARACTER',\n\t'VARIABLES',\n\t'VARYING',\n\t'VCPU',\n\t'VIEW',\n\t'VIRTUAL',\n\t'VISIBLE',\n\t'WAIT',\n\t'WARNINGS',\n\t'WHILE',\n\t'WINDOW',\n\t'WITHOUT',\n\t'WORK',\n\t'WRAPPER',\n\t'WRITE',\n\t'X509',\n\t'XID',\n\t'XML',\n\t'YEAR_MONTH',\n\t'ZEROFILL',\n\t'ZONE',\n];\n\n/**\n * Priority 1 (first)\n * keywords that begin a new statement\n * will begin new indented block\n */\n// https://dev.mysql.com/doc/refman/8.0/en/sql-statements.html\nconst reservedCommands = [\n\t'ALTER DATABASE',\n\t'ALTER EVENT',\n\t'ALTER FUNCTION',\n\t'ALTER INSTANCE',\n\t'ALTER LOGFILE GROUP',\n\t'ALTER PROCEDURE',\n\t'ALTER RESOURCE GROUP',\n\t'ALTER SERVER',\n\t'ALTER TABLE',\n\t'ALTER TABLESPACE',\n\t'ALTER USER',\n\t'ALTER VIEW',\n\t'ANALYZE TABLE',\n\t'BINLOG',\n\t'CACHE INDEX',\n\t'CALL',\n\t'CHANGE MASTER TO',\n\t'CHANGE REPLICATION FILTER',\n\t'CHANGE REPLICATION SOURCE TO',\n\t'CHECK TABLE',\n\t'CHECKSUM TABLE',\n\t'CLONE',\n\t'COMMIT',\n\t'CREATE DATABASE',\n\t'CREATE EVENT',\n\t'CREATE FUNCTION',\n\t'CREATE FUNCTION',\n\t'CREATE INDEX',\n\t'CREATE LOGFILE GROUP',\n\t'CREATE PROCEDURE',\n\t'CREATE RESOURCE GROUP',\n\t'CREATE ROLE',\n\t'CREATE SERVER',\n\t'CREATE SPATIAL REFERENCE SYSTEM',\n\t'CREATE TABLE',\n\t'CREATE TABLESPACE',\n\t'CREATE TRIGGER',\n\t'CREATE USER',\n\t'CREATE VIEW',\n\t'DEALLOCATE PREPARE',\n\t'DELETE',\n\t'DESCRIBE',\n\t'DO',\n\t'DROP DATABASE',\n\t'DROP EVENT',\n\t'DROP FUNCTION',\n\t'DROP FUNCTION',\n\t'DROP INDEX',\n\t'DROP LOGFILE GROUP',\n\t'DROP PROCEDURE',\n\t'DROP RESOURCE GROUP',\n\t'DROP ROLE',\n\t'DROP SERVER',\n\t'DROP SPATIAL REFERENCE SYSTEM',\n\t'DROP TABLE',\n\t'DROP TABLESPACE',\n\t'DROP TRIGGER',\n\t'DROP USER',\n\t'DROP VIEW',\n\t'EXECUTE',\n\t'EXPLAIN',\n\t'FLUSH',\n\t'GRANT',\n\t'HANDLER',\n\t'HELP',\n\t'IMPORT TABLE',\n\t'INSERT',\n\t'INSTALL COMPONENT',\n\t'INSTALL PLUGIN',\n\t'KILL',\n\t'LOAD DATA',\n\t'LOAD INDEX INTO CACHE',\n\t'LOAD XML',\n\t'LOCK INSTANCE FOR BACKUP',\n\t'LOCK TABLES',\n\t'MASTER_POS_WAIT',\n\t'OPTIMIZE TABLE',\n\t'PREPARE',\n\t'PURGE BINARY LOGS',\n\t'RELEASE SAVEPOINT',\n\t'RENAME TABLE',\n\t'RENAME USER',\n\t'REPAIR TABLE',\n\t'REPLACE',\n\t'RESET',\n\t'RESET MASTER',\n\t'RESET PERSIST',\n\t'RESET REPLICA',\n\t'RESET SLAVE',\n\t'RESTART',\n\t'REVOKE',\n\t'ROLLBACK',\n\t'ROLLBACK TO SAVEPOINT',\n\t'SAVEPOINT',\n\t'SELECT',\n\t'SET',\n\t'SET CHARACTER SET',\n\t'SET DEFAULT ROLE',\n\t'SET NAMES',\n\t'SET PASSWORD',\n\t'SET RESOURCE GROUP',\n\t'SET ROLE',\n\t'SET TRANSACTION',\n\t'SHOW',\n\t'SHOW BINARY LOGS',\n\t'SHOW BINLOG EVENTS',\n\t'SHOW CHARACTER SET',\n\t'SHOW COLLATION',\n\t'SHOW COLUMNS',\n\t'SHOW CREATE DATABASE',\n\t'SHOW CREATE EVENT',\n\t'SHOW CREATE FUNCTION',\n\t'SHOW CREATE PROCEDURE',\n\t'SHOW CREATE TABLE',\n\t'SHOW CREATE TRIGGER',\n\t'SHOW CREATE USER',\n\t'SHOW CREATE VIEW',\n\t'SHOW DATABASES',\n\t'SHOW ENGINE',\n\t'SHOW ENGINES',\n\t'SHOW ERRORS',\n\t'SHOW EVENTS',\n\t'SHOW FUNCTION CODE',\n\t'SHOW FUNCTION STATUS',\n\t'SHOW GRANTS',\n\t'SHOW INDEX',\n\t'SHOW MASTER STATUS',\n\t'SHOW OPEN TABLES',\n\t'SHOW PLUGINS',\n\t'SHOW PRIVILEGES',\n\t'SHOW PROCEDURE CODE',\n\t'SHOW PROCEDURE STATUS',\n\t'SHOW PROCESSLIST',\n\t'SHOW PROFILE',\n\t'SHOW PROFILES',\n\t'SHOW RELAYLOG EVENTS',\n\t'SHOW REPLICA STATUS',\n\t'SHOW REPLICAS',\n\t'SHOW SLAVE',\n\t'SHOW SLAVE HOSTS',\n\t'SHOW STATUS',\n\t'SHOW TABLE STATUS',\n\t'SHOW TABLES',\n\t'SHOW TRIGGERS',\n\t'SHOW VARIABLES',\n\t'SHOW WARNINGS',\n\t'SHUTDOWN',\n\t'SOURCE_POS_WAIT',\n\t'START GROUP_REPLICATION',\n\t'START REPLICA',\n\t'START SLAVE',\n\t'START TRANSACTION',\n\t'STOP GROUP_REPLICATION',\n\t'STOP REPLICA',\n\t'STOP SLAVE',\n\t'TABLE',\n\t'TRUNCATE TABLE',\n\t'UNINSTALL COMPONENT',\n\t'UNINSTALL PLUGIN',\n\t'UNLOCK INSTANCE',\n\t'UNLOCK TABLES',\n\t'UPDATE',\n\t'USE',\n\t'VALUES',\n\t'WITH',\n\t'XA',\n\t// flow control\n\t// 'IF',\n\t'ITERATE',\n\t'LEAVE',\n\t'LOOP',\n\t'REPEAT',\n\t'RETURN',\n\t'WHILE',\n\t// other\n\t'ADD',\n\t'ALTER COLUMN',\n\t'FROM',\n\t'GROUP BY',\n\t'HAVING',\n\t'INSERT INTO',\n\t'LIMIT',\n\t'OFFSET',\n\t'ORDER BY',\n\t'WHERE',\n];\n\n/**\n * Priority 2\n * commands that operate on two tables or subqueries\n * two main categories: joins and boolean set operators\n */\nconst reservedBinaryCommands = [\n\t// set booleans\n\t'INTERSECT',\n\t'INTERSECT ALL',\n\t'INTERSECT DISTINCT',\n\t'UNION',\n\t'UNION ALL',\n\t'UNION DISTINCT',\n\t'EXCEPT',\n\t'EXCEPT ALL',\n\t'EXCEPT DISTINCT',\n\t// joins\n\t'JOIN',\n\t'INNER JOIN',\n\t'LEFT JOIN',\n\t'LEFT OUTER JOIN',\n\t'RIGHT JOIN',\n\t'RIGHT OUTER JOIN',\n\t'CROSS JOIN',\n\t'NATURAL JOIN',\n\t// non-standard joins\n\t'STRAIGHT_JOIN',\n\t'NATURAL LEFT JOIN',\n\t'NATURAL LEFT OUTER JOIN',\n\t'NATURAL RIGHT JOIN',\n\t'NATURAL RIGHT OUTER JOIN',\n];\n\n/**\n * Priority 3\n * keywords that follow a previous Statement, must be attached to subsequent data\n * can be fully inline or on newline with optional indent\n */\nconst reservedDependentClauses = ['ON', 'WHEN', 'THEN', 'ELSE', 'ELSEIF', 'LATERAL'];\n\n// https://dev.mysql.com/doc/refman/8.0/en/\nexport default class MySqlFormatter extends Formatter {\n\tstatic reservedCommands = reservedCommands;\n\tstatic reservedBinaryCommands = reservedBinaryCommands;\n\tstatic reservedDependentClauses = reservedDependentClauses;\n\tstatic reservedLogicalOperators = ['AND', 'OR', 'XOR'];\n\tstatic reservedKeywords = dedupe([...reservedKeywords, ...reservedFunctions]);\n\tstatic stringTypes: StringPatternType[] = ['``', \"''\", '\"\"'];\n\tstatic blockStart = ['(', 'CASE'];\n\tstatic blockEnd = [')', 'END'];\n\tstatic indexedPlaceholderTypes = ['?'];\n\tstatic namedPlaceholderTypes = [];\n\tstatic lineCommentTypes = ['--', '#'];\n\tstatic specialWordChars = { prefix: '@:' };\n\tstatic operators = [':=', '<<', '>>', '<=>', '&&', '||', '->', '->>'];\n\n\ttokenizer() {\n\t\treturn new Tokenizer({\n\t\t\treservedCommands: MySqlFormatter.reservedCommands,\n\t\t\treservedBinaryCommands: MySqlFormatter.reservedBinaryCommands,\n\t\t\treservedDependentClauses: MySqlFormatter.reservedDependentClauses,\n\t\t\treservedLogicalOperators: MySqlFormatter.reservedLogicalOperators,\n\t\t\treservedKeywords: MySqlFormatter.reservedKeywords,\n\t\t\tstringTypes: MySqlFormatter.stringTypes,\n\t\t\tblockStart: MySqlFormatter.blockStart,\n\t\t\tblockEnd: MySqlFormatter.blockEnd,\n\t\t\tindexedPlaceholderTypes: MySqlFormatter.indexedPlaceholderTypes,\n\t\t\tnamedPlaceholderTypes: MySqlFormatter.namedPlaceholderTypes,\n\t\t\tlineCommentTypes: MySqlFormatter.lineCommentTypes,\n\t\t\tspecialWordChars: MySqlFormatter.specialWordChars,\n\t\t\toperators: MySqlFormatter.operators,\n\t\t});\n\t}\n\n\ttokenOverride(token: Token) {\n\t\t// [LATERAL] ( ...\n\t\tif (isToken.LATERAL(token) && this.tokenLookAhead()?.type === TokenType.BLOCK_START) {\n\t\t\t// This is a subquery, treat it like a join\n\t\t\treturn { type: TokenType.RESERVED_LOGICAL_OPERATOR, value: token.value };\n\t\t}\n\n\t\t// [SET] ( ...\n\t\tif (isToken.SET(token) && this.tokenLookAhead()?.value === '(') {\n\t\t\t// This is SET datatype, not SET statement\n\t\t\treturn { type: TokenType.RESERVED_KEYWORD, value: token.value };\n\t\t}\n\n\t\treturn token;\n\t}\n}\n","import Formatter from '../core/Formatter';\nimport Tokenizer from '../core/Tokenizer';\nimport type { StringPatternType } from '../core/regexFactory';\nimport { dedupe } from '../utils';\n\n// TODO: split this into object with function categories\n/**\n * Priority 5 (last)\n * Full list of reserved functions\n * distinct from Keywords due to interaction with parentheses\n */\n// https://docs.couchbase.com/server/current/n1ql/n1ql-language-reference/functions.html\nconst reservedFunctions = [\n\t'ABORT',\n\t'ABS',\n\t'ACOS',\n\t'ADVISOR',\n\t'ARRAY_AGG',\n\t'ARRAY_AGG',\n\t'ARRAY_APPEND',\n\t'ARRAY_AVG',\n\t'ARRAY_BINARY_SEARCH',\n\t'ARRAY_CONCAT',\n\t'ARRAY_CONTAINS',\n\t'ARRAY_COUNT',\n\t'ARRAY_DISTINCT',\n\t'ARRAY_EXCEPT',\n\t'ARRAY_FLATTEN',\n\t'ARRAY_IFNULL',\n\t'ARRAY_INSERT',\n\t'ARRAY_INTERSECT',\n\t'ARRAY_LENGTH',\n\t'ARRAY_MAX',\n\t'ARRAY_MIN',\n\t'ARRAY_MOVE',\n\t'ARRAY_POSITION',\n\t'ARRAY_PREPEND',\n\t'ARRAY_PUT',\n\t'ARRAY_RANGE',\n\t'ARRAY_REMOVE',\n\t'ARRAY_REPEAT',\n\t'ARRAY_REPLACE',\n\t'ARRAY_REVERSE',\n\t'ARRAY_SORT',\n\t'ARRAY_STAR',\n\t'ARRAY_SUM',\n\t'ARRAY_SYMDIFF',\n\t'ARRAY_SYMDIFF1',\n\t'ARRAY_SYMDIFFN',\n\t'ARRAY_UNION',\n\t'ASIN',\n\t'ATAN',\n\t'ATAN2',\n\t'AVG',\n\t'BASE64',\n\t'BASE64_DECODE',\n\t'BASE64_ENCODE',\n\t'BITAND ',\n\t'BITCLEAR ',\n\t'BITNOT ',\n\t'BITOR ',\n\t'BITSET ',\n\t'BITSHIFT ',\n\t'BITTEST ',\n\t'BITXOR ',\n\t'CEIL',\n\t'CLOCK_LOCAL',\n\t'CLOCK_MILLIS',\n\t'CLOCK_STR',\n\t'CLOCK_TZ',\n\t'CLOCK_UTC',\n\t'COALESCE',\n\t'CONCAT',\n\t'CONCAT2',\n\t'CONTAINS',\n\t'CONTAINS_TOKEN',\n\t'CONTAINS_TOKEN_LIKE',\n\t'CONTAINS_TOKEN_REGEXP',\n\t'COS',\n\t'COUNT',\n\t'COUNT',\n\t'COUNTN',\n\t'CUME_DIST',\n\t'CURL',\n\t'DATE_ADD_MILLIS',\n\t'DATE_ADD_STR',\n\t'DATE_DIFF_MILLIS',\n\t'DATE_DIFF_STR',\n\t'DATE_FORMAT_STR',\n\t'DATE_PART_MILLIS',\n\t'DATE_PART_STR',\n\t'DATE_RANGE_MILLIS',\n\t'DATE_RANGE_STR',\n\t'DATE_TRUNC_MILLIS',\n\t'DATE_TRUNC_STR',\n\t'DECODE',\n\t'DECODE_JSON',\n\t'DEGREES',\n\t'DENSE_RANK',\n\t'DURATION_TO_STR',\n\t// 'E',\n\t'ENCODED_SIZE',\n\t'ENCODE_JSON',\n\t'EXP',\n\t'FIRST_VALUE',\n\t'FLOOR',\n\t'GREATEST',\n\t'HAS_TOKEN',\n\t'IFINF',\n\t'IFMISSING',\n\t'IFMISSINGORNULL',\n\t'IFNAN',\n\t'IFNANORINF',\n\t'IFNULL',\n\t'INITCAP',\n\t'ISARRAY',\n\t'ISATOM',\n\t'ISBITSET',\n\t'ISBOOLEAN',\n\t'ISNUMBER',\n\t'ISOBJECT',\n\t'ISSTRING',\n\t'LAG',\n\t'LAST_VALUE',\n\t'LEAD',\n\t'LEAST',\n\t'LENGTH',\n\t'LN',\n\t'LOG',\n\t'LOWER',\n\t'LTRIM',\n\t'MAX',\n\t'MEAN',\n\t'MEDIAN',\n\t'META',\n\t'MILLIS',\n\t'MILLIS_TO_LOCAL',\n\t'MILLIS_TO_STR',\n\t'MILLIS_TO_TZ',\n\t'MILLIS_TO_UTC',\n\t'MILLIS_TO_ZONE_NAME',\n\t'MIN',\n\t'MISSINGIF',\n\t'NANIF',\n\t'NEGINFIF',\n\t'NOW_LOCAL',\n\t'NOW_MILLIS',\n\t'NOW_STR',\n\t'NOW_TZ',\n\t'NOW_UTC',\n\t'NTH_VALUE',\n\t'NTILE',\n\t'NULLIF',\n\t'NVL',\n\t'NVL2',\n\t'OBJECT_ADD',\n\t'OBJECT_CONCAT',\n\t'OBJECT_INNER_PAIRS',\n\t'OBJECT_INNER_VALUES',\n\t'OBJECT_LENGTH',\n\t'OBJECT_NAMES',\n\t'OBJECT_PAIRS',\n\t'OBJECT_PUT',\n\t'OBJECT_REMOVE',\n\t'OBJECT_RENAME',\n\t'OBJECT_REPLACE',\n\t'OBJECT_UNWRAP',\n\t'OBJECT_VALUES',\n\t'PAIRS',\n\t'PERCENT_RANK',\n\t'PI',\n\t'POLY_LENGTH',\n\t'POSINFIF',\n\t'POSITION',\n\t'POWER',\n\t'RADIANS',\n\t'RANDOM',\n\t'RANK',\n\t'RATIO_TO_REPORT',\n\t'REGEXP_CONTAINS',\n\t'REGEXP_LIKE',\n\t'REGEXP_MATCHES',\n\t'REGEXP_POSITION',\n\t'REGEXP_REPLACE',\n\t'REGEXP_SPLIT',\n\t'REGEX_CONTAINS',\n\t'REGEX_LIKE',\n\t'REGEX_MATCHES',\n\t'REGEX_POSITION',\n\t'REGEX_REPLACE',\n\t'REGEX_SPLIT',\n\t'REPEAT',\n\t'REPLACE',\n\t'REVERSE',\n\t'ROUND',\n\t'ROW_NUMBER',\n\t'RTRIM',\n\t'SEARCH',\n\t'SEARCH_META',\n\t'SEARCH_SCORE',\n\t'SIGN',\n\t'SIN',\n\t'SPLIT',\n\t'SQRT',\n\t'STDDEV',\n\t'STDDEV_POP',\n\t'STDDEV_SAMP',\n\t'STR_TO_DURATION',\n\t'STR_TO_MILLIS',\n\t'STR_TO_TZ',\n\t'STR_TO_UTC',\n\t'STR_TO_ZONE_NAME',\n\t'SUBSTR',\n\t'SUFFIXES',\n\t'SUM',\n\t'TAN',\n\t'TITLE',\n\t'TOARRAY',\n\t'TOATOM',\n\t'TOBOOLEAN',\n\t'TOKENS',\n\t'TOKENS',\n\t'TONUMBER',\n\t'TOOBJECT',\n\t'TOSTRING',\n\t'TRIM',\n\t'TRUNC',\n\t// 'TYPE', // disabled\n\t'UPPER',\n\t'UUID',\n\t'VARIANCE',\n\t'VARIANCE_POP',\n\t'VARIANCE_SAMP',\n\t'VAR_POP',\n\t'VAR_SAMP',\n\t'WEEKDAY_MILLIS',\n\t'WEEKDAY_STR',\n];\n\n/**\n * Priority 5 (last)\n * Full list of reserved words\n * any words that are in a higher priority are removed\n */\n// https://docs.couchbase.com/server/current/n1ql/n1ql-language-reference/reservedwords.html\nconst reservedKeywords = [\n\t'ALL',\n\t'ALTER',\n\t'ANALYZE',\n\t'ANY',\n\t'ARRAY',\n\t'AS',\n\t'ASC',\n\t'AT',\n\t'BEGIN',\n\t'BETWEEN',\n\t'BINARY',\n\t'BOOLEAN',\n\t'BREAK',\n\t'BUCKET',\n\t'BUILD',\n\t'BY',\n\t'CALL',\n\t'CAST',\n\t'CHAR', // verify\n\t'CLUSTER',\n\t'COLLATE',\n\t'COLLECTION',\n\t'COMMIT',\n\t'COMMITTED',\n\t'CONNECT',\n\t'CONTINUE',\n\t'CORRELATE',\n\t'CORRELATED',\n\t'COVER',\n\t'CREATE',\n\t'CURRENT',\n\t'DATABASE',\n\t'DATASET',\n\t'DATASTORE',\n\t'DECLARE',\n\t'DECREMENT',\n\t'DERIVED',\n\t'DESC',\n\t'DESCRIBE',\n\t'DISTINCT',\n\t'DO',\n\t'DROP',\n\t'EACH',\n\t'ELEMENT',\n\t'EVERY',\n\t'EXCLUDE',\n\t'EXISTS',\n\t'FALSE',\n\t'FETCH',\n\t'FILTER',\n\t'FIRST',\n\t'FLATTEN',\n\t'FLUSH',\n\t'FOLLOWING',\n\t'FOR',\n\t'FORCE',\n\t'FTS',\n\t'FUNCTION',\n\t'GOLANG',\n\t'GROUP',\n\t'GROUPS',\n\t'GSI',\n\t'HASH',\n\t'IF',\n\t'IGNORE',\n\t'ILIKE',\n\t'IN',\n\t'INCLUDE',\n\t'INCREMENT',\n\t'INDEX',\n\t'INLINE',\n\t'INNER',\n\t'INTO',\n\t'IS',\n\t'ISOLATION',\n\t'JAVASCRIPT',\n\t'KEY',\n\t'KEYS',\n\t'KEYSPACE',\n\t'KNOWN',\n\t'LANGUAGE',\n\t'LAST',\n\t'LEFT',\n\t'LETTING',\n\t'LEVEL',\n\t'LIKE',\n\t'LSM',\n\t'MAP',\n\t'MAPPING',\n\t'MATCHED',\n\t'MATERIALIZED',\n\t'MISSING',\n\t'NAMESPACE',\n\t'NL',\n\t'NO',\n\t'NOT',\n\t'NULL',\n\t'NULLS',\n\t'NUMBER',\n\t'OBJECT',\n\t'OFFSET',\n\t'OPTION',\n\t'OPTIONS',\n\t'ORDER',\n\t'OTHERS',\n\t'OUTER',\n\t'OVER',\n\t'PARSE',\n\t'PARTITION',\n\t'PASSWORD',\n\t'PATH',\n\t'POOL',\n\t'PRECEDING',\n\t'PRIMARY',\n\t'PRIVATE',\n\t'PRIVILEGE',\n\t'PROBE',\n\t'PROCEDURE',\n\t'PUBLIC',\n\t'RANGE',\n\t'RAW',\n\t'REALM',\n\t'REDUCE',\n\t'RENAME',\n\t'RESPECT',\n\t'RETURN',\n\t'RETURNING',\n\t'RIGHT',\n\t'ROLE',\n\t'ROLLBACK',\n\t'ROW',\n\t'ROWS',\n\t'SATISFIES',\n\t'SCHEMA',\n\t'SCOPE',\n\t'SELF',\n\t'SEMI',\n\t'SOME',\n\t'START',\n\t'STATISTICS',\n\t'STRING',\n\t'SYSTEM',\n\t'TIES',\n\t'TO',\n\t'TRAN',\n\t'TRANSACTION',\n\t'TRIGGER',\n\t'TRUE',\n\t'TRUNCATE',\n\t'UNBOUNDED',\n\t'UNDER',\n\t'UNIQUE',\n\t'UNKNOWN',\n\t'UNSET',\n\t'USE',\n\t'USER',\n\t'USING',\n\t'VALIDATE',\n\t'VALUE',\n\t'VALUED',\n\t'VIA',\n\t'VIEW',\n\t'WHILE',\n\t'WINDOW',\n\t'WITHIN',\n\t'WORK',\n];\n\n/**\n * Priority 1 (first)\n * keywords that begin a new statement\n * will begin new indented block\n */\n// https://docs.couchbase.com/server/current/n1ql/n1ql-language-reference/reservedwords.html\nconst reservedCommands = [\n\t'ADVISE',\n\t'ALTER INDEX',\n\t'BEGIN TRANSACTION',\n\t'BUILD INDEX',\n\t'COMMIT TRANSACTION',\n\t'CREATE COLLECTION',\n\t'CREATE FUNCTION',\n\t'CREATE INDEX',\n\t'CREATE PRIMARY INDEX',\n\t'CREATE SCOPE',\n\t'CREATE TABLE', // verify\n\t'DELETE',\n\t'DROP COLLECTION',\n\t'DROP FUNCTION',\n\t'DROP INDEX',\n\t'DROP PRIMARY INDEX',\n\t'DROP SCOPE',\n\t'EXECUTE',\n\t'EXECUTE FUNCTION',\n\t'EXPLAIN',\n\t'GRANT',\n\t'INFER',\n\t'INSERT',\n\t'MERGE',\n\t'PREPARE',\n\t'REVOKE',\n\t'ROLLBACK TRANSACTION',\n\t'SAVEPOINT',\n\t'SELECT',\n\t'SET TRANSACTION',\n\t'UPDATE',\n\t'UPDATE STATISTICS',\n\t'UPSERT',\n\t// other\n\t'DROP TABLE', // verify,\n\t'FROM',\n\t'GROUP BY',\n\t'HAVING',\n\t'INSERT INTO',\n\t'LET',\n\t'LIMIT',\n\t'OFFSET',\n\t'NEST',\n\t'ORDER BY',\n\t'SET CURRENT SCHEMA',\n\t'SET SCHEMA',\n\t'SET',\n\t'SHOW',\n\t'UNNEST',\n\t'USE KEYS',\n\t'VALUES',\n\t'WHERE',\n\t'WITH',\n];\n\n/**\n * Priority 2\n * commands that operate on two tables or subqueries\n * two main categories: joins and boolean set operators\n */\nconst reservedBinaryCommands = [\n\t// set booleans\n\t'INTERSECT',\n\t'INTERSECT ALL',\n\t'INTERSECT DISTINCT',\n\t'UNION',\n\t'UNION ALL',\n\t'UNION DISTINCT',\n\t'EXCEPT',\n\t'EXCEPT ALL',\n\t'EXCEPT DISTINCT',\n\t'MINUS',\n\t'MINUS ALL',\n\t'MINUS DISTINCT',\n\t// joins\n\t'JOIN',\n\t'INNER JOIN',\n\t'LEFT JOIN',\n\t'LEFT OUTER JOIN',\n\t'RIGHT JOIN',\n\t'RIGHT OUTER JOIN',\n];\n\n/**\n * Priority 3\n * keywords that follow a previous Statement, must be attached to subsequent data\n * can be fully inline or on newline with optional indent\n */\nconst reservedDependentClauses = ['ON', 'WHEN', 'THEN', 'ELSE'];\n\n// For reference: http://docs.couchbase.com.s3-website-us-west-1.amazonaws.com/server/6.0/n1ql/n1ql-language-reference/index.html\nexport default class N1qlFormatter extends Formatter {\n\tstatic reservedCommands = reservedCommands;\n\tstatic reservedBinaryCommands = reservedBinaryCommands;\n\tstatic reservedDependentClauses = reservedDependentClauses;\n\tstatic reservedLogicalOperators = ['AND', 'OR', 'XOR'];\n\tstatic reservedKeywords = dedupe([...reservedKeywords, ...reservedFunctions]);\n\tstatic stringTypes: StringPatternType[] = [`\"\"`, \"''\", '``'];\n\tstatic blockStart = ['(', '[', '{', 'CASE'];\n\tstatic blockEnd = [')', ']', '}', 'END'];\n\tstatic namedPlaceholderTypes = ['$'];\n\tstatic lineCommentTypes = ['#', '--'];\n\tstatic operators = ['=='];\n\n\ttokenizer() {\n\t\treturn new Tokenizer({\n\t\t\treservedCommands: N1qlFormatter.reservedCommands,\n\t\t\treservedBinaryCommands: N1qlFormatter.reservedBinaryCommands,\n\t\t\treservedDependentClauses: N1qlFormatter.reservedDependentClauses,\n\t\t\treservedLogicalOperators: N1qlFormatter.reservedLogicalOperators,\n\t\t\treservedKeywords: N1qlFormatter.reservedKeywords,\n\t\t\tstringTypes: N1qlFormatter.stringTypes,\n\t\t\tblockStart: N1qlFormatter.blockStart,\n\t\t\tblockEnd: N1qlFormatter.blockEnd,\n\t\t\tnamedPlaceholderTypes: N1qlFormatter.namedPlaceholderTypes,\n\t\t\tlineCommentTypes: N1qlFormatter.lineCommentTypes,\n\t\t\toperators: N1qlFormatter.operators,\n\t\t});\n\t}\n}\n","import Formatter from '../core/Formatter';\nimport Tokenizer from '../core/Tokenizer';\nimport { isToken, Token, TokenType } from '../core/token'; // convert to partial type import in TS 4.5\nimport type { StringPatternType } from '../core/regexFactory';\nimport { dedupe } from '../utils';\n\n/**\n * Priority 5 (last)\n * Full list of reserved words\n * any words that are in a higher priority are removed\n */\nconst reservedKeywords = [\n\t// 'A',\n\t'ACCESSIBLE',\n\t'AGENT',\n\t'AGGREGATE',\n\t'ALL',\n\t'ALTER',\n\t'ANY',\n\t'ARRAY',\n\t'AS',\n\t'ASC',\n\t'AT',\n\t'ATTRIBUTE',\n\t'AUTHID',\n\t'AVG',\n\t'BETWEEN',\n\t'BFILE_BASE',\n\t'BINARY',\n\t'BINARY_INTEGER',\n\t'BLOB_BASE',\n\t'BLOCK',\n\t'BODY',\n\t'BOOLEAN',\n\t'BOTH',\n\t'BOUND',\n\t'BREADTH',\n\t'BULK',\n\t'BY',\n\t'BYTE',\n\t// 'C',\n\t'CALL',\n\t'CALLING',\n\t'CASCADE',\n\t'CAST',\n\t'CHAR',\n\t'CHARACTER',\n\t'CHARSET',\n\t'CHARSETFORM',\n\t'CHARSETID',\n\t'CHAR_BASE',\n\t'CHECK',\n\t'CLOB_BASE',\n\t'CLONE',\n\t'CLOSE',\n\t'CLUSTER',\n\t'CLUSTERS',\n\t'COALESCE',\n\t'COLAUTH',\n\t'COLLECT',\n\t'COLUMNS',\n\t'COMMENT',\n\t'COMMIT',\n\t'COMMITTED',\n\t'COMPILED',\n\t'COMPRESS',\n\t'CONNECT',\n\t'CONSTANT',\n\t'CONSTRUCTOR',\n\t'CONTEXT',\n\t'CONTINUE',\n\t'CONVERT',\n\t'COUNT',\n\t'CRASH',\n\t'CREATE',\n\t'CREDENTIAL',\n\t'CURRENT',\n\t'CURRVAL',\n\t'CURSOR',\n\t'CUSTOMDATUM',\n\t'DANGLING',\n\t'DATA',\n\t'DATE',\n\t'DATE_BASE',\n\t'DAY',\n\t'DECIMAL',\n\t'DEFAULT',\n\t'DEFINE',\n\t'DEPTH',\n\t'DESC',\n\t'DETERMINISTIC',\n\t'DIRECTORY',\n\t'DISTINCT',\n\t'DO',\n\t'DOUBLE',\n\t'DROP',\n\t'DURATION',\n\t'ELEMENT',\n\t'ELSIF',\n\t'EMPTY',\n\t'ESCAPE',\n\t'EXCEPTIONS',\n\t'EXCLUSIVE',\n\t'EXECUTE',\n\t'EXISTS',\n\t'EXIT',\n\t'EXTENDS',\n\t'EXTERNAL',\n\t'EXTRACT',\n\t'FALSE',\n\t'FETCH',\n\t'FINAL',\n\t'FIRST',\n\t'FIXED',\n\t'FLOAT',\n\t'FOR',\n\t'FORALL',\n\t'FORCE',\n\t'FUNCTION',\n\t'GENERAL',\n\t'GOTO',\n\t'GRANT',\n\t'GROUP',\n\t'HASH',\n\t'HEAP',\n\t'HIDDEN',\n\t'HOUR',\n\t'IDENTIFIED',\n\t'IF',\n\t'IMMEDIATE',\n\t'IN',\n\t'INCLUDING',\n\t'INDEX',\n\t'INDEXES',\n\t'INDICATOR',\n\t'INDICES',\n\t'INFINITE',\n\t'INSTANTIABLE',\n\t'INT',\n\t'INTEGER',\n\t'INTERFACE',\n\t'INTERVAL',\n\t'INTO',\n\t'INVALIDATE',\n\t'IS',\n\t'ISOLATION',\n\t'JAVA',\n\t'LANGUAGE',\n\t'LARGE',\n\t'LEADING',\n\t'LENGTH',\n\t'LEVEL',\n\t'LIBRARY',\n\t'LIKE',\n\t'LIKE2',\n\t'LIKE4',\n\t'LIKEC',\n\t'LIMITED',\n\t'LOCAL',\n\t'LOCK',\n\t'LONG',\n\t'MAP',\n\t'MAX',\n\t'MAXLEN',\n\t'MEMBER',\n\t'MERGE',\n\t'MIN',\n\t'MINUTE',\n\t'MLSLABEL',\n\t'MOD',\n\t'MODE',\n\t'MONTH',\n\t'MULTISET',\n\t'NAME',\n\t'NAN',\n\t'NATIONAL',\n\t'NATIVE',\n\t'NATURAL',\n\t'NATURALN',\n\t'NCHAR',\n\t'NEW',\n\t'NEXTVAL',\n\t'NOCOMPRESS',\n\t'NOCOPY',\n\t'NOT',\n\t'NOWAIT',\n\t'NULL',\n\t'NULLIF',\n\t'NUMBER',\n\t'NUMBER_BASE',\n\t'OBJECT',\n\t'OCICOLL',\n\t'OCIDATE',\n\t'OCIDATETIME',\n\t'OCIDURATION',\n\t'OCIINTERVAL',\n\t'OCILOBLOCATOR',\n\t'OCINUMBER',\n\t'OCIRAW',\n\t'OCIREF',\n\t'OCIREFCURSOR',\n\t'OCIROWID',\n\t'OCISTRING',\n\t'OCITYPE',\n\t'OF',\n\t'OLD',\n\t'ONLY',\n\t'OPAQUE',\n\t'OPEN',\n\t'OPERATOR',\n\t'OPTION',\n\t'ORACLE',\n\t'ORADATA',\n\t'ORDER',\n\t'ORGANIZATION',\n\t'ORLANY',\n\t'ORLVARY',\n\t'OTHERS',\n\t'OUT',\n\t'OVERLAPS',\n\t'OVERRIDING',\n\t'PACKAGE',\n\t'PARALLEL_ENABLE',\n\t'PARAMETER',\n\t'PARAMETERS',\n\t'PARENT',\n\t'PARTITION',\n\t'PASCAL',\n\t'PCTFREE',\n\t'PIPE',\n\t'PIPELINED',\n\t'PLS_INTEGER',\n\t'PLUGGABLE',\n\t'POSITIVE',\n\t'POSITIVEN',\n\t'PRAGMA',\n\t'PRECISION',\n\t'PRIOR',\n\t'PRIVATE',\n\t'PROCEDURE',\n\t'PUBLIC',\n\t'RAISE',\n\t'RANGE',\n\t'RAW',\n\t'READ',\n\t'REAL',\n\t'RECORD',\n\t'REF',\n\t'REFERENCE',\n\t'RELEASE',\n\t'RELIES_ON',\n\t'REM',\n\t'REMAINDER',\n\t'RENAME',\n\t'RESOURCE',\n\t'RESULT',\n\t'RESULT_CACHE',\n\t'RETURN',\n\t'RETURNING',\n\t'REVERSE',\n\t'REVOKE',\n\t'ROLLBACK',\n\t'ROW',\n\t'ROWID',\n\t'ROWNUM',\n\t'ROWTYPE',\n\t'SAMPLE',\n\t'SAVE',\n\t'SAVEPOINT',\n\t'SB1',\n\t'SB2',\n\t'SB4',\n\t'SEARCH',\n\t'SECOND',\n\t'SEGMENT',\n\t'SELF',\n\t'SEPARATE',\n\t'SEQUENCE',\n\t'SERIALIZABLE',\n\t'SHARE',\n\t'SHORT',\n\t'SIZE',\n\t'SIZE_T',\n\t'SMALLINT',\n\t'SOME',\n\t'SPACE',\n\t'SPARSE',\n\t'SQL',\n\t'SQLCODE',\n\t'SQLDATA',\n\t'SQLERRM',\n\t'SQLNAME',\n\t'SQLSTATE',\n\t'STANDARD',\n\t'START',\n\t'STATIC',\n\t'STDDEV',\n\t'STORED',\n\t'STRING',\n\t'STRUCT',\n\t'STYLE',\n\t'SUBMULTISET',\n\t'SUBPARTITION',\n\t'SUBSTITUTABLE',\n\t'SUBTYPE',\n\t'SUCCESSFUL',\n\t'SUM',\n\t'SYNONYM',\n\t'SYSDATE',\n\t'TABAUTH',\n\t'TABLE',\n\t'TDO',\n\t'THE',\n\t'TIME',\n\t'TIMESTAMP',\n\t'TIMEZONE_ABBR',\n\t'TIMEZONE_HOUR',\n\t'TIMEZONE_MINUTE',\n\t'TIMEZONE_REGION',\n\t'TO',\n\t'TRAILING',\n\t'TRANSACTION',\n\t'TRANSACTIONAL',\n\t'TRIGGER',\n\t'TRUE',\n\t'TRUSTED',\n\t'TYPE',\n\t'UB1',\n\t'UB2',\n\t'UB4',\n\t'UID',\n\t'UNDER',\n\t'UNIQUE',\n\t'UNPLUG',\n\t'UNSIGNED',\n\t'UNTRUSTED',\n\t'USE',\n\t'USER',\n\t'USING',\n\t'VALIDATE',\n\t'VALIST',\n\t'VALUE',\n\t'VARCHAR',\n\t'VARCHAR2',\n\t'VARIABLE',\n\t'VARIANCE',\n\t'VARRAY',\n\t'VARYING',\n\t'VIEW',\n\t'VIEWS',\n\t'VOID',\n\t'WHENEVER',\n\t'WHILE',\n\t'WORK',\n\t'WRAPPED',\n\t'WRITE',\n\t'YEAR',\n\t'ZONE',\n];\n\n/**\n * Priority 1 (first)\n * keywords that begin a new statement\n * will begin new indented block\n */\nconst reservedCommands = [\n\t'ADD',\n\t'ALTER COLUMN',\n\t'ALTER TABLE',\n\t'BEGIN',\n\t'CONNECT BY',\n\t'CREATE TABLE', // verify\n\t'DROP TABLE', // verify\n\t'DECLARE',\n\t// 'DELETE FROM', // disabled\n\t'DELETE',\n\t'END',\n\t'EXCEPT',\n\t'EXCEPTION',\n\t'FETCH FIRST',\n\t'FROM',\n\t'GROUP BY',\n\t'HAVING',\n\t'INSERT INTO',\n\t'INSERT',\n\t'LIMIT',\n\t'OFFSET',\n\t'LOOP',\n\t'MODIFY',\n\t'ORDER BY',\n\t'SELECT',\n\t'SET CURRENT SCHEMA',\n\t'SET SCHEMA',\n\t'SET',\n\t'START WITH',\n\t'UPDATE',\n\t'VALUES',\n\t'WHERE',\n\t'WITH',\n];\n\n/**\n * Priority 2\n * commands that operate on two tables or subqueries\n * two main categories: joins and boolean set operators\n */\nconst reservedBinaryCommands = [\n\t// set booleans\n\t'INTERSECT',\n\t'INTERSECT ALL',\n\t'INTERSECT DISTINCT',\n\t'UNION',\n\t'UNION ALL',\n\t'UNION DISTINCT',\n\t'EXCEPT',\n\t'EXCEPT ALL',\n\t'EXCEPT DISTINCT',\n\t'MINUS',\n\t'MINUS ALL',\n\t'MINUS DISTINCT',\n\t// joins\n\t'JOIN',\n\t'INNER JOIN',\n\t'LEFT JOIN',\n\t'LEFT OUTER JOIN',\n\t'RIGHT JOIN',\n\t'RIGHT OUTER JOIN',\n\t'FULL JOIN',\n\t'FULL OUTER JOIN',\n\t'CROSS JOIN',\n\t'NATURAL JOIN',\n\t// apply\n\t'CROSS APPLY',\n\t'OUTER APPLY',\n];\n\n/**\n * Priority 3\n * keywords that follow a previous Statement, must be attached to subsequent data\n * can be fully inline or on newline with optional indent\n */\nconst reservedDependentClauses = ['ON', 'WHEN', 'THEN', 'ELSE'];\n\nexport default class PlSqlFormatter extends Formatter {\n\tstatic reservedCommands = reservedCommands;\n\tstatic reservedBinaryCommands = reservedBinaryCommands;\n\tstatic reservedDependentClauses = reservedDependentClauses;\n\tstatic reservedLogicalOperators = ['AND', 'OR', 'XOR'];\n\tstatic reservedKeywords = dedupe(reservedKeywords);\n\tstatic stringTypes: StringPatternType[] = [`\"\"`, \"N''\", \"''\", '``'];\n\tstatic blockStart = ['(', 'CASE'];\n\tstatic blockEnd = [')', 'END'];\n\tstatic indexedPlaceholderTypes = ['?'];\n\tstatic namedPlaceholderTypes = [':'];\n\tstatic lineCommentTypes = ['--'];\n\tstatic specialWordChars = { any: '_$#.@' };\n\tstatic operators = [\n\t\t'||',\n\t\t'**',\n\t\t':=',\n\t\t'~=',\n\t\t'^=',\n\t\t'>>',\n\t\t'<<',\n\t\t'=>',\n\t\t//  '..' // breaks operator test, handled by .\n\t];\n\n\ttokenizer() {\n\t\treturn new Tokenizer({\n\t\t\treservedCommands: PlSqlFormatter.reservedCommands,\n\t\t\treservedBinaryCommands: PlSqlFormatter.reservedBinaryCommands,\n\t\t\treservedDependentClauses: PlSqlFormatter.reservedDependentClauses,\n\t\t\treservedLogicalOperators: PlSqlFormatter.reservedLogicalOperators,\n\t\t\treservedKeywords: PlSqlFormatter.reservedKeywords,\n\t\t\tstringTypes: PlSqlFormatter.stringTypes,\n\t\t\tblockStart: PlSqlFormatter.blockStart,\n\t\t\tblockEnd: PlSqlFormatter.blockEnd,\n\t\t\tindexedPlaceholderTypes: PlSqlFormatter.indexedPlaceholderTypes,\n\t\t\tnamedPlaceholderTypes: PlSqlFormatter.namedPlaceholderTypes,\n\t\t\tlineCommentTypes: PlSqlFormatter.lineCommentTypes,\n\t\t\tspecialWordChars: PlSqlFormatter.specialWordChars,\n\t\t\toperators: PlSqlFormatter.operators,\n\t\t});\n\t}\n\n\ttokenOverride(token: Token) {\n\t\t// `table`[.]`column`\n\t\tif (\n\t\t\ttoken.value === '.' &&\n\t\t\tthis.tokenLookAhead()?.value.startsWith('`') &&\n\t\t\tthis.tokenLookBehind()?.value.endsWith('`')\n\t\t) {\n\t\t\t// This is an operator, do not insert spaces\n\t\t\treturn { type: TokenType.OPERATOR, value: token.value };\n\t\t}\n\n\t\t// BY [SET]\n\t\tif (isToken.SET(token) && isToken.BY(this.previousReservedToken)) {\n\t\t\treturn { type: TokenType.RESERVED_KEYWORD, value: token.value };\n\t\t}\n\n\t\t// [LATERAL] ( ...\n\t\tif (isToken.LATERAL(token) && this.tokenLookAhead()?.type === TokenType.BLOCK_START) {\n\t\t\t// This is a subquery, treat it like a join\n\t\t\treturn { type: TokenType.RESERVED_LOGICAL_OPERATOR, value: token.value };\n\t\t}\n\n\t\treturn token;\n\t}\n}\n","import Formatter from '../core/Formatter';\nimport Tokenizer from '../core/Tokenizer';\nimport { isToken, Token, TokenType } from '../core/token'; // convert to partial type import in TS 4.5\nimport type { StringPatternType } from '../core/regexFactory';\nimport { dedupe } from '../utils';\n\n/**\n * Priority 5 (last)\n * Full list of reserved functions\n * distinct from Keywords due to interaction with parentheses\n */\n// https://www.postgresql.org/docs/14/functions.html\nconst reservedFunctions = {\n\t// https://www.postgresql.org/docs/14/functions-math.html\n\tmath: [\n\t\t'ABS',\n\t\t'ACOS',\n\t\t'ACOSD',\n\t\t'ACOSH',\n\t\t'ASIN',\n\t\t'ASIND',\n\t\t'ASINH',\n\t\t'ATAN',\n\t\t'ATAN2',\n\t\t'ATAN2D',\n\t\t'ATAND',\n\t\t'ATANH',\n\t\t'CBRT',\n\t\t'CEIL',\n\t\t'CEILING',\n\t\t'COS',\n\t\t'COSD',\n\t\t'COSH',\n\t\t'COT',\n\t\t'COTD',\n\t\t'DEGREES',\n\t\t'DIV',\n\t\t'EXP',\n\t\t'FACTORIAL',\n\t\t'FLOOR',\n\t\t'GCD',\n\t\t'LCM',\n\t\t'LN',\n\t\t'LOG',\n\t\t'LOG10',\n\t\t'MIN_SCALE',\n\t\t'MOD',\n\t\t'PI',\n\t\t'POWER',\n\t\t'RADIANS',\n\t\t'RANDOM',\n\t\t'ROUND',\n\t\t'SCALE',\n\t\t'SETSEED',\n\t\t'SIGN',\n\t\t'SIN',\n\t\t'SIND',\n\t\t'SINH',\n\t\t'SQRT',\n\t\t'TAN',\n\t\t'TAND',\n\t\t'TANH',\n\t\t'TRIM_SCALE',\n\t\t'TRUNC',\n\t\t'WIDTH_BUCKET',\n\t],\n\t// https://www.postgresql.org/docs/14/functions-string.html\n\tstring: [\n\t\t'ABS',\n\t\t'ASCII',\n\t\t'BIT_LENGTH',\n\t\t'BTRIM',\n\t\t'CHARACTER_LENGTH',\n\t\t'CHAR_LENGTH',\n\t\t'CHR',\n\t\t'CONCAT',\n\t\t'CONCAT_WS',\n\t\t'FORMAT',\n\t\t'INITCAP',\n\t\t'LEFT',\n\t\t'LENGTH',\n\t\t'LOWER',\n\t\t'LPAD',\n\t\t'LTRIM',\n\t\t'MD5',\n\t\t'NORMALIZE',\n\t\t'OCTET_LENGTH',\n\t\t'OVERLAY',\n\t\t'PARSE_IDENT',\n\t\t'PG_CLIENT_ENCODING',\n\t\t'POSITION',\n\t\t'QUOTE_IDENT',\n\t\t'QUOTE_LITERAL',\n\t\t'QUOTE_NULLABLE',\n\t\t'REGEXP_MATCH',\n\t\t'REGEXP_MATCHES',\n\t\t'REGEXP_REPLACE',\n\t\t'REGEXP_SPLIT_TO_ARRAY',\n\t\t'REGEXP_SPLIT_TO_TABLE',\n\t\t'REPEAT',\n\t\t'REPLACE',\n\t\t'REVERSE',\n\t\t'RIGHT',\n\t\t'RPAD',\n\t\t'RTRIM',\n\t\t'SPLIT_PART',\n\t\t'SPRINTF',\n\t\t'STARTS_WITH',\n\t\t'STRING_AGG',\n\t\t'STRING_TO_ARRAY',\n\t\t'STRING_TO_TABLE',\n\t\t'STRPOS',\n\t\t'SUBSTR',\n\t\t'SUBSTRING',\n\t\t'TO_ASCII',\n\t\t'TO_HEX',\n\t\t'TRANSLATE',\n\t\t'TRIM',\n\t\t'UNISTR',\n\t\t'UPPER',\n\t],\n\t// https://www.postgresql.org/docs/14/functions-binarystring.html\n\tbinary: [\n\t\t'BIT_COUNT',\n\t\t'BIT_LENGTH',\n\t\t'BTRIM',\n\t\t'CONVERT',\n\t\t'CONVERT_FROM',\n\t\t'CONVERT_TO',\n\t\t'DECODE',\n\t\t'ENCODE',\n\t\t'GET_BIT',\n\t\t'GET_BYTE',\n\t\t'LENGTH',\n\t\t'LTRIM',\n\t\t'MD5',\n\t\t'OCTET_LENGTH',\n\t\t'OVERLAY',\n\t\t'POSITION',\n\t\t'RTRIM',\n\t\t'SET_BIT',\n\t\t'SET_BYTE',\n\t\t'SHA224',\n\t\t'SHA256',\n\t\t'SHA384',\n\t\t'SHA512',\n\t\t'STRING_AGG',\n\t\t'SUBSTR',\n\t\t'SUBSTRING',\n\t\t'TRIM',\n\t],\n\t// https://www.postgresql.org/docs/14/functions-bitstring.html\n\tbitstring: [\n\t\t'BIT_COUNT',\n\t\t'BIT_LENGTH',\n\t\t'GET_BIT',\n\t\t'LENGTH',\n\t\t'OCTET_LENGTH',\n\t\t'OVERLAY',\n\t\t'POSITION',\n\t\t'SET_BIT',\n\t\t'SUBSTRING',\n\t],\n\t// https://www.postgresql.org/docs/14/functions-matching.html\n\tpattern: [\n\t\t'REGEXP_MATCH',\n\t\t'REGEXP_MATCHES',\n\t\t'REGEXP_REPLACE',\n\t\t'REGEXP_SPLIT_TO_ARRAY',\n\t\t'REGEXP_SPLIT_TO_TABLE',\n\t],\n\t// https://www.postgresql.org/docs/14/functions-formatting.html\n\tdatatype: ['TO_CHAR', 'TO_DATE', 'TO_NUMBER', 'TO_TIMESTAMP'],\n\t// https://www.postgresql.org/docs/14/functions-datetime.html\n\tdatetime: [\n\t\t// 'AGE',\n\t\t'CLOCK_TIMESTAMP',\n\t\t'CURRENT_DATE',\n\t\t'CURRENT_TIME',\n\t\t'CURRENT_TIMESTAMP',\n\t\t'DATE_BIN',\n\t\t'DATE_PART',\n\t\t'DATE_TRUNC',\n\t\t'EXTRACT',\n\t\t'ISFINITE',\n\t\t'JUSTIFY_DAYS',\n\t\t'JUSTIFY_HOURS',\n\t\t'JUSTIFY_INTERVAL',\n\t\t'LOCALTIME',\n\t\t'LOCALTIMESTAMP',\n\t\t'MAKE_DATE',\n\t\t'MAKE_INTERVAL',\n\t\t'MAKE_TIME',\n\t\t'MAKE_TIMESTAMP',\n\t\t'MAKE_TIMESTAMPTZ',\n\t\t'NOW',\n\t\t'PG_SLEEP',\n\t\t'PG_SLEEP_FOR',\n\t\t'PG_SLEEP_UNTIL',\n\t\t'STATEMENT_TIMESTAMP',\n\t\t'TIMEOFDAY',\n\t\t'TO_TIMESTAMP',\n\t\t'TRANSACTION_TIMESTAMP',\n\t],\n\t// https://www.postgresql.org/docs/14/functions-enum.html\n\tenum: ['ENUM_FIRST', 'ENUM_LAST', 'ENUM_RANGE'],\n\t// https://www.postgresql.org/docs/14/functions-geometry.html\n\tgeometry: [\n\t\t'AREA',\n\t\t'BOUND_BOX',\n\t\t'BOX',\n\t\t'CENTER',\n\t\t'CIRCLE',\n\t\t'DIAGONAL',\n\t\t'DIAMETER',\n\t\t'HEIGHT',\n\t\t'ISCLOSED',\n\t\t'ISOPEN',\n\t\t'LENGTH',\n\t\t'LINE',\n\t\t'LSEG',\n\t\t'NPOINTS',\n\t\t'PATH',\n\t\t'PCLOSE',\n\t\t'POINT',\n\t\t'POLYGON',\n\t\t'POPEN',\n\t\t'RADIUS',\n\t\t'SLOPE',\n\t\t'WIDTH',\n\t],\n\t// https://www.postgresql.org/docs/14/functions-net.html\n\tnetwork: [\n\t\t'ABBREV',\n\t\t'BROADCAST',\n\t\t'FAMILY',\n\t\t'HOST',\n\t\t'HOSTMASK',\n\t\t'INET_MERGE',\n\t\t'INET_SAME_FAMILY',\n\t\t'MACADDR8_SET7BIT',\n\t\t'MASKLEN',\n\t\t'NETMASK',\n\t\t'NETWORK',\n\t\t'SET_MASKLEN',\n\t\t'TEXT',\n\t\t'TRUNC',\n\t],\n\t// https://www.postgresql.org/docs/14/functions-textsearch.html\n\ttextsearch: [\n\t\t'ARRAY_TO_TSVECTOR',\n\t\t'GET_CURRENT_TS_CONFIG',\n\t\t'JSONB_TO_TSVECTOR',\n\t\t'JSON_TO_TSVECTOR',\n\t\t'LENGTH',\n\t\t'NUMNODE',\n\t\t'PHRASETO_TSQUERY',\n\t\t'PLAINTO_TSQUERY',\n\t\t'QUERYTREE',\n\t\t'SETWEIGHT',\n\t\t'STRIP',\n\t\t'TO_TSQUERY',\n\t\t'TO_TSVECTOR',\n\t\t'TSQUERY_PHRASE',\n\t\t'TSVECTOR_TO_ARRAY',\n\t\t'TS_DEBUG',\n\t\t'TS_DELETE',\n\t\t'TS_FILTER',\n\t\t'TS_HEADLINE',\n\t\t'TS_LEXIZE',\n\t\t'TS_PARSE',\n\t\t'TS_RANK',\n\t\t'TS_RANK_CD',\n\t\t'TS_REWRITE',\n\t\t'TS_STAT',\n\t\t'TS_TOKEN_TYPE',\n\t\t'WEBSEARCH_TO_TSQUERY',\n\t],\n\t// https://www.postgresql.org/docs/14/functions-uuid.html\n\tuuid: ['UUID'],\n\t// https://www.postgresql.org/docs/14/functions-xml.html\n\txml: [\n\t\t'CURSOR_TO_XML',\n\t\t'CURSOR_TO_XMLSCHEMA',\n\t\t'DATABASE_TO_XML',\n\t\t'DATABASE_TO_XMLSCHEMA',\n\t\t'DATABASE_TO_XML_AND_XMLSCHEMA',\n\t\t'NEXTVAL',\n\t\t'QUERY_TO_XML',\n\t\t'QUERY_TO_XMLSCHEMA',\n\t\t'QUERY_TO_XML_AND_XMLSCHEMA',\n\t\t'SCHEMA_TO_XML',\n\t\t'SCHEMA_TO_XMLSCHEMA',\n\t\t'SCHEMA_TO_XML_AND_XMLSCHEMA',\n\t\t'STRING',\n\t\t'TABLE_TO_XML',\n\t\t'TABLE_TO_XMLSCHEMA',\n\t\t'TABLE_TO_XML_AND_XMLSCHEMA',\n\t\t'XMLAGG',\n\t\t'XMLCOMMENT',\n\t\t'XMLCONCAT',\n\t\t'XMLELEMENT',\n\t\t'XMLEXISTS',\n\t\t'XMLFOREST',\n\t\t'XMLPARSE',\n\t\t'XMLPI',\n\t\t'XMLROOT',\n\t\t'XMLSERIALIZE',\n\t\t'XMLTABLE',\n\t\t'XML_IS_WELL_FORMED',\n\t\t'XML_IS_WELL_FORMED_CONTENT',\n\t\t'XML_IS_WELL_FORMED_DOCUMENT',\n\t\t'XPATH',\n\t\t'XPATH_EXISTS',\n\t],\n\t// https://www.postgresql.org/docs/14/functions-json.html\n\tjson: [\n\t\t'ARRAY_TO_JSON',\n\t\t'JSONB_AGG',\n\t\t'JSONB_ARRAY_ELEMENTS',\n\t\t'JSONB_ARRAY_ELEMENTS_TEXT',\n\t\t'JSONB_ARRAY_LENGTH',\n\t\t'JSONB_BUILD_ARRAY',\n\t\t'JSONB_BUILD_OBJECT',\n\t\t'JSONB_EACH',\n\t\t'JSONB_EACH_TEXT',\n\t\t'JSONB_EXTRACT_PATH',\n\t\t'JSONB_EXTRACT_PATH_TEXT',\n\t\t'JSONB_INSERT',\n\t\t'JSONB_OBJECT',\n\t\t'JSONB_OBJECT_AGG',\n\t\t'JSONB_OBJECT_KEYS',\n\t\t'JSONB_PATH_EXISTS',\n\t\t'JSONB_PATH_EXISTS_TZ',\n\t\t'JSONB_PATH_MATCH',\n\t\t'JSONB_PATH_MATCH_TZ',\n\t\t'JSONB_PATH_QUERY',\n\t\t'JSONB_PATH_QUERY_ARRAY',\n\t\t'JSONB_PATH_QUERY_ARRAY_TZ',\n\t\t'JSONB_PATH_QUERY_FIRST',\n\t\t'JSONB_PATH_QUERY_FIRST_TZ',\n\t\t'JSONB_PATH_QUERY_TZ',\n\t\t'JSONB_POPULATE_RECORD',\n\t\t'JSONB_POPULATE_RECORDSET',\n\t\t'JSONB_PRETTY',\n\t\t'JSONB_SET',\n\t\t'JSONB_SET_LAX',\n\t\t'JSONB_STRIP_NULLS',\n\t\t'JSONB_TO_RECORD',\n\t\t'JSONB_TO_RECORDSET',\n\t\t'JSONB_TYPEOF',\n\t\t'JSON_AGG',\n\t\t'JSON_ARRAY_ELEMENTS',\n\t\t'JSON_ARRAY_ELEMENTS_TEXT',\n\t\t'JSON_ARRAY_LENGTH',\n\t\t'JSON_BUILD_ARRAY',\n\t\t'JSON_BUILD_OBJECT',\n\t\t'JSON_EACH',\n\t\t'JSON_EACH_TEXT',\n\t\t'JSON_EXTRACT_PATH',\n\t\t'JSON_EXTRACT_PATH_TEXT',\n\t\t'JSON_OBJECT',\n\t\t'JSON_OBJECT_AGG',\n\t\t'JSON_OBJECT_KEYS',\n\t\t'JSON_POPULATE_RECORD',\n\t\t'JSON_POPULATE_RECORDSET',\n\t\t'JSON_STRIP_NULLS',\n\t\t'JSON_TO_RECORD',\n\t\t'JSON_TO_RECORDSET',\n\t\t'JSON_TYPEOF',\n\t\t'ROW_TO_JSON',\n\t\t'TO_JSON',\n\t\t'TO_JSONB',\n\t\t'TO_TIMESTAMP',\n\t],\n\t// https://www.postgresql.org/docs/14/functions-sequence.html\n\tsequence: ['CURRVAL', 'LASTVAL', 'NEXTVAL', 'SETVAL'],\n\t// https://www.postgresql.org/docs/14/functions-conditional.html\n\tconditional: [\n\t\t// 'CASE',\n\t\t'COALESCE',\n\t\t'GREATEST',\n\t\t'LEAST',\n\t\t'NULLIF',\n\t],\n\t// https://www.postgresql.org/docs/14/functions-array.html\n\tarray: [\n\t\t'ARRAY_AGG',\n\t\t'ARRAY_APPEND',\n\t\t'ARRAY_CAT',\n\t\t'ARRAY_DIMS',\n\t\t'ARRAY_FILL',\n\t\t'ARRAY_LENGTH',\n\t\t'ARRAY_LOWER',\n\t\t'ARRAY_NDIMS',\n\t\t'ARRAY_POSITION',\n\t\t'ARRAY_POSITIONS',\n\t\t'ARRAY_PREPEND',\n\t\t'ARRAY_REMOVE',\n\t\t'ARRAY_REPLACE',\n\t\t'ARRAY_TO_STRING',\n\t\t'ARRAY_UPPER',\n\t\t'CARDINALITY',\n\t\t'STRING_TO_ARRAY',\n\t\t'TRIM_ARRAY',\n\t\t'UNNEST',\n\t],\n\t// https://www.postgresql.org/docs/14/functions-range.html\n\trange: [\n\t\t'ISEMPTY',\n\t\t'LOWER',\n\t\t'LOWER_INC',\n\t\t'LOWER_INF',\n\t\t'MULTIRANGE',\n\t\t'RANGE_MERGE',\n\t\t'UPPER',\n\t\t'UPPER_INC',\n\t\t'UPPER_INF',\n\t],\n\t// https://www.postgresql.org/docs/14/functions-aggregate.html\n\taggregate: [\n\t\t'ANY',\n\t\t'ARRAY_AGG',\n\t\t'AVG',\n\t\t'BIT_AND',\n\t\t'BIT_OR',\n\t\t'BIT_XOR',\n\t\t'BOOL_AND',\n\t\t'BOOL_OR',\n\t\t'COALESCE',\n\t\t'CORR',\n\t\t'COUNT',\n\t\t'COVAR_POP',\n\t\t'COVAR_SAMP',\n\t\t'CUME_DIST',\n\t\t'DENSE_RANK',\n\t\t'EVERY',\n\t\t'GROUPING',\n\t\t'JSONB_AGG',\n\t\t'JSONB_OBJECT_AGG',\n\t\t'JSON_AGG',\n\t\t'JSON_OBJECT_AGG',\n\t\t'MAX',\n\t\t'MIN',\n\t\t'MODE',\n\t\t'PERCENTILE_CONT',\n\t\t'PERCENTILE_DISC',\n\t\t'PERCENT_RANK',\n\t\t'RANGE_AGG',\n\t\t'RANGE_INTERSECT_AGG',\n\t\t'RANK',\n\t\t'REGR_AVGX',\n\t\t'REGR_AVGY',\n\t\t'REGR_COUNT',\n\t\t'REGR_INTERCEPT',\n\t\t'REGR_R2',\n\t\t'REGR_SLOPE',\n\t\t'REGR_SXX',\n\t\t'REGR_SXY',\n\t\t'REGR_SYY',\n\t\t'SOME',\n\t\t'STDDEV',\n\t\t'STDDEV_POP',\n\t\t'STDDEV_SAMP',\n\t\t'STRING_AGG',\n\t\t'SUM',\n\t\t'TO_JSON',\n\t\t'TO_JSONB',\n\t\t'VARIANCE',\n\t\t'VAR_POP',\n\t\t'VAR_SAMP',\n\t\t'XMLAGG',\n\t],\n\t// https://www.postgresql.org/docs/14/functions-window.html\n\twindow: [\n\t\t'CUME_DIST',\n\t\t'DENSE_RANK',\n\t\t'FIRST_VALUE',\n\t\t'LAG',\n\t\t'LAST_VALUE',\n\t\t'LEAD',\n\t\t'NTH_VALUE',\n\t\t'NTILE',\n\t\t'PERCENT_RANK',\n\t\t'RANK',\n\t\t'ROW_NUMBER',\n\t],\n\t// https://www.postgresql.org/docs/14/functions-srf.html\n\tset: ['GENERATE_SERIES', 'GENERATE_SUBSCRIPTS'],\n\t// https://www.postgresql.org/docs/14/functions-info.html\n\tsysInfo: [\n\t\t'ACLDEFAULT',\n\t\t'ACLEXPLODE',\n\t\t'COL_DESCRIPTION',\n\t\t'CURRENT_CATALOG',\n\t\t'CURRENT_DATABASE',\n\t\t'CURRENT_QUERY',\n\t\t'CURRENT_ROLE',\n\t\t'CURRENT_SCHEMA',\n\t\t'CURRENT_SCHEMAS',\n\t\t'CURRENT_USER',\n\t\t'FORMAT_TYPE',\n\t\t'HAS_ANY_COLUMN_PRIVILEGE',\n\t\t'HAS_COLUMN_PRIVILEGE',\n\t\t'HAS_DATABASE_PRIVILEGE',\n\t\t'HAS_FOREIGN_DATA_WRAPPER_PRIVILEGE',\n\t\t'HAS_FUNCTION_PRIVILEGE',\n\t\t'HAS_LANGUAGE_PRIVILEGE',\n\t\t'HAS_SCHEMA_PRIVILEGE',\n\t\t'HAS_SEQUENCE_PRIVILEGE',\n\t\t'HAS_SERVER_PRIVILEGE',\n\t\t'HAS_TABLESPACE_PRIVILEGE',\n\t\t'HAS_TABLE_PRIVILEGE',\n\t\t'HAS_TYPE_PRIVILEGE',\n\t\t'INET_CLIENT_ADDR',\n\t\t'INET_CLIENT_PORT',\n\t\t'INET_SERVER_ADDR',\n\t\t'INET_SERVER_PORT',\n\t\t'MAKEACLITEM',\n\t\t'OBJ_DESCRIPTION',\n\t\t'PG_BACKEND_PID',\n\t\t'PG_BLOCKING_PIDS',\n\t\t'PG_COLLATION_IS_VISIBLE',\n\t\t'PG_CONF_LOAD_TIME',\n\t\t'PG_CONTROL_CHECKPOINT',\n\t\t'PG_CONTROL_INIT',\n\t\t'PG_CONTROL_SYSTEM',\n\t\t'PG_CONVERSION_IS_VISIBLE',\n\t\t'PG_CURRENT_LOGFILE',\n\t\t'PG_CURRENT_SNAPSHOT',\n\t\t'PG_CURRENT_XACT_ID',\n\t\t'PG_CURRENT_XACT_ID_IF_ASSIGNED',\n\t\t'PG_DESCRIBE_OBJECT',\n\t\t'PG_FUNCTION_IS_VISIBLE',\n\t\t'PG_GET_CATALOG_FOREIGN_KEYS',\n\t\t'PG_GET_CONSTRAINTDEF',\n\t\t'PG_GET_EXPR',\n\t\t'PG_GET_FUNCTIONDEF',\n\t\t'PG_GET_FUNCTION_ARGUMENTS',\n\t\t'PG_GET_FUNCTION_IDENTITY_ARGUMENTS',\n\t\t'PG_GET_FUNCTION_RESULT',\n\t\t'PG_GET_INDEXDEF',\n\t\t'PG_GET_KEYWORDS',\n\t\t'PG_GET_OBJECT_ADDRESS',\n\t\t'PG_GET_OWNED_SEQUENCE',\n\t\t'PG_GET_RULEDEF',\n\t\t'PG_GET_SERIAL_SEQUENCE',\n\t\t'PG_GET_STATISTICSOBJDEF',\n\t\t'PG_GET_TRIGGERDEF',\n\t\t'PG_GET_USERBYID',\n\t\t'PG_GET_VIEWDEF',\n\t\t'PG_HAS_ROLE',\n\t\t'PG_IDENTIFY_OBJECT',\n\t\t'PG_IDENTIFY_OBJECT_AS_ADDRESS',\n\t\t'PG_INDEXAM_HAS_PROPERTY',\n\t\t'PG_INDEX_COLUMN_HAS_PROPERTY',\n\t\t'PG_INDEX_HAS_PROPERTY',\n\t\t'PG_IS_OTHER_TEMP_SCHEMA',\n\t\t'PG_JIT_AVAILABLE',\n\t\t'PG_LAST_COMMITTED_XACT',\n\t\t'PG_LISTENING_CHANNELS',\n\t\t'PG_MY_TEMP_SCHEMA',\n\t\t'PG_NOTIFICATION_QUEUE_USAGE',\n\t\t'PG_OPCLASS_IS_VISIBLE',\n\t\t'PG_OPERATOR_IS_VISIBLE',\n\t\t'PG_OPFAMILY_IS_VISIBLE',\n\t\t'PG_OPTIONS_TO_TABLE',\n\t\t'PG_POSTMASTER_START_TIME',\n\t\t'PG_SAFE_SNAPSHOT_BLOCKING_PIDS',\n\t\t'PG_SNAPSHOT_XIP',\n\t\t'PG_SNAPSHOT_XMAX',\n\t\t'PG_SNAPSHOT_XMIN',\n\t\t'PG_STATISTICS_OBJ_IS_VISIBLE',\n\t\t'PG_TABLESPACE_DATABASES',\n\t\t'PG_TABLESPACE_LOCATION',\n\t\t'PG_TABLE_IS_VISIBLE',\n\t\t'PG_TRIGGER_DEPTH',\n\t\t'PG_TS_CONFIG_IS_VISIBLE',\n\t\t'PG_TS_DICT_IS_VISIBLE',\n\t\t'PG_TS_PARSER_IS_VISIBLE',\n\t\t'PG_TS_TEMPLATE_IS_VISIBLE',\n\t\t'PG_TYPEOF',\n\t\t'PG_TYPE_IS_VISIBLE',\n\t\t'PG_VISIBLE_IN_SNAPSHOT',\n\t\t'PG_XACT_COMMIT_TIMESTAMP',\n\t\t'PG_XACT_COMMIT_TIMESTAMP_ORIGIN',\n\t\t'PG_XACT_STATUS',\n\t\t'PQSERVERVERSION',\n\t\t'ROW_SECURITY_ACTIVE',\n\t\t'SESSION_USER',\n\t\t'SHOBJ_DESCRIPTION',\n\t\t'TO_REGCLASS',\n\t\t'TO_REGCOLLATION',\n\t\t'TO_REGNAMESPACE',\n\t\t'TO_REGOPER',\n\t\t'TO_REGOPERATOR',\n\t\t'TO_REGPROC',\n\t\t'TO_REGPROCEDURE',\n\t\t'TO_REGROLE',\n\t\t'TO_REGTYPE',\n\t\t'TXID_CURRENT',\n\t\t'TXID_CURRENT_IF_ASSIGNED',\n\t\t'TXID_CURRENT_SNAPSHOT',\n\t\t'TXID_SNAPSHOT_XIP',\n\t\t'TXID_SNAPSHOT_XMAX',\n\t\t'TXID_SNAPSHOT_XMIN',\n\t\t'TXID_STATUS',\n\t\t'TXID_VISIBLE_IN_SNAPSHOT',\n\t\t'USER',\n\t\t'VERSION',\n\t],\n\t// https://www.postgresql.org/docs/14/functions-admin.html\n\tsysAdmin: [\n\t\t'BRIN_DESUMMARIZE_RANGE',\n\t\t'BRIN_SUMMARIZE_NEW_VALUES',\n\t\t'BRIN_SUMMARIZE_RANGE',\n\t\t'CONVERT_FROM',\n\t\t'CURRENT_SETTING',\n\t\t'GIN_CLEAN_PENDING_LIST',\n\t\t'PG_ADVISORY_LOCK',\n\t\t'PG_ADVISORY_LOCK_SHARED',\n\t\t'PG_ADVISORY_UNLOCK',\n\t\t'PG_ADVISORY_UNLOCK_ALL',\n\t\t'PG_ADVISORY_UNLOCK_SHARED',\n\t\t'PG_ADVISORY_XACT_LOCK',\n\t\t'PG_ADVISORY_XACT_LOCK_SHARED',\n\t\t'PG_BACKUP_START_TIME',\n\t\t'PG_CANCEL_BACKEND',\n\t\t'PG_COLLATION_ACTUAL_VERSION',\n\t\t'PG_COLUMN_COMPRESSION',\n\t\t'PG_COLUMN_SIZE',\n\t\t'PG_COPY_LOGICAL_REPLICATION_SLOT',\n\t\t'PG_COPY_PHYSICAL_REPLICATION_SLOT',\n\t\t'PG_CREATE_LOGICAL_REPLICATION_SLOT',\n\t\t'PG_CREATE_PHYSICAL_REPLICATION_SLOT',\n\t\t'PG_CREATE_RESTORE_POINT',\n\t\t'PG_CURRENT_WAL_FLUSH_LSN',\n\t\t'PG_CURRENT_WAL_INSERT_LSN',\n\t\t'PG_CURRENT_WAL_LSN',\n\t\t'PG_DATABASE_SIZE',\n\t\t'PG_DROP_REPLICATION_SLOT',\n\t\t'PG_EXPORT_SNAPSHOT',\n\t\t'PG_FILENODE_RELATION',\n\t\t'PG_GET_WAL_REPLAY_PAUSE_STATE',\n\t\t'PG_IMPORT_SYSTEM_COLLATIONS',\n\t\t'PG_INDEXES_SIZE',\n\t\t'PG_IS_IN_BACKUP',\n\t\t'PG_IS_IN_RECOVERY',\n\t\t'PG_IS_WAL_REPLAY_PAUSED',\n\t\t'PG_LAST_WAL_RECEIVE_LSN',\n\t\t'PG_LAST_WAL_REPLAY_LSN',\n\t\t'PG_LAST_XACT_REPLAY_TIMESTAMP',\n\t\t'PG_LOGICAL_EMIT_MESSAGE',\n\t\t'PG_LOGICAL_SLOT_GET_BINARY_CHANGES',\n\t\t'PG_LOGICAL_SLOT_GET_CHANGES',\n\t\t'PG_LOGICAL_SLOT_PEEK_BINARY_CHANGES',\n\t\t'PG_LOGICAL_SLOT_PEEK_CHANGES',\n\t\t'PG_LOG_BACKEND_MEMORY_CONTEXTS',\n\t\t'PG_LS_ARCHIVE_STATUSDIR',\n\t\t'PG_LS_DIR',\n\t\t'PG_LS_LOGDIR',\n\t\t'PG_LS_TMPDIR',\n\t\t'PG_LS_WALDIR',\n\t\t'PG_PARTITION_ANCESTORS',\n\t\t'PG_PARTITION_ROOT',\n\t\t'PG_PARTITION_TREE',\n\t\t'PG_PROMOTE',\n\t\t'PG_READ_BINARY_FILE',\n\t\t'PG_READ_FILE',\n\t\t'PG_RELATION_FILENODE',\n\t\t'PG_RELATION_FILEPATH',\n\t\t'PG_RELATION_SIZE',\n\t\t'PG_RELOAD_CONF',\n\t\t'PG_REPLICATION_ORIGIN_ADVANCE',\n\t\t'PG_REPLICATION_ORIGIN_CREATE',\n\t\t'PG_REPLICATION_ORIGIN_DROP',\n\t\t'PG_REPLICATION_ORIGIN_OID',\n\t\t'PG_REPLICATION_ORIGIN_PROGRESS',\n\t\t'PG_REPLICATION_ORIGIN_SESSION_IS_SETUP',\n\t\t'PG_REPLICATION_ORIGIN_SESSION_PROGRESS',\n\t\t'PG_REPLICATION_ORIGIN_SESSION_RESET',\n\t\t'PG_REPLICATION_ORIGIN_SESSION_SETUP',\n\t\t'PG_REPLICATION_ORIGIN_XACT_RESET',\n\t\t'PG_REPLICATION_ORIGIN_XACT_SETUP',\n\t\t'PG_REPLICATION_SLOT_ADVANCE',\n\t\t'PG_ROTATE_LOGFILE',\n\t\t'PG_SIZE_BYTES',\n\t\t'PG_SIZE_PRETTY',\n\t\t'PG_START_BACKUP',\n\t\t'PG_STAT_FILE',\n\t\t'PG_STOP_BACKUP',\n\t\t'PG_SWITCH_WAL',\n\t\t'PG_TABLESPACE_SIZE',\n\t\t'PG_TABLE_SIZE',\n\t\t'PG_TERMINATE_BACKEND',\n\t\t'PG_TOTAL_RELATION_SIZE',\n\t\t'PG_TRY_ADVISORY_LOCK',\n\t\t'PG_TRY_ADVISORY_LOCK_SHARED',\n\t\t'PG_TRY_ADVISORY_XACT_LOCK',\n\t\t'PG_TRY_ADVISORY_XACT_LOCK_SHARED',\n\t\t'PG_WALFILE_NAME',\n\t\t'PG_WALFILE_NAME_OFFSET',\n\t\t'PG_WAL_LSN_DIFF',\n\t\t'PG_WAL_REPLAY_PAUSE',\n\t\t'PG_WAL_REPLAY_RESUME',\n\t\t'SET_CONFIG',\n\t],\n\t// https://www.postgresql.org/docs/14/functions-trigger.html\n\ttrigger: [\n\t\t'SUPPRESS_REDUNDANT_UPDATES_TRIGGER',\n\t\t'TSVECTOR_UPDATE_TRIGGER',\n\t\t'TSVECTOR_UPDATE_TRIGGER_COLUMN',\n\t],\n\t// https://www.postgresql.org/docs/14/functions-event-triggers.html\n\teventTrigger: [\n\t\t'PG_EVENT_TRIGGER_DDL_COMMANDS',\n\t\t'PG_EVENT_TRIGGER_DROPPED_OBJECTS',\n\t\t'PG_EVENT_TRIGGER_TABLE_REWRITE_OID',\n\t\t'PG_EVENT_TRIGGER_TABLE_REWRITE_REASON',\n\t\t'PG_GET_OBJECT_ADDRESS',\n\t],\n\t// https://www.postgresql.org/docs/14/functions-statistics.html\n\tstats: ['PG_MCV_LIST_ITEMS'],\n};\n\n/**\n * Priority 5 (last)\n * Full list of reserved words\n * any words that are in a higher priority are removed\n */\n// https://www.postgresql.org/docs/14/sql-keywords-appendix.html\nconst reservedKeywords = [\n\t'ABSENT',\n\t'ABSOLUTE',\n\t'ACCESS',\n\t'ACCORDING',\n\t'ACTION',\n\t'ADA',\n\t'ADMIN',\n\t'AGGREGATE',\n\t'ALL',\n\t'ALLOCATE',\n\t'ALSO',\n\t'ALTER',\n\t'ALWAYS',\n\t'ANALYSE',\n\t'ARE',\n\t'ARRAY',\n\t'ARRAY_MAX_CARDINALITY',\n\t'AS',\n\t'ASC',\n\t'ASENSITIVE',\n\t'ASSERTION',\n\t'ASSIGNMENT',\n\t'ASYMMETRIC',\n\t'AT',\n\t'ATOMIC',\n\t'ATTACH',\n\t'ATTRIBUTE',\n\t'ATTRIBUTES',\n\t'AUTHORIZATION',\n\t'BACKWARD',\n\t'BASE64',\n\t'BEFORE',\n\t'BEGIN_FRAME',\n\t'BEGIN_PARTITION',\n\t'BERNOULLI',\n\t'BETWEEN',\n\t'BIGINT',\n\t'BINARY',\n\t'BIT',\n\t'BLOB',\n\t'BLOCKED',\n\t'BOM',\n\t'BOOLEAN',\n\t'BOTH',\n\t'BREADTH',\n\t'BY',\n\t'CACHE',\n\t'CALLED',\n\t'CASCADE',\n\t'CASCADED',\n\t'CAST',\n\t'CATALOG',\n\t'CATALOG_NAME',\n\t'CHAIN',\n\t'CHAINING',\n\t'CHAR',\n\t'CHARACTER',\n\t'CHARACTERISTICS',\n\t'CHARACTERS',\n\t'CHARACTER_SET_CATALOG',\n\t'CHARACTER_SET_NAME',\n\t'CHARACTER_SET_SCHEMA',\n\t'CHECK',\n\t'CLASS',\n\t'CLASSIFIER',\n\t'CLASS_ORIGIN',\n\t'CLOB',\n\t'COBOL',\n\t'COLLATE',\n\t'COLLATION',\n\t'COLLATION_CATALOG',\n\t'COLLATION_NAME',\n\t'COLLATION_SCHEMA',\n\t'COLLECT',\n\t'COLUMN',\n\t'COLUMNS',\n\t'COLUMN_NAME',\n\t'COMMAND_FUNCTION',\n\t'COMMAND_FUNCTION_CODE',\n\t'COMMENTS',\n\t'COMMITTED',\n\t'COMPRESSION',\n\t'CONCURRENTLY',\n\t'CONDITION',\n\t'CONDITIONAL',\n\t'CONDITION_NUMBER',\n\t'CONFIGURATION',\n\t'CONFLICT',\n\t'CONNECT',\n\t'CONNECTION',\n\t'CONNECTION_NAME',\n\t'CONSTRAINT',\n\t'CONSTRAINTS',\n\t'CONSTRAINT_CATALOG',\n\t'CONSTRAINT_NAME',\n\t'CONSTRAINT_SCHEMA',\n\t'CONSTRUCTOR',\n\t'CONTAINS',\n\t'CONTENT',\n\t'CONTINUE',\n\t'CONTROL',\n\t'CONVERSION',\n\t'CORRESPONDING',\n\t'COST',\n\t'CREATE',\n\t'CROSS',\n\t'CSV',\n\t'CUBE',\n\t'CURRENT',\n\t'CURRENT_DEFAULT_TRANSFORM_GROUP',\n\t'CURRENT_PATH',\n\t'CURRENT_ROW',\n\t'CURRENT_TRANSFORM_GROUP_FOR_TYPE',\n\t'CURSOR',\n\t'CURSOR_NAME',\n\t'CYCLE',\n\t'DATA',\n\t'DATABASE',\n\t'DATALINK',\n\t'DATE',\n\t'DATETIME_INTERVAL_CODE',\n\t'DATETIME_INTERVAL_PRECISION',\n\t'DAY',\n\t'DB',\n\t'DEC',\n\t'DECFLOAT',\n\t'DECIMAL',\n\t'DEFAULT',\n\t'DEFAULTS',\n\t'DEFERRABLE',\n\t'DEFERRED',\n\t'DEFINE',\n\t'DEFINED',\n\t'DEFINER',\n\t'DEGREE',\n\t'DELIMITER',\n\t'DELIMITERS',\n\t'DEPENDS',\n\t'DEPTH',\n\t'DEREF',\n\t'DERIVED',\n\t'DESC',\n\t'DESCRIBE',\n\t'DESCRIPTOR',\n\t'DETACH',\n\t'DETERMINISTIC',\n\t'DIAGNOSTICS',\n\t'DICTIONARY',\n\t'DISABLE',\n\t'DISCONNECT',\n\t'DISPATCH',\n\t'DISTINCT',\n\t'DLNEWCOPY',\n\t'DLPREVIOUSCOPY',\n\t'DLURLCOMPLETE',\n\t'DLURLCOMPLETEONLY',\n\t'DLURLCOMPLETEWRITE',\n\t'DLURLPATH',\n\t'DLURLPATHONLY',\n\t'DLURLPATHWRITE',\n\t'DLURLSCHEME',\n\t'DLURLSERVER',\n\t'DLVALUE',\n\t'DOCUMENT',\n\t'DOMAIN',\n\t'DOUBLE',\n\t'DROP',\n\t'DYNAMIC',\n\t'DYNAMIC_FUNCTION',\n\t'DYNAMIC_FUNCTION_CODE',\n\t'EACH',\n\t'ELEMENT',\n\t'EMPTY',\n\t'ENABLE',\n\t'ENCODING',\n\t'ENCRYPTED',\n\t'END-EXEC',\n\t'END_FRAME',\n\t'END_PARTITION',\n\t'ENFORCED',\n\t'ENUM',\n\t'EQUALS',\n\t'ERROR',\n\t'ESCAPE',\n\t'EVENT',\n\t'EXCEPTION',\n\t'EXCLUDE',\n\t'EXCLUDING',\n\t'EXCLUSIVE',\n\t'EXEC',\n\t'EXISTS',\n\t'EXPRESSION',\n\t'EXTENSION',\n\t'EXTERNAL',\n\t'FALSE',\n\t'FILE',\n\t'FILTER',\n\t'FINAL',\n\t'FINALIZE',\n\t'FINISH',\n\t'FIRST',\n\t'FLAG',\n\t'FLOAT',\n\t'FOLLOWING',\n\t'FOR',\n\t'FORCE',\n\t'FOREIGN',\n\t'FORTRAN',\n\t'FORWARD',\n\t'FOUND',\n\t'FRAME_ROW',\n\t'FREE',\n\t'FREEZE',\n\t'FS',\n\t'FULFILL',\n\t'FULL',\n\t'FUNCTION',\n\t'FUNCTIONS',\n\t'FUSION',\n\t'GENERAL',\n\t'GENERATED',\n\t'GET',\n\t'GLOBAL',\n\t'GO',\n\t'GOTO',\n\t'GRANTED',\n\t'GROUP',\n\t'GROUPS',\n\t'HANDLER',\n\t'HEADER',\n\t'HEX',\n\t'HIERARCHY',\n\t'HOLD',\n\t'HOUR',\n\t// 'ID',\n\t'IDENTITY',\n\t'IF',\n\t'IGNORE',\n\t'ILIKE',\n\t'IMMEDIATE',\n\t'IMMEDIATELY',\n\t'IMMUTABLE',\n\t'IMPLEMENTATION',\n\t'IMPLICIT',\n\t'IMPORT',\n\t'IN',\n\t'INCLUDE',\n\t'INCLUDING',\n\t'INCREMENT',\n\t'INDENT',\n\t'INDEX',\n\t'INDEXES',\n\t'INDICATOR',\n\t'INHERIT',\n\t'INHERITS',\n\t'INITIAL',\n\t'INITIALLY',\n\t'INLINE',\n\t'INNER',\n\t'INOUT',\n\t'INPUT',\n\t'INSENSITIVE',\n\t'INSTANCE',\n\t'INSTANTIABLE',\n\t'INSTEAD',\n\t'INT',\n\t'INTEGER',\n\t'INTEGRITY',\n\t'INTERSECTION',\n\t'INTERVAL',\n\t'INTO',\n\t'INVOKER',\n\t'IS',\n\t'ISNULL',\n\t'ISOLATION',\n\t'JSON',\n\t'JSON_ARRAY',\n\t'JSON_ARRAYAGG',\n\t'JSON_EXISTS',\n\t'JSON_OBJECTAGG',\n\t'JSON_QUERY',\n\t'JSON_TABLE',\n\t'JSON_TABLE_PRIMITIVE',\n\t'JSON_VALUE',\n\t'KEEP',\n\t'KEY',\n\t'KEYS',\n\t'KEY_MEMBER',\n\t'KEY_TYPE',\n\t'LABEL',\n\t'LANGUAGE',\n\t'LARGE',\n\t'LAST',\n\t'LEADING',\n\t'LEAKPROOF',\n\t'LEVEL',\n\t'LIBRARY',\n\t'LIKE',\n\t'LIKE_REGEX',\n\t'LINK',\n\t'LISTAGG',\n\t'LOCAL',\n\t'LOCATION',\n\t'LOCATOR',\n\t'LOCKED',\n\t'LOGGED',\n\t'MAP',\n\t'MAPPING',\n\t'MATCH',\n\t'MATCHED',\n\t'MATCHES',\n\t'MATCH_NUMBER',\n\t'MATCH_RECOGNIZE',\n\t'MATERIALIZED',\n\t'MAXVALUE',\n\t'MEASURES',\n\t'MEMBER',\n\t'MERGE',\n\t'MESSAGE_LENGTH',\n\t'MESSAGE_OCTET_LENGTH',\n\t'MESSAGE_TEXT',\n\t'METHOD',\n\t'MINUTE',\n\t'MINVALUE',\n\t'MODIFIES',\n\t'MODULE',\n\t'MONTH',\n\t'MORE',\n\t'MULTISET',\n\t'MUMPS',\n\t'NAME',\n\t'NAMES',\n\t'NAMESPACE',\n\t'NATIONAL',\n\t'NATURAL',\n\t'NCHAR',\n\t'NCLOB',\n\t'NESTED',\n\t'NESTING',\n\t'NEW',\n\t'NEXT',\n\t'NFC',\n\t'NFD',\n\t'NFKC',\n\t'NFKD',\n\t'NIL',\n\t'NO',\n\t'NONE',\n\t'NORMALIZED',\n\t'NOT',\n\t'NOTHING',\n\t'NOTNULL',\n\t'NOWAIT',\n\t'NULL',\n\t'NULLABLE',\n\t'NULLS',\n\t'NUMBER',\n\t'NUMERIC',\n\t'OBJECT',\n\t'OCCURRENCES_REGEX',\n\t'OCTETS',\n\t'OF',\n\t'OFF',\n\t'OFFSET',\n\t'OIDS',\n\t'OLD',\n\t'OMIT',\n\t'ONE',\n\t'ONLY',\n\t'OPEN',\n\t'OPERATOR',\n\t'OPTION',\n\t'OPTIONS',\n\t'ORDER',\n\t'ORDERING',\n\t'ORDINALITY',\n\t'OTHERS',\n\t'OUT',\n\t'OUTER',\n\t'OUTPUT',\n\t'OVER',\n\t'OVERFLOW',\n\t'OVERLAPS',\n\t'OVERRIDING',\n\t'OWNED',\n\t'OWNER',\n\t'PAD',\n\t'PARALLEL',\n\t'PARAMETER',\n\t'PARAMETER_MODE',\n\t'PARAMETER_NAME',\n\t'PARAMETER_ORDINAL_POSITION',\n\t'PARAMETER_SPECIFIC_CATALOG',\n\t'PARAMETER_SPECIFIC_NAME',\n\t'PARAMETER_SPECIFIC_SCHEMA',\n\t'PARSER',\n\t'PARTIAL',\n\t'PARTITION',\n\t'PASCAL',\n\t'PASS',\n\t'PASSING',\n\t'PASSTHROUGH',\n\t'PASSWORD',\n\t'PAST',\n\t'PATTERN',\n\t'PER',\n\t'PERCENT',\n\t'PERIOD',\n\t'PERMISSION',\n\t'PERMUTE',\n\t'PLACING',\n\t'PLAN',\n\t'PLANS',\n\t'PLI',\n\t'POLICY',\n\t'PORTION',\n\t'POSITION_REGEX',\n\t'PRECEDES',\n\t'PRECEDING',\n\t'PRECISION',\n\t'PREPARED',\n\t'PRESERVE',\n\t'PRIMARY',\n\t'PRIOR',\n\t'PRIVATE',\n\t'PRIVILEGES',\n\t'PROCEDURAL',\n\t'PROCEDURE',\n\t'PROCEDURES',\n\t'PROGRAM',\n\t'PRUNE',\n\t'PTF',\n\t'PUBLIC',\n\t'PUBLICATION',\n\t'QUOTE',\n\t'QUOTES',\n\t'RANGE',\n\t'READ',\n\t'READS',\n\t'REAL',\n\t'REASSIGN',\n\t'RECHECK',\n\t'RECOVERY',\n\t'RECURSIVE',\n\t'REF',\n\t'REFERENCES',\n\t'REFERENCING',\n\t'REFRESH',\n\t'RELATIVE',\n\t'RELEASE',\n\t'RENAME',\n\t'REPEATABLE',\n\t'REPLICA',\n\t'REQUIRING',\n\t'RESPECT',\n\t'RESTART',\n\t'RESTORE',\n\t'RESTRICT',\n\t'RESULT',\n\t'RETURN',\n\t'RETURNED_CARDINALITY',\n\t'RETURNED_LENGTH',\n\t'RETURNED_OCTET_LENGTH',\n\t'RETURNED_SQLSTATE',\n\t'RETURNING',\n\t'RETURNS',\n\t'ROLE',\n\t'ROLLUP',\n\t'ROUTINE',\n\t'ROUTINES',\n\t'ROUTINE_CATALOG',\n\t'ROUTINE_NAME',\n\t'ROUTINE_SCHEMA',\n\t'ROW',\n\t'ROWS',\n\t'ROW_COUNT',\n\t'RULE',\n\t'RUNNING',\n\t'SCALAR',\n\t'SCHEMA',\n\t'SCHEMAS',\n\t'SCHEMA_NAME',\n\t'SCOPE',\n\t'SCOPE_CATALOG',\n\t'SCOPE_NAME',\n\t'SCOPE_SCHEMA',\n\t'SCROLL',\n\t'SEARCH',\n\t'SECOND',\n\t'SECTION',\n\t'SECURITY',\n\t'SEEK',\n\t'SELECTIVE',\n\t'SELF',\n\t'SENSITIVE',\n\t'SEQUENCE',\n\t'SEQUENCES',\n\t'SERIALIZABLE',\n\t'SERVER',\n\t'SERVER_NAME',\n\t'SESSION',\n\t'SETOF',\n\t'SETS',\n\t'SHARE',\n\t'SIMILAR',\n\t'SIMPLE',\n\t'SIZE',\n\t'SKIP',\n\t'SMALLINT',\n\t'SNAPSHOT',\n\t'SOURCE',\n\t'SPACE',\n\t'SPECIFIC',\n\t'SPECIFICTYPE',\n\t'SPECIFIC_NAME',\n\t'SQL',\n\t'SQLCODE',\n\t'SQLERROR',\n\t'SQLEXCEPTION',\n\t'SQLSTATE',\n\t'SQLWARNING',\n\t'STABLE',\n\t'STANDALONE',\n\t'START',\n\t'STATE',\n\t'STATEMENT',\n\t'STATIC',\n\t'STATISTICS',\n\t'STDIN',\n\t'STDOUT',\n\t'STORAGE',\n\t'STORED',\n\t'STRICT',\n\t'STRUCTURE',\n\t'STYLE',\n\t'SUBCLASS_ORIGIN',\n\t'SUBMULTISET',\n\t'SUBSCRIPTION',\n\t'SUBSET',\n\t'SUBSTRING_REGEX',\n\t'SUCCEEDS',\n\t'SUPPORT',\n\t'SYMMETRIC',\n\t'SYSID',\n\t'SYSTEM',\n\t'SYSTEM_TIME',\n\t'SYSTEM_USER',\n\t'TABLE',\n\t'TABLES',\n\t'TABLESAMPLE',\n\t'TABLESPACE',\n\t'TABLE_NAME',\n\t'TEMP',\n\t'TEMPLATE',\n\t'TEMPORARY',\n\t'THROUGH',\n\t'TIES',\n\t'TIME',\n\t'TIMESTAMP',\n\t'TIMEZONE_HOUR',\n\t'TIMEZONE_MINUTE',\n\t'TO',\n\t'TOKEN',\n\t'TOP_LEVEL_COUNT',\n\t'TRAILING',\n\t'TRANSACTION',\n\t'TRANSACTIONS_COMMITTED',\n\t'TRANSACTIONS_ROLLED_BACK',\n\t'TRANSACTION_ACTIVE',\n\t'TRANSFORM',\n\t'TRANSFORMS',\n\t'TRANSLATE_REGEX',\n\t'TRANSLATION',\n\t'TREAT',\n\t'TRIGGER',\n\t'TRIGGER_CATALOG',\n\t'TRIGGER_NAME',\n\t'TRIGGER_SCHEMA',\n\t'TRUE',\n\t'TRUSTED',\n\t'TYPE',\n\t'TYPES',\n\t'UESCAPE',\n\t'UNBOUNDED',\n\t'UNCOMMITTED',\n\t'UNCONDITIONAL',\n\t'UNDER',\n\t'UNENCRYPTED',\n\t'UNIQUE',\n\t'UNKNOWN',\n\t'UNLINK',\n\t'UNLOGGED',\n\t'UNMATCHED',\n\t'UNNAMED',\n\t'UNTIL',\n\t'UNTYPED',\n\t'URI',\n\t'USAGE',\n\t'USER_DEFINED_TYPE_CATALOG',\n\t'USER_DEFINED_TYPE_CODE',\n\t'USER_DEFINED_TYPE_NAME',\n\t'USER_DEFINED_TYPE_SCHEMA',\n\t'USING',\n\t'UTF16',\n\t'UTF32',\n\t'UTF8',\n\t'VALID',\n\t'VALIDATE',\n\t'VALIDATOR',\n\t'VALUE',\n\t'VALUE_OF',\n\t'VARBINARY',\n\t'VARCHAR',\n\t'VARIADIC',\n\t'VARYING',\n\t'VERBOSE',\n\t'VERSIONING',\n\t'VIEW',\n\t'VIEWS',\n\t'VOLATILE',\n\t'WHENEVER',\n\t'WHITESPACE',\n\t'WINDOW',\n\t'WITHIN',\n\t'WITHOUT',\n\t'WORK',\n\t'WRAPPER',\n\t'WRITE',\n\t'XML',\n\t'XMLATTRIBUTES',\n\t'XMLBINARY',\n\t'XMLCAST',\n\t'XMLDECLARATION',\n\t'XMLDOCUMENT',\n\t'XMLITERATE',\n\t'XMLNAMESPACES',\n\t'XMLQUERY',\n\t'XMLSCHEMA',\n\t'XMLTEXT',\n\t'XMLVALIDATE',\n\t'YEAR',\n\t'YES',\n\t'ZONE',\n];\n\n/**\n * Priority 1 (first)\n * keywords that begin a new statement\n * will begin new indented block\n */\n// https://www.postgresql.org/docs/14/sql-commands.html\nconst reservedCommands = [\n\t'ABORT',\n\t'ALTER AGGREGATE',\n\t'ALTER COLLATION',\n\t'ALTER CONVERSION',\n\t'ALTER DATABASE',\n\t'ALTER DEFAULT PRIVILEGES',\n\t'ALTER DOMAIN',\n\t'ALTER EVENT TRIGGER',\n\t'ALTER EXTENSION',\n\t'ALTER FOREIGN DATA WRAPPER',\n\t'ALTER FOREIGN TABLE',\n\t'ALTER FUNCTION',\n\t'ALTER GROUP',\n\t'ALTER INDEX',\n\t'ALTER LANGUAGE',\n\t'ALTER LARGE OBJECT',\n\t'ALTER MATERIALIZED VIEW',\n\t'ALTER OPERATOR',\n\t'ALTER OPERATOR CLASS',\n\t'ALTER OPERATOR FAMILY',\n\t'ALTER POLICY',\n\t'ALTER PROCEDURE',\n\t'ALTER PUBLICATION',\n\t'ALTER ROLE',\n\t'ALTER ROUTINE',\n\t'ALTER RULE',\n\t'ALTER SCHEMA',\n\t'ALTER SEQUENCE',\n\t'ALTER SERVER',\n\t'ALTER STATISTICS',\n\t'ALTER SUBSCRIPTION',\n\t'ALTER SYSTEM',\n\t'ALTER TABLE',\n\t'ALTER TABLESPACE',\n\t'ALTER TEXT SEARCH CONFIGURATION',\n\t'ALTER TEXT SEARCH DICTIONARY',\n\t'ALTER TEXT SEARCH PARSER',\n\t'ALTER TEXT SEARCH TEMPLATE',\n\t'ALTER TRIGGER',\n\t'ALTER TYPE',\n\t'ALTER USER',\n\t'ALTER USER MAPPING',\n\t'ALTER VIEW',\n\t'ANALYZE',\n\t'BEGIN',\n\t'CALL',\n\t'CHECKPOINT',\n\t'CLOSE',\n\t'CLUSTER',\n\t'COMMENT',\n\t'COMMIT',\n\t'COMMIT PREPARED',\n\t'COPY',\n\t'CREATE ACCESS METHOD',\n\t'CREATE AGGREGATE',\n\t'CREATE CAST',\n\t'CREATE COLLATION',\n\t'CREATE CONVERSION',\n\t'CREATE DATABASE',\n\t'CREATE DOMAIN',\n\t'CREATE EVENT TRIGGER',\n\t'CREATE EXTENSION',\n\t'CREATE FOREIGN DATA WRAPPER',\n\t'CREATE FOREIGN TABLE',\n\t'CREATE FUNCTION',\n\t'CREATE GROUP',\n\t'CREATE INDEX',\n\t'CREATE LANGUAGE',\n\t'CREATE MATERIALIZED VIEW',\n\t'CREATE OPERATOR',\n\t'CREATE OPERATOR CLASS',\n\t'CREATE OPERATOR FAMILY',\n\t'CREATE POLICY',\n\t'CREATE PROCEDURE',\n\t'CREATE PUBLICATION',\n\t'CREATE ROLE',\n\t'CREATE RULE',\n\t'CREATE SCHEMA',\n\t'CREATE SEQUENCE',\n\t'CREATE SERVER',\n\t'CREATE STATISTICS',\n\t'CREATE SUBSCRIPTION',\n\t'CREATE TABLE',\n\t'CREATE TABLE AS',\n\t'CREATE TABLESPACE',\n\t'CREATE TEXT SEARCH CONFIGURATION',\n\t'CREATE TEXT SEARCH DICTIONARY',\n\t'CREATE TEXT SEARCH PARSER',\n\t'CREATE TEXT SEARCH TEMPLATE',\n\t'CREATE TRANSFORM',\n\t'CREATE TRIGGER',\n\t'CREATE TYPE',\n\t'CREATE USER',\n\t'CREATE USER MAPPING',\n\t'CREATE VIEW',\n\t'DEALLOCATE',\n\t'DECLARE',\n\t'DELETE',\n\t'DISCARD',\n\t'DO',\n\t'DROP ACCESS METHOD',\n\t'DROP AGGREGATE',\n\t'DROP CAST',\n\t'DROP COLLATION',\n\t'DROP CONVERSION',\n\t'DROP DATABASE',\n\t'DROP DOMAIN',\n\t'DROP EVENT TRIGGER',\n\t'DROP EXTENSION',\n\t'DROP FOREIGN DATA WRAPPER',\n\t'DROP FOREIGN TABLE',\n\t'DROP FUNCTION',\n\t'DROP GROUP',\n\t'DROP INDEX',\n\t'DROP LANGUAGE',\n\t'DROP MATERIALIZED VIEW',\n\t'DROP OPERATOR',\n\t'DROP OPERATOR CLASS',\n\t'DROP OPERATOR FAMILY',\n\t'DROP OWNED',\n\t'DROP POLICY',\n\t'DROP PROCEDURE',\n\t'DROP PUBLICATION',\n\t'DROP ROLE',\n\t'DROP ROUTINE',\n\t'DROP RULE',\n\t'DROP SCHEMA',\n\t'DROP SEQUENCE',\n\t'DROP SERVER',\n\t'DROP STATISTICS',\n\t'DROP SUBSCRIPTION',\n\t'DROP TABLE',\n\t'DROP TABLESPACE',\n\t'DROP TEXT SEARCH CONFIGURATION',\n\t'DROP TEXT SEARCH DICTIONARY',\n\t'DROP TEXT SEARCH PARSER',\n\t'DROP TEXT SEARCH TEMPLATE',\n\t'DROP TRANSFORM',\n\t'DROP TRIGGER',\n\t'DROP TYPE',\n\t'DROP USER',\n\t'DROP USER MAPPING',\n\t'DROP VIEW',\n\t'END',\n\t'EXECUTE',\n\t'EXPLAIN',\n\t'FETCH',\n\t'GRANT',\n\t'IMPORT FOREIGN SCHEMA',\n\t'INSERT',\n\t'LISTEN',\n\t'LOAD',\n\t'LOCK',\n\t'MOVE',\n\t'NOTIFY',\n\t'PREPARE',\n\t'PREPARE TRANSACTION',\n\t'REASSIGN OWNED',\n\t'REFRESH MATERIALIZED VIEW',\n\t'REINDEX',\n\t'RELEASE SAVEPOINT',\n\t'RESET',\n\t'REVOKE',\n\t'ROLLBACK',\n\t'ROLLBACK PREPARED',\n\t'ROLLBACK TO SAVEPOINT',\n\t'SAVEPOINT',\n\t'SECURITY LABEL',\n\t'SELECT',\n\t'SELECT INTO',\n\t'SET',\n\t'SET CONSTRAINTS',\n\t'SET ROLE',\n\t'SET SESSION AUTHORIZATION',\n\t'SET TRANSACTION',\n\t'SHOW',\n\t'START TRANSACTION',\n\t'TRUNCATE',\n\t'UNLISTEN',\n\t'UPDATE',\n\t'VACUUM',\n\t'VALUES',\n\t// other\n\t'ADD',\n\t'AFTER',\n\t'ALTER COLUMN',\n\t'INSERT INTO', // verify\n\t'SET SCHEMA', // verify\n\t'FROM',\n\t'GROUP BY',\n\t'HAVING',\n\t'LIMIT',\n\t'OFFSET',\n\t'ORDER BY',\n\t'WHERE',\n\t'WITH',\n];\n\n/**\n * Priority 2\n * commands that operate on two tables or subqueries\n * two main categories: joins and boolean set operators\n */\nconst reservedBinaryCommands = [\n\t// set booleans\n\t'INTERSECT',\n\t'INTERSECT ALL',\n\t'INTERSECT DISTINCT',\n\t'UNION',\n\t'UNION ALL',\n\t'UNION DISTINCT',\n\t'EXCEPT',\n\t'EXCEPT ALL',\n\t'EXCEPT DISTINCT',\n\t'MINUS',\n\t'MINUS ALL',\n\t'MINUS DISTINCT',\n\t// joins\n\t'JOIN',\n\t'INNER JOIN',\n\t'LEFT JOIN',\n\t'LEFT OUTER JOIN',\n\t'RIGHT JOIN',\n\t'RIGHT OUTER JOIN',\n\t'FULL JOIN',\n\t'FULL OUTER JOIN',\n\t'CROSS JOIN',\n\t'NATURAL JOIN',\n];\n\n/**\n * Priority 3\n * keywords that follow a previous Statement, must be attached to subsequent data\n * can be fully inline or on newline with optional indent\n */\nconst reservedDependentClauses = ['ON', 'WHEN', 'THEN', 'ELSE', 'LATERAL'];\n\nconst binaryOperators = [\n\t'<<',\n\t'>>',\n\t'||/',\n\t'|/',\n\t'::',\n\t':=',\n\t'->>',\n\t'->',\n\t'=>',\n\t'~~*',\n\t'~~',\n\t'!~~*',\n\t'!~~',\n\t'~*',\n\t'!~*',\n\t'!~',\n\t'!!',\n\t'||',\n\t'@-@',\n\t'@@',\n\t'##',\n\t'<->',\n\t'&&',\n\t'&<',\n\t'&>',\n\t'<<|',\n\t'&<|',\n\t'|>>',\n\t'|&>',\n\t'<^',\n\t'^>',\n\t'?#',\n\t'?-',\n\t'?|',\n\t'?-|',\n\t'?||',\n\t'@>',\n\t'<@',\n\t'~=',\n\t'>>=',\n\t'<<=',\n\t'@@@',\n];\n\n// https://www.postgresql.org/docs/14/index.html\nexport default class PostgreSqlFormatter extends Formatter {\n\tstatic reservedCommands = reservedCommands;\n\tstatic reservedBinaryCommands = reservedBinaryCommands;\n\tstatic reservedDependentClauses = reservedDependentClauses;\n\tstatic reservedLogicalOperators = ['AND', 'OR'];\n\tstatic reservedKeywords = dedupe([\n\t\t...Object.values(reservedFunctions).reduce((acc, arr) => [...acc, ...arr], []),\n\t\t...reservedKeywords,\n\t]);\n\tstatic stringTypes: StringPatternType[] = [`\"\"`, \"''\", \"U&''\", 'U&\"\"', '$$', '``'];\n\tstatic blockStart = ['(', 'CASE'];\n\tstatic blockEnd = [')', 'END'];\n\tstatic indexedPlaceholderTypes = ['$'];\n\tstatic namedPlaceholderTypes = [':'];\n\tstatic lineCommentTypes = ['--'];\n\tstatic operators = binaryOperators;\n\n\ttokenizer() {\n\t\treturn new Tokenizer({\n\t\t\treservedCommands: PostgreSqlFormatter.reservedCommands,\n\t\t\treservedBinaryCommands: PostgreSqlFormatter.reservedBinaryCommands,\n\t\t\treservedDependentClauses: PostgreSqlFormatter.reservedDependentClauses,\n\t\t\treservedLogicalOperators: PostgreSqlFormatter.reservedLogicalOperators,\n\t\t\treservedKeywords: PostgreSqlFormatter.reservedKeywords,\n\t\t\tstringTypes: PostgreSqlFormatter.stringTypes,\n\t\t\tblockStart: PostgreSqlFormatter.blockStart,\n\t\t\tblockEnd: PostgreSqlFormatter.blockEnd,\n\t\t\tindexedPlaceholderTypes: PostgreSqlFormatter.indexedPlaceholderTypes,\n\t\t\tnamedPlaceholderTypes: PostgreSqlFormatter.namedPlaceholderTypes,\n\t\t\tlineCommentTypes: PostgreSqlFormatter.lineCommentTypes,\n\t\t\toperators: PostgreSqlFormatter.operators,\n\t\t});\n\t}\n\n\ttokenOverride(token: Token) {\n\t\t// [LATERAL] ( ...\n\t\tif (isToken.LATERAL(token) && this.tokenLookAhead()?.type === TokenType.BLOCK_START) {\n\t\t\t// This is a subquery, treat it like a join\n\t\t\treturn { type: TokenType.RESERVED_LOGICAL_OPERATOR, value: token.value };\n\t\t}\n\n\t\treturn token;\n\t}\n}\n","import Formatter from '../core/Formatter';\nimport Tokenizer from '../core/Tokenizer';\nimport type { StringPatternType } from '../core/regexFactory';\nimport { dedupe } from '../utils';\n\n/**\n * Priority 5 (last)\n * Full list of reserved functions\n * distinct from Keywords due to interaction with parentheses\n */\nconst reservedFunctions = {\n\t// https://docs.aws.amazon.com/redshift/latest/dg/c_Aggregate_Functions.html\n\taggregate: [\n\t\t'ANY_VALUE',\n\t\t'APPROXIMATE PERCENTILE_DISC',\n\t\t'AVG',\n\t\t'COUNT',\n\t\t'LISTAGG',\n\t\t'MAX',\n\t\t'MEDIAN',\n\t\t'MIN',\n\t\t'PERCENTILE_CONT',\n\t\t'STDDEV_SAMP',\n\t\t'STDDEV_POP',\n\t\t'SUM',\n\t\t'VAR_SAMP',\n\t\t'VAR_POP',\n\t],\n\t// https://docs.aws.amazon.com/redshift/latest/dg/c_Array_Functions.html\n\tarray: [\n\t\t'array',\n\t\t'array_concat',\n\t\t'array_flatten',\n\t\t'get_array_length',\n\t\t'split_to_array',\n\t\t'subarray',\n\t],\n\t// https://docs.aws.amazon.com/redshift/latest/dg/c_bitwise_aggregate_functions.html\n\tbitwise: ['BIT_AND', 'BIT_OR', 'BOOL_AND', 'BOOL_OR'],\n\t// https://docs.aws.amazon.com/redshift/latest/dg/c_conditional_expressions.html\n\tconditional: ['CASE', 'COALESCE', 'DECODE', 'GREATEST', 'LEAST', 'NVL', 'NVL2', 'NULLIF'],\n\t// https://docs.aws.amazon.com/redshift/latest/dg/Date_functions_header.html\n\tdateTime: [\n\t\t'ADD_MONTHS',\n\t\t'AT TIME ZONE',\n\t\t'CONVERT_TIMEZONE',\n\t\t'CURRENT_DATE',\n\t\t'CURRENT_TIME',\n\t\t'CURRENT_TIMESTAMP',\n\t\t'DATE_CMP',\n\t\t'DATE_CMP_TIMESTAMP',\n\t\t'DATE_CMP_TIMESTAMPTZ',\n\t\t'DATE_PART_YEAR',\n\t\t'DATEADD',\n\t\t'DATEDIFF',\n\t\t'DATE_PART',\n\t\t'DATE_TRUNC',\n\t\t'EXTRACT',\n\t\t'GETDATE',\n\t\t'INTERVAL_CMP',\n\t\t'LAST_DAY',\n\t\t'MONTHS_BETWEEN',\n\t\t'NEXT_DAY',\n\t\t'SYSDATE',\n\t\t'TIMEOFDAY',\n\t\t'TIMESTAMP_CMP',\n\t\t'TIMESTAMP_CMP_DATE',\n\t\t'TIMESTAMP_CMP_TIMESTAMPTZ',\n\t\t'TIMESTAMPTZ_CMP',\n\t\t'TIMESTAMPTZ_CMP_DATE',\n\t\t'TIMESTAMPTZ_CMP_TIMESTAMP',\n\t\t'TIMEZONE',\n\t\t'TO_TIMESTAMP',\n\t\t'TRUNC',\n\t],\n\t// https://docs.aws.amazon.com/redshift/latest/dg/geospatial-functions.html\n\tspatial: [\n\t\t'AddBBox',\n\t\t'DropBBox',\n\t\t'GeometryType',\n\t\t'ST_AddPoint',\n\t\t'ST_Angle',\n\t\t'ST_Area',\n\t\t'ST_AsBinary',\n\t\t'ST_AsEWKB',\n\t\t'ST_AsEWKT',\n\t\t'ST_AsGeoJSON',\n\t\t'ST_AsText',\n\t\t'ST_Azimuth',\n\t\t'ST_Boundary',\n\t\t'ST_Collect',\n\t\t'ST_Contains',\n\t\t'ST_ContainsProperly',\n\t\t'ST_ConvexHull',\n\t\t'ST_CoveredBy',\n\t\t'ST_Covers',\n\t\t'ST_Crosses',\n\t\t'ST_Dimension',\n\t\t'ST_Disjoint',\n\t\t'ST_Distance',\n\t\t'ST_DistanceSphere',\n\t\t'ST_DWithin',\n\t\t'ST_EndPoint',\n\t\t'ST_Envelope',\n\t\t'ST_Equals',\n\t\t'ST_ExteriorRing',\n\t\t'ST_Force2D',\n\t\t'ST_Force3D',\n\t\t'ST_Force3DM',\n\t\t'ST_Force3DZ',\n\t\t'ST_Force4D',\n\t\t'ST_GeometryN',\n\t\t'ST_GeometryType',\n\t\t'ST_GeomFromEWKB',\n\t\t'ST_GeomFromEWKT',\n\t\t'ST_GeomFromText',\n\t\t'ST_GeomFromWKB',\n\t\t'ST_InteriorRingN',\n\t\t'ST_Intersects',\n\t\t'ST_IsPolygonCCW',\n\t\t'ST_IsPolygonCW',\n\t\t'ST_IsClosed',\n\t\t'ST_IsCollection',\n\t\t'ST_IsEmpty',\n\t\t'ST_IsSimple',\n\t\t'ST_IsValid',\n\t\t'ST_Length',\n\t\t'ST_LengthSphere',\n\t\t'ST_Length2D',\n\t\t'ST_LineFromMultiPoint',\n\t\t'ST_LineInterpolatePoint',\n\t\t'ST_M',\n\t\t'ST_MakeEnvelope',\n\t\t'ST_MakeLine',\n\t\t'ST_MakePoint',\n\t\t'ST_MakePolygon',\n\t\t'ST_MemSize',\n\t\t'ST_MMax',\n\t\t'ST_MMin',\n\t\t'ST_Multi',\n\t\t'ST_NDims',\n\t\t'ST_NPoints',\n\t\t'ST_NRings',\n\t\t'ST_NumGeometries',\n\t\t'ST_NumInteriorRings',\n\t\t'ST_NumPoints',\n\t\t'ST_Perimeter',\n\t\t'ST_Perimeter2D',\n\t\t'ST_Point',\n\t\t'ST_PointN',\n\t\t'ST_Points',\n\t\t'ST_Polygon',\n\t\t'ST_RemovePoint',\n\t\t'ST_Reverse',\n\t\t'ST_SetPoint',\n\t\t'ST_SetSRID',\n\t\t'ST_Simplify',\n\t\t'ST_SRID',\n\t\t'ST_StartPoint',\n\t\t'ST_Touches',\n\t\t'ST_Within',\n\t\t'ST_X',\n\t\t'ST_XMax',\n\t\t'ST_XMin',\n\t\t'ST_Y',\n\t\t'ST_YMax',\n\t\t'ST_YMin',\n\t\t'ST_Z',\n\t\t'ST_ZMax',\n\t\t'ST_ZMin',\n\t\t'SupportsBBox',\n\t],\n\t// https://docs.aws.amazon.com/redshift/latest/dg/hash-functions.html\n\thash: ['CHECKSUM', 'FUNC_SHA1', 'FNV_HASH', 'MD5', 'SHA', 'SHA1', 'SHA2'],\n\t// https://docs.aws.amazon.com/redshift/latest/dg/hyperloglog-functions.html\n\thyperLogLog: ['HLL', 'HLL_CREATE_SKETCH', 'HLL_CARDINALITY', 'HLL_COMBINE'],\n\t// https://docs.aws.amazon.com/redshift/latest/dg/json-functions.html\n\tjson: [\n\t\t'IS_VALID_JSON',\n\t\t'IS_VALID_JSON_ARRAY',\n\t\t'JSON_ARRAY_LENGTH',\n\t\t'JSON_EXTRACT_ARRAY_ELEMENT_TEXT',\n\t\t'JSON_EXTRACT_PATH_TEXT',\n\t\t'JSON_PARSE',\n\t\t'JSON_SERIALIZE',\n\t],\n\t// https://docs.aws.amazon.com/redshift/latest/dg/Math_functions.html\n\tmath: [\n\t\t'ABS',\n\t\t'ACOS',\n\t\t'ASIN',\n\t\t'ATAN',\n\t\t'ATAN2',\n\t\t'CBRT',\n\t\t'CEILING',\n\t\t'CEIL',\n\t\t'COS',\n\t\t'COT',\n\t\t'DEGREES',\n\t\t'DEXP',\n\t\t'DLOG1',\n\t\t'DLOG10',\n\t\t'EXP',\n\t\t'FLOOR',\n\t\t'LN',\n\t\t'LOG',\n\t\t'MOD',\n\t\t'PI',\n\t\t'POWER',\n\t\t'RADIANS',\n\t\t'RANDOM',\n\t\t'ROUND',\n\t\t'SIN',\n\t\t'SIGN',\n\t\t'SQRT',\n\t\t'TAN',\n\t\t'TO_HEX',\n\t\t'TRUNC',\n\t],\n\t// https://docs.aws.amazon.com/redshift/latest/dg/ml-function.html\n\tmachineLearning: ['EXPLAIN_MODEL'],\n\t// https://docs.aws.amazon.com/redshift/latest/dg/String_functions_header.html\n\tstring: [\n\t\t'ASCII',\n\t\t'BPCHARCMP',\n\t\t'BTRIM',\n\t\t'BTTEXT_PATTERN_CMP',\n\t\t'CHAR_LENGTH',\n\t\t'CHARACTER_LENGTH',\n\t\t'CHARINDEX',\n\t\t'CHR',\n\t\t'COLLATE',\n\t\t'CONCAT',\n\t\t'CRC32',\n\t\t'DIFFERENCE',\n\t\t'INITCAP',\n\t\t'LEFT',\n\t\t'RIGHT',\n\t\t'LEN',\n\t\t'LENGTH',\n\t\t'LOWER',\n\t\t'LPAD',\n\t\t'RPAD',\n\t\t'LTRIM',\n\t\t'OCTETINDEX',\n\t\t'OCTET_LENGTH',\n\t\t'POSITION',\n\t\t'QUOTE_IDENT',\n\t\t'QUOTE_LITERAL',\n\t\t'REGEXP_COUNT',\n\t\t'REGEXP_INSTR',\n\t\t'REGEXP_REPLACE',\n\t\t'REGEXP_SUBSTR',\n\t\t'REPEAT',\n\t\t'REPLACE',\n\t\t'REPLICATE',\n\t\t'REVERSE',\n\t\t'RTRIM',\n\t\t'SOUNDEX',\n\t\t'SPLIT_PART',\n\t\t'STRPOS',\n\t\t'STRTOL',\n\t\t'SUBSTRING',\n\t\t'TEXTLEN',\n\t\t'TRANSLATE',\n\t\t'TRIM',\n\t\t'UPPER',\n\t],\n\t// https://docs.aws.amazon.com/redshift/latest/dg/c_Type_Info_Functions.html\n\tsuperType: [\n\t\t'decimal_precision',\n\t\t'decimal_scale',\n\t\t'is_array',\n\t\t'is_bigint',\n\t\t'is_boolean',\n\t\t'is_char',\n\t\t'is_decimal',\n\t\t'is_float',\n\t\t'is_integer',\n\t\t'is_object',\n\t\t'is_scalar',\n\t\t'is_smallint',\n\t\t'is_varchar',\n\t\t'json_typeof',\n\t],\n\t// https://docs.aws.amazon.com/redshift/latest/dg/c_Window_functions.html\n\twindow: [\n\t\t'AVG',\n\t\t'COUNT',\n\t\t'CUME_DIST',\n\t\t'DENSE_RANK',\n\t\t'FIRST_VALUE',\n\t\t'LAST_VALUE',\n\t\t'LAG',\n\t\t'LEAD',\n\t\t'LISTAGG',\n\t\t'MAX',\n\t\t'MEDIAN',\n\t\t'MIN',\n\t\t'NTH_VALUE',\n\t\t'NTILE',\n\t\t'PERCENT_RANK',\n\t\t'PERCENTILE_CONT',\n\t\t'PERCENTILE_DISC',\n\t\t'RANK',\n\t\t'RATIO_TO_REPORT',\n\t\t'ROW_NUMBER',\n\t\t'STDDEV_SAMP',\n\t\t'STDDEV_POP',\n\t\t'SUM',\n\t\t'VAR_SAMP',\n\t\t'VAR_POP',\n\t],\n\t// https://docs.aws.amazon.com/redshift/latest/dg/r_Data_type_formatting.html\n\tdataType: [\n\t\t'CAST',\n\t\t'CONVERT',\n\t\t'TO_CHAR',\n\t\t'TO_DATE',\n\t\t'TO_NUMBER',\n\t\t'TEXT_TO_INT_ALT',\n\t\t'TEXT_TO_NUMERIC_ALT',\n\t],\n\t// https://docs.aws.amazon.com/redshift/latest/dg/r_System_administration_functions.html\n\tsysAdmin: [\n\t\t'CHANGE_QUERY_PRIORITY',\n\t\t'CHANGE_SESSION_PRIORITY',\n\t\t'CHANGE_USER_PRIORITY',\n\t\t'CURRENT_SETTING',\n\t\t'PG_CANCEL_BACKEND',\n\t\t'PG_TERMINATE_BACKEND',\n\t\t'REBOOT_CLUSTER',\n\t\t'SET_CONFIG',\n\t],\n\t// https://docs.aws.amazon.com/redshift/latest/dg/r_System_information_functions.html\n\tsysInfo: [\n\t\t'CURRENT_AWS_ACCOUNT',\n\t\t'CURRENT_DATABASE',\n\t\t'CURRENT_NAMESPACE',\n\t\t'CURRENT_SCHEMA',\n\t\t'CURRENT_SCHEMAS',\n\t\t'CURRENT_USER',\n\t\t'CURRENT_USER_ID',\n\t\t'HAS_ASSUMEROLE_PRIVILEGE',\n\t\t'HAS_DATABASE_PRIVILEGE',\n\t\t'HAS_SCHEMA_PRIVILEGE',\n\t\t'HAS_TABLE_PRIVILEGE',\n\t\t'PG_BACKEND_PID',\n\t\t'PG_GET_COLS',\n\t\t'PG_GET_GRANTEE_BY_IAM_ROLE',\n\t\t'PG_GET_IAM_ROLE_BY_USER',\n\t\t'PG_GET_LATE_BINDING_VIEW_COLS',\n\t\t'PG_LAST_COPY_COUNT',\n\t\t'PG_LAST_COPY_ID',\n\t\t'PG_LAST_UNLOAD_ID',\n\t\t'PG_LAST_QUERY_ID',\n\t\t'PG_LAST_UNLOAD_COUNT',\n\t\t'SESSION_USER',\n\t\t'SLICE_NUM',\n\t\t'USER',\n\t\t'VERSION',\n\t],\n};\n\n/**\n * Priority 5 (last)\n * Full list of reserved words\n * any words that are in a higher priority are removed\n */\nconst reservedKeywords = {\n\t// https://docs.aws.amazon.com/redshift/latest/dg/r_pg_keywords.html\n\tstandard: [\n\t\t'AES128',\n\t\t'AES256',\n\t\t'ALL',\n\t\t'ALLOWOVERWRITE',\n\t\t'ANY',\n\t\t'ARRAY',\n\t\t'AS',\n\t\t'ASC',\n\t\t'AUTHORIZATION',\n\t\t'BACKUP',\n\t\t'BETWEEN',\n\t\t'BINARY',\n\t\t'BOTH',\n\t\t'CHECK',\n\t\t'COLUMN',\n\t\t'CONSTRAINT',\n\t\t'CREATE',\n\t\t'CROSS',\n\t\t'DEFAULT',\n\t\t'DEFERRABLE',\n\t\t'DEFLATE',\n\t\t'DEFRAG',\n\t\t'DESC',\n\t\t'DISABLE',\n\t\t'DISTINCT',\n\t\t'DO',\n\t\t'ENABLE',\n\t\t'ENCODE',\n\t\t'ENCRYPT',\n\t\t'ENCRYPTION',\n\t\t'EXPLICIT',\n\t\t'FALSE',\n\t\t'FOR',\n\t\t'FOREIGN',\n\t\t'FREEZE',\n\t\t'FROM',\n\t\t'FULL',\n\t\t'GLOBALDICT256',\n\t\t'GLOBALDICT64K',\n\t\t'GROUP',\n\t\t'IDENTITY',\n\t\t'IGNORE',\n\t\t'ILIKE',\n\t\t'IN',\n\t\t'INITIALLY',\n\t\t'INNER',\n\t\t'INTO',\n\t\t'IS',\n\t\t'ISNULL',\n\t\t'LANGUAGE',\n\t\t'LEADING',\n\t\t'LIKE',\n\t\t'LIMIT',\n\t\t'LOCALTIME',\n\t\t'LOCALTIMESTAMP',\n\t\t'LUN',\n\t\t'LUNS',\n\t\t'MINUS',\n\t\t'NATURAL',\n\t\t'NEW',\n\t\t'NOT',\n\t\t'NOTNULL',\n\t\t'NULL',\n\t\t'NULLS',\n\t\t'OFF',\n\t\t'OFFLINE',\n\t\t'OFFSET',\n\t\t'OID',\n\t\t'OLD',\n\t\t'ONLY',\n\t\t'OPEN',\n\t\t'ORDER',\n\t\t'OUTER',\n\t\t'OVERLAPS',\n\t\t'PARALLEL',\n\t\t'PARTITION',\n\t\t'PERCENT',\n\t\t'PERMISSIONS',\n\t\t'PLACING',\n\t\t'PRIMARY',\n\t\t'RECOVER',\n\t\t'REFERENCES',\n\t\t'REJECTLOG',\n\t\t'RESORT',\n\t\t'RESPECT',\n\t\t'RESTORE',\n\t\t'SIMILAR',\n\t\t'SNAPSHOT',\n\t\t'SOME',\n\t\t'SYSTEM',\n\t\t'TABLE',\n\t\t'TAG',\n\t\t'TDES',\n\t\t'TIMESTAMP',\n\t\t'TO',\n\t\t'TOP',\n\t\t'TRAILING',\n\t\t'TRUE',\n\t\t'UNIQUE',\n\t\t'USING',\n\t\t'VERBOSE',\n\t\t'WALLET',\n\t\t'WITHOUT',\n\t],\n\t// https://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-data-conversion.html\n\tdataConversionParams: [\n\t\t'ACCEPTANYDATE',\n\t\t'ACCEPTINVCHARS',\n\t\t'BLANKSASNULL',\n\t\t'DATEFORMAT',\n\t\t'EMPTYASNULL',\n\t\t'ENCODING',\n\t\t'ESCAPE',\n\t\t'EXPLICIT_IDS',\n\t\t'FILLRECORD',\n\t\t'IGNOREBLANKLINES',\n\t\t'IGNOREHEADER',\n\t\t'NULL AS',\n\t\t'REMOVEQUOTES',\n\t\t'ROUNDEC',\n\t\t'TIMEFORMAT',\n\t\t'TRIMBLANKS',\n\t\t'TRUNCATECOLUMNS',\n\t],\n\t// https://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-data-load.html\n\tdataLoadParams: ['COMPROWS', 'COMPUPDATE', 'MAXERROR', 'NOLOAD', 'STATUPDATE'],\n\t// https://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-data-format.html\n\tdataFormatParams: [\n\t\t'FORMAT',\n\t\t'CSV',\n\t\t'DELIMITER',\n\t\t'FIXEDWIDTH',\n\t\t'SHAPEFILE',\n\t\t'AVRO',\n\t\t'JSON',\n\t\t'PARQUET',\n\t\t'ORC',\n\t],\n\t// https://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-authorization.html\n\tcopyAuthParams: [\n\t\t'ACCESS_KEY_ID',\n\t\t'CREDENTIALS',\n\t\t'ENCRYPTED',\n\t\t'IAM_ROLE',\n\t\t'MASTER_SYMMETRIC_KEY',\n\t\t'SECRET_ACCESS_KEY',\n\t\t'SESSION_TOKEN',\n\t],\n\t// https://docs.aws.amazon.com/redshift/latest/dg/copy-parameters-file-compression.html\n\tcopyCompressionParams: ['BZIP2', 'GZIP', 'LZOP', 'ZSTD'],\n\t// https://docs.aws.amazon.com/redshift/latest/dg/r_COPY-alphabetical-parm-list.html\n\tcopyMiscParams: ['MANIFEST', 'READRATIO', 'REGION', 'SSH'],\n\t// https://docs.aws.amazon.com/redshift/latest/dg/c_Compression_encodings.html\n\tcompressionEncodings: [\n\t\t'RAW',\n\t\t'AZ64',\n\t\t'BYTEDICT',\n\t\t'DELTA',\n\t\t'DELTA32K',\n\t\t'LZO',\n\t\t'MOSTLY8',\n\t\t'MOSTLY16',\n\t\t'MOSTLY32',\n\t\t'RUNLENGTH',\n\t\t'TEXT255',\n\t\t'TEXT32K',\n\t],\n\tmisc: [\n\t\t// CREATE EXTERNAL SCHEMA (https://docs.aws.amazon.com/redshift/latest/dg/r_CREATE_EXTERNAL_SCHEMA.html)\n\t\t'CATALOG_ROLE',\n\t\t'SECRET_ARN',\n\t\t'EXTERNAL',\n\t\t'HIVE METASTORE', // https://docs.aws.amazon.com/redshift/latest/dg/c-spectrum-external-schemas.html\n\t\t// https://docs.aws.amazon.com/redshift/latest/dg/c_choosing_dist_sort.html\n\t\t'AUTO',\n\t\t'EVEN',\n\t\t'KEY',\n\t\t'PREDICATE', // ANALYZE | ANALYSE (https://docs.aws.amazon.com/redshift/latest/dg/r_ANALYZE.html)\n\t\t// unknown\n\t\t'COMPRESSION',\n\t\t'DATA CATALOG',\n\t],\n\t/**\n\t * Other keywords not included:\n\t * STL: https://docs.aws.amazon.com/redshift/latest/dg/c_intro_STL_tables.html\n\t * SVCS: https://docs.aws.amazon.com/redshift/latest/dg/svcs_views.html\n\t * SVL: https://docs.aws.amazon.com/redshift/latest/dg/svl_views.html\n\t * SVV: https://docs.aws.amazon.com/redshift/latest/dg/svv_views.html\n\t */\n\tdataTypes: [\n\t\t'CHAR',\n\t\t'CHARACTER',\n\t\t'NCHAR',\n\t\t'VARCHAR',\n\t\t'CHARACTER VARYING',\n\t\t'NVARCHAR',\n\t\t'BPCHAR',\n\t\t'TEXT',\n\t],\n};\n\n/**\n * Priority 1 (first)\n * keywords that begin a new statement\n * will begin new indented block\n */\n// https://docs.aws.amazon.com/redshift/latest/dg/c_SQL_commands.html\nconst reservedCommands = [\n\t'ABORT',\n\t'ALTER DATABASE',\n\t'ALTER DATASHARE',\n\t'ALTER DEFAULT PRIVILEGES',\n\t'ALTER GROUP',\n\t'ALTER MATERIALIZED VIEW',\n\t'ALTER PROCEDURE',\n\t'ALTER SCHEMA',\n\t'ALTER TABLE',\n\t'ALTER TABLE APPEND',\n\t'ALTER USER',\n\t'ANALYSE',\n\t'ANALYZE',\n\t'ANALYSE COMPRESSION',\n\t'ANALYZE COMPRESSION',\n\t'BEGIN',\n\t'CALL',\n\t'CANCEL',\n\t'CLOSE',\n\t'COMMENT',\n\t'COMMIT',\n\t'COPY',\n\t'CREATE DATABASE',\n\t'CREATE DATASHARE',\n\t'CREATE EXTERNAL FUNCTION',\n\t'CREATE EXTERNAL SCHEMA',\n\t'CREATE EXTERNAL TABLE',\n\t'CREATE FUNCTION',\n\t'CREATE GROUP',\n\t'CREATE LIBRARY',\n\t'CREATE MATERIALIZED VIEW',\n\t'CREATE MODEL',\n\t'CREATE PROCEDURE',\n\t'CREATE SCHEMA',\n\t'CREATE TABLE',\n\t'CREATE TABLE AS',\n\t'CREATE USER',\n\t'CREATE VIEW',\n\t'DEALLOCATE',\n\t'DECLARE',\n\t'DELETE',\n\t'DESC DATASHARE',\n\t'DROP DATABASE',\n\t'DROP DATASHARE',\n\t'DROP FUNCTION',\n\t'DROP GROUP',\n\t'DROP LIBRARY',\n\t'DROP MODEL',\n\t'DROP MATERIALIZED VIEW',\n\t'DROP PROCEDURE',\n\t'DROP SCHEMA',\n\t'DROP TABLE',\n\t'DROP USER',\n\t'DROP VIEW',\n\t'DROP',\n\t'END',\n\t'EXECUTE',\n\t'EXPLAIN',\n\t'FETCH',\n\t'FROM',\n\t'GRANT',\n\t'HAVING',\n\t'INSERT',\n\t'LOCK',\n\t'PREPARE',\n\t'REFRESH MATERIALIZED VIEW',\n\t'RESET',\n\t'REVOKE',\n\t'ROLLBACK',\n\t'SELECT',\n\t'SELECT INTO',\n\t'SET',\n\t'SET SESSION AUTHORIZATION',\n\t'SET SESSION CHARACTERISTICS',\n\t'SHOW',\n\t'SHOW EXTERNAL TABLE',\n\t'SHOW MODEL',\n\t'SHOW DATASHARES',\n\t'SHOW PROCEDURE',\n\t'SHOW TABLE',\n\t'SHOW VIEW',\n\t'START TRANSACTION',\n\t'TRUNCATE',\n\t'UNLOAD',\n\t'UPDATE',\n\t'VACUUM',\n\t'WHERE',\n\t'WITH',\n\t// other\n\t'GROUP BY',\n\t'ORDER BY',\n\t'LIMIT',\n\t'OFFSET',\n\t'VALUES',\n\t'MODIFY', // verify\n\t'INSERT INTO', // verify\n\t'ALTER COLUMN', // verify\n\t'SET SCHEMA', // verify\n];\n\n/**\n * Priority 2\n * commands that operate on two tables or subqueries\n * two main categories: joins and boolean set operators\n */\nconst reservedBinaryCommands = [\n\t// set booleans\n\t'INTERSECT',\n\t'INTERSECT ALL',\n\t'INTERSECT DISTINCT',\n\t'UNION',\n\t'UNION ALL',\n\t'UNION DISTINCT',\n\t'EXCEPT',\n\t'EXCEPT ALL',\n\t'EXCEPT DISTINCT',\n\t// joins\n\t'JOIN',\n\t'INNER JOIN',\n\t'LEFT JOIN',\n\t'LEFT OUTER JOIN',\n\t'RIGHT JOIN',\n\t'RIGHT OUTER JOIN',\n\t'FULL JOIN',\n\t'FULL OUTER JOIN',\n\t'CROSS JOIN',\n\t'NATURAL JOIN',\n];\n\n/**\n * Priority 3\n * keywords that follow a previous Statement, must be attached to subsequent data\n * can be fully inline or on newline with optional indent\n */\nconst reservedDependentClauses = ['ON', 'WHEN', 'THEN', 'ELSE'];\n\n// https://docs.aws.amazon.com/redshift/latest/dg/cm_chap_SQLCommandRef.html\nexport default class RedshiftFormatter extends Formatter {\n\tstatic reservedCommands = reservedCommands;\n\tstatic reservedBinaryCommands = reservedBinaryCommands;\n\tstatic reservedDependentClauses = reservedDependentClauses;\n\tstatic reservedLogicalOperators = ['AND', 'OR'];\n\tstatic reservedKeywords = dedupe([\n\t\t...Object.values(reservedFunctions).reduce((acc, arr) => [...acc, ...arr], []),\n\t\t...Object.values(reservedKeywords).reduce((acc, arr) => [...acc, ...arr], []),\n\t]);\n\tstatic stringTypes: StringPatternType[] = [`\"\"`, \"''\", '``'];\n\tstatic blockStart = ['('];\n\tstatic blockEnd = [')'];\n\tstatic indexedPlaceholderTypes = ['?'];\n\tstatic namedPlaceholderTypes = ['@', '#', '$'];\n\tstatic lineCommentTypes = ['--'];\n\tstatic operators = ['|/', '||/', '<<', '>>', '||'];\n\n\ttokenizer() {\n\t\treturn new Tokenizer({\n\t\t\treservedCommands: RedshiftFormatter.reservedCommands,\n\t\t\treservedBinaryCommands: RedshiftFormatter.reservedBinaryCommands,\n\t\t\treservedDependentClauses: RedshiftFormatter.reservedDependentClauses,\n\t\t\treservedLogicalOperators: RedshiftFormatter.reservedLogicalOperators,\n\t\t\treservedKeywords: RedshiftFormatter.reservedKeywords,\n\t\t\tstringTypes: RedshiftFormatter.stringTypes,\n\t\t\tblockStart: RedshiftFormatter.blockStart,\n\t\t\tblockEnd: RedshiftFormatter.blockEnd,\n\t\t\tindexedPlaceholderTypes: RedshiftFormatter.indexedPlaceholderTypes,\n\t\t\tnamedPlaceholderTypes: RedshiftFormatter.namedPlaceholderTypes,\n\t\t\tlineCommentTypes: RedshiftFormatter.lineCommentTypes,\n\t\t\toperators: RedshiftFormatter.operators,\n\t\t});\n\t}\n}\n","import Formatter from '../core/Formatter';\nimport Tokenizer from '../core/Tokenizer';\nimport { isToken, Token, TokenType } from '../core/token'; // convert to partial type import in TS 4.5\nimport type { StringPatternType } from '../core/regexFactory';\nimport { dedupe } from '../utils';\n\n/**\n * Priority 5 (last)\n * Full list of reserved functions\n * distinct from Keywords due to interaction with parentheses\n */\n// http://spark.apache.org/docs/latest/sql-ref-functions.html\nconst reservedFunctions = {\n\t// http://spark.apache.org/docs/latest/sql-ref-functions-builtin.html#aggregate-functions\n\taggregate: [\n\t\t'ANY',\n\t\t'APPROX_COUNT_DISTINCT',\n\t\t'APPROX_PERCENTILE',\n\t\t'AVG',\n\t\t'BIT_AND',\n\t\t'BIT_OR',\n\t\t'BIT_XOR',\n\t\t'BOOL_AND',\n\t\t'BOOL_OR',\n\t\t'COLLECT_LIST',\n\t\t'COLLECT_SET',\n\t\t'CORR',\n\t\t'COUNT',\n\t\t'COUNT',\n\t\t'COUNT',\n\t\t'COUNT_IF',\n\t\t'COUNT_MIN_SKETCH',\n\t\t'COVAR_POP',\n\t\t'COVAR_SAMP',\n\t\t'EVERY',\n\t\t'FIRST',\n\t\t'FIRST_VALUE',\n\t\t'GROUPING',\n\t\t'GROUPING_ID',\n\t\t'KURTOSIS',\n\t\t'LAST',\n\t\t'LAST_VALUE',\n\t\t'MAX',\n\t\t'MAX_BY',\n\t\t'MEAN',\n\t\t'MIN',\n\t\t'MIN_BY',\n\t\t'PERCENTILE',\n\t\t'PERCENTILE',\n\t\t'PERCENTILE_APPROX',\n\t\t'SKEWNESS',\n\t\t'SOME',\n\t\t'STD',\n\t\t'STDDEV',\n\t\t'STDDEV_POP',\n\t\t'STDDEV_SAMP',\n\t\t'SUM',\n\t\t'VAR_POP',\n\t\t'VAR_SAMP',\n\t\t'VARIANCE',\n\t],\n\t// http://spark.apache.org/docs/latest/sql-ref-functions-builtin.html#window-functions\n\twindow: [\n\t\t'CUME_DIST',\n\t\t'DENSE_RANK',\n\t\t'LAG',\n\t\t'LEAD',\n\t\t'NTH_VALUE',\n\t\t'NTILE',\n\t\t'PERCENT_RANK',\n\t\t'RANK',\n\t\t'ROW_NUMBER',\n\t],\n\t// http://spark.apache.org/docs/latest/sql-ref-functions-builtin.html#array-functions\n\tarray: [\n\t\t'ARRAY',\n\t\t'ARRAY_CONTAINS',\n\t\t'ARRAY_DISTINCT',\n\t\t'ARRAY_EXCEPT',\n\t\t'ARRAY_INTERSECT',\n\t\t'ARRAY_JOIN',\n\t\t'ARRAY_MAX',\n\t\t'ARRAY_MIN',\n\t\t'ARRAY_POSITION',\n\t\t'ARRAY_REMOVE',\n\t\t'ARRAY_REPEAT',\n\t\t'ARRAY_UNION',\n\t\t'ARRAYS_OVERLAP',\n\t\t'ARRAYS_ZIP',\n\t\t'FLATTEN',\n\t\t'SEQUENCE',\n\t\t'SHUFFLE',\n\t\t'SLICE',\n\t\t'SORT_ARRAY',\n\t],\n\t// http://spark.apache.org/docs/latest/sql-ref-functions-builtin.html#map-functions\n\tmap: [\n\t\t'ELEMENT_AT',\n\t\t'ELEMENT_AT',\n\t\t'MAP',\n\t\t'MAP_CONCAT',\n\t\t'MAP_ENTRIES',\n\t\t'MAP_FROM_ARRAYS',\n\t\t'MAP_FROM_ENTRIES',\n\t\t'MAP_KEYS',\n\t\t'MAP_VALUES',\n\t\t'STR_TO_MAP',\n\t],\n\t// http://spark.apache.org/docs/latest/sql-ref-functions-builtin.html#date-and-timestamp-functions\n\tdatetime: [\n\t\t'ADD_MONTHS',\n\t\t'CURRENT_DATE',\n\t\t'CURRENT_DATE',\n\t\t'CURRENT_TIMESTAMP',\n\t\t'CURRENT_TIMESTAMP',\n\t\t'CURRENT_TIMEZONE',\n\t\t'DATE_ADD',\n\t\t'DATE_FORMAT',\n\t\t'DATE_FROM_UNIX_DATE',\n\t\t'DATE_PART',\n\t\t'DATE_SUB',\n\t\t'DATE_TRUNC',\n\t\t'DATEDIFF',\n\t\t'DAY',\n\t\t'DAYOFMONTH',\n\t\t'DAYOFWEEK',\n\t\t'DAYOFYEAR',\n\t\t'EXTRACT',\n\t\t'FROM_UNIXTIME',\n\t\t'FROM_UTC_TIMESTAMP',\n\t\t'HOUR',\n\t\t'LAST_DAY',\n\t\t'MAKE_DATE',\n\t\t'MAKE_DT_INTERVAL',\n\t\t'MAKE_INTERVAL',\n\t\t'MAKE_TIMESTAMP',\n\t\t'MAKE_YM_INTERVAL',\n\t\t'MINUTE',\n\t\t'MONTH',\n\t\t'MONTHS_BETWEEN',\n\t\t'NEXT_DAY',\n\t\t'NOW',\n\t\t'QUARTER',\n\t\t'SECOND',\n\t\t'SESSION_WINDOW',\n\t\t'TIMESTAMP_MICROS',\n\t\t'TIMESTAMP_MILLIS',\n\t\t'TIMESTAMP_SECONDS',\n\t\t'TO_DATE',\n\t\t'TO_TIMESTAMP',\n\t\t'TO_UNIX_TIMESTAMP',\n\t\t'TO_UTC_TIMESTAMP',\n\t\t'TRUNC',\n\t\t'UNIX_DATE',\n\t\t'UNIX_MICROS',\n\t\t'UNIX_MILLIS',\n\t\t'UNIX_SECONDS',\n\t\t'UNIX_TIMESTAMP',\n\t\t'WEEKDAY',\n\t\t'WEEKOFYEAR',\n\t\t'WINDOW',\n\t\t'YEAR',\n\t],\n\t// http://spark.apache.org/docs/latest/sql-ref-functions-builtin.html#json-functions\n\tjson: [\n\t\t'FROM_JSON',\n\t\t'GET_JSON_OBJECT',\n\t\t'JSON_ARRAY_LENGTH',\n\t\t'JSON_OBJECT_KEYS',\n\t\t'JSON_TUPLE',\n\t\t'SCHEMA_OF_JSON',\n\t\t'TO_JSON',\n\t],\n\t// http://spark.apache.org/docs/latest/api/sql/index.html\n\tmisc: [\n\t\t'ABS',\n\t\t'ACOS',\n\t\t'ACOSH',\n\t\t'AGGREGATE',\n\t\t'ARRAY_SORT',\n\t\t'ASCII',\n\t\t'ASIN',\n\t\t'ASINH',\n\t\t'ASSERT_TRUE',\n\t\t'ATAN',\n\t\t'ATAN2',\n\t\t'ATANH',\n\t\t'BASE64',\n\t\t'BIGINT',\n\t\t'BIN',\n\t\t'BINARY',\n\t\t'BIT_COUNT',\n\t\t'BIT_GET',\n\t\t'BIT_LENGTH',\n\t\t'BOOLEAN',\n\t\t'BROUND',\n\t\t'BTRIM',\n\t\t'CARDINALITY',\n\t\t'CBRT',\n\t\t'CEIL',\n\t\t'CEILING',\n\t\t'CHAR',\n\t\t'CHAR_LENGTH',\n\t\t'CHARACTER_LENGTH',\n\t\t'CHR',\n\t\t'CONCAT',\n\t\t'CONCAT_WS',\n\t\t'CONV',\n\t\t'COS',\n\t\t'COSH',\n\t\t'COT',\n\t\t'CRC32',\n\t\t'CURRENT_CATALOG',\n\t\t'CURRENT_DATABASE',\n\t\t'CURRENT_USER',\n\t\t'DATE',\n\t\t'DECIMAL',\n\t\t'DEGREES',\n\t\t'DOUBLE',\n\t\t// 'E',\n\t\t'ELT',\n\t\t'EXP',\n\t\t'EXPM1',\n\t\t'FACTORIAL',\n\t\t'FIND_IN_SET',\n\t\t'FLOAT',\n\t\t'FLOOR',\n\t\t'FORALL',\n\t\t'FORMAT_NUMBER',\n\t\t'FORMAT_STRING',\n\t\t'FROM_CSV',\n\t\t'GETBIT',\n\t\t'HASH',\n\t\t'HEX',\n\t\t'HYPOT',\n\t\t'INITCAP',\n\t\t'INLINE',\n\t\t'INLINE_OUTER',\n\t\t'INPUT_FILE_BLOCK_LENGTH',\n\t\t'INPUT_FILE_BLOCK_START',\n\t\t'INPUT_FILE_NAME',\n\t\t'INSTR',\n\t\t'INT',\n\t\t'ISNAN',\n\t\t'ISNOTNULL',\n\t\t'ISNULL',\n\t\t'JAVA_METHOD',\n\t\t'LCASE',\n\t\t'LEFT',\n\t\t'LENGTH',\n\t\t'LEVENSHTEIN',\n\t\t'LN',\n\t\t'LOCATE',\n\t\t'LOG',\n\t\t'LOG10',\n\t\t'LOG1P',\n\t\t'LOG2',\n\t\t'LOWER',\n\t\t'LPAD',\n\t\t'LTRIM',\n\t\t'MAP_FILTER',\n\t\t'MAP_ZIP_WITH',\n\t\t'MD5',\n\t\t'MOD',\n\t\t'MONOTONICALLY_INCREASING_ID',\n\t\t'NAMED_STRUCT',\n\t\t'NANVL',\n\t\t'NEGATIVE',\n\t\t'NVL',\n\t\t'NVL2',\n\t\t'OCTET_LENGTH',\n\t\t'OVERLAY',\n\t\t'PARSE_URL',\n\t\t'PI',\n\t\t'PMOD',\n\t\t'POSEXPLODE',\n\t\t'POSEXPLODE_OUTER',\n\t\t'POSITION',\n\t\t'POSITIVE',\n\t\t'POW',\n\t\t'POWER',\n\t\t'PRINTF',\n\t\t'RADIANS',\n\t\t'RAISE_ERROR',\n\t\t'RAND',\n\t\t'RANDN',\n\t\t'RANDOM',\n\t\t'REFLECT',\n\t\t'REGEXP_EXTRACT',\n\t\t'REGEXP_EXTRACT_ALL',\n\t\t'REGEXP_LIKE',\n\t\t'REGEXP_REPLACE',\n\t\t'REPEAT',\n\t\t'REPLACE',\n\t\t'REVERSE',\n\t\t'RIGHT',\n\t\t'RINT',\n\t\t'ROUND',\n\t\t'RPAD',\n\t\t'RTRIM',\n\t\t'SCHEMA_OF_CSV',\n\t\t'SENTENCES',\n\t\t'SHA',\n\t\t'SHA1',\n\t\t'SHA2',\n\t\t'SHIFTLEFT',\n\t\t'SHIFTRIGHT',\n\t\t'SHIFTRIGHTUNSIGNED',\n\t\t'SIGN',\n\t\t'SIGNUM',\n\t\t'SIN',\n\t\t'SINH',\n\t\t'SMALLINT',\n\t\t'SOUNDEX',\n\t\t'SPACE',\n\t\t'SPARK_PARTITION_ID',\n\t\t'SPLIT',\n\t\t'SQRT',\n\t\t'STACK',\n\t\t'SUBSTR',\n\t\t'SUBSTRING',\n\t\t'SUBSTRING_INDEX',\n\t\t'TAN',\n\t\t'TANH',\n\t\t'TIMESTAMP',\n\t\t'TINYINT',\n\t\t'TO_CSV',\n\t\t'TRANSFORM_KEYS',\n\t\t'TRANSFORM_VALUES',\n\t\t'TRANSLATE',\n\t\t'TRIM',\n\t\t'TRY_ADD',\n\t\t'TRY_DIVIDE',\n\t\t'TYPEOF',\n\t\t'UCASE',\n\t\t'UNBASE64',\n\t\t'UNHEX',\n\t\t'UPPER',\n\t\t'UUID',\n\t\t'VERSION',\n\t\t'WIDTH_BUCKET',\n\t\t'XPATH',\n\t\t'XPATH_BOOLEAN',\n\t\t'XPATH_DOUBLE',\n\t\t'XPATH_FLOAT',\n\t\t'XPATH_INT',\n\t\t'XPATH_LONG',\n\t\t'XPATH_NUMBER',\n\t\t'XPATH_SHORT',\n\t\t'XPATH_STRING',\n\t\t'XXHASH64',\n\t\t'ZIP_WITH',\n\t],\n};\n\n/**\n * Priority 5 (last)\n * Full list of reserved words\n * any words that are in a higher priority are removed\n */\n// https://deepkb.com/CO_000013/en/kb/IMPORT-fbfa59f0-2bf1-31fe-bb7b-0f9efe9932c6/spark-sql-keywords\nconst reservedKeywords = [\n\t'ADD',\n\t'AFTER',\n\t'ALL',\n\t'ALTER',\n\t'ANALYZE',\n\t'AND',\n\t'ANTI',\n\t'ANY',\n\t'ARCHIVE',\n\t'ARRAY',\n\t'AS',\n\t'ASC',\n\t'AT',\n\t'AUTHORIZATION',\n\t'BETWEEN',\n\t'BOTH',\n\t'BUCKET',\n\t'BUCKETS',\n\t'BY',\n\t'CACHE',\n\t'CASCADE',\n\t'CAST',\n\t'CHANGE',\n\t'CHECK',\n\t'CLEAR',\n\t'CLUSTER',\n\t'CLUSTERED',\n\t'CODEGEN',\n\t'COLLATE',\n\t'COLLECTION',\n\t'COLUMN',\n\t'COLUMNS',\n\t'COMMENT',\n\t'COMMIT',\n\t'COMPACT',\n\t'COMPACTIONS',\n\t'COMPUTE',\n\t'CONCATENATE',\n\t'CONSTRAINT',\n\t'COST',\n\t'CREATE',\n\t'CROSS',\n\t'CUBE',\n\t'CURRENT',\n\t'CURRENT_DATE',\n\t'CURRENT_TIME',\n\t'CURRENT_TIMESTAMP',\n\t'CURRENT_USER',\n\t'DATA',\n\t'DATABASE',\n\t'DATABASES',\n\t'DAY',\n\t'DBPROPERTIES',\n\t'DEFINED',\n\t'DELETE',\n\t'DELIMITED',\n\t'DESC',\n\t'DESCRIBE',\n\t'DFS',\n\t'DIRECTORIES',\n\t'DIRECTORY',\n\t'DISTINCT',\n\t'DISTRIBUTE',\n\t'DIV',\n\t'DROP',\n\t'ESCAPE',\n\t'ESCAPED',\n\t'EXCEPT',\n\t'EXCHANGE',\n\t'EXISTS',\n\t'EXPORT',\n\t'EXTENDED',\n\t'EXTERNAL',\n\t'EXTRACT',\n\t'FALSE',\n\t'FETCH',\n\t'FIELDS',\n\t'FILTER',\n\t'FILEFORMAT',\n\t'FIRST',\n\t'FIRST_VALUE',\n\t'FOLLOWING',\n\t'FOR',\n\t'FOREIGN',\n\t'FORMAT',\n\t'FORMATTED',\n\t'FULL',\n\t'FUNCTION',\n\t'FUNCTIONS',\n\t'GLOBAL',\n\t'GRANT',\n\t'GROUP',\n\t'GROUPING',\n\t'HOUR',\n\t'IF',\n\t'IGNORE',\n\t'IMPORT',\n\t'IN',\n\t'INDEX',\n\t'INDEXES',\n\t'INNER',\n\t'INPATH',\n\t'INPUTFORMAT',\n\t'INTERSECT',\n\t'INTERVAL',\n\t'INTO',\n\t'IS',\n\t'ITEMS',\n\t'KEYS',\n\t'LAST',\n\t'LAST_VALUE',\n\t'LATERAL',\n\t'LAZY',\n\t'LEADING',\n\t'LEFT',\n\t'LIKE',\n\t'LINES',\n\t'LIST',\n\t'LOCAL',\n\t'LOCATION',\n\t'LOCK',\n\t'LOCKS',\n\t'LOGICAL',\n\t'MACRO',\n\t'MAP',\n\t'MATCHED',\n\t'MERGE',\n\t'MINUTE',\n\t'MONTH',\n\t'MSCK',\n\t'NAMESPACE',\n\t'NAMESPACES',\n\t'NATURAL',\n\t'NO',\n\t'NOT',\n\t'NULL',\n\t'NULLS',\n\t'OF',\n\t'ONLY',\n\t'OPTION',\n\t'OPTIONS',\n\t'OR',\n\t'ORDER',\n\t'OUT',\n\t'OUTER',\n\t'OUTPUTFORMAT',\n\t'OVER',\n\t'OVERLAPS',\n\t'OVERLAY',\n\t'OVERWRITE',\n\t'OWNER',\n\t'PARTITION',\n\t'PARTITIONED',\n\t'PARTITIONS',\n\t'PERCENT',\n\t'PLACING',\n\t'POSITION',\n\t'PRECEDING',\n\t'PRIMARY',\n\t'PRINCIPALS',\n\t'PROPERTIES',\n\t'PURGE',\n\t'QUERY',\n\t'RANGE',\n\t'RECORDREADER',\n\t'RECORDWRITER',\n\t'RECOVER',\n\t'REDUCE',\n\t'REFERENCES',\n\t'RENAME',\n\t'REPAIR',\n\t'REPLACE',\n\t'RESPECT',\n\t'RESTRICT',\n\t'REVOKE',\n\t'RIGHT',\n\t'RLIKE',\n\t'ROLE',\n\t'ROLES',\n\t'ROLLBACK',\n\t'ROLLUP',\n\t'ROW',\n\t'ROWS',\n\t'SCHEMA',\n\t'SECOND',\n\t'SELECT',\n\t'SEMI',\n\t'SEPARATED',\n\t'SERDE',\n\t'SERDEPROPERTIES',\n\t'SESSION_USER',\n\t'SETS',\n\t'SHOW',\n\t'SKEWED',\n\t'SOME',\n\t'SORT',\n\t'SORTED',\n\t'START',\n\t'STATISTICS',\n\t'STORED',\n\t'STRATIFY',\n\t'STRUCT',\n\t'SUBSTR',\n\t'SUBSTRING',\n\t'TABLE',\n\t'TABLES',\n\t'TBLPROPERTIES',\n\t'TEMPORARY',\n\t'TERMINATED',\n\t'TO',\n\t'TOUCH',\n\t'TRAILING',\n\t'TRANSACTION',\n\t'TRANSACTIONS',\n\t'TRIM',\n\t'TRUE',\n\t'TRUNCATE',\n\t'UNARCHIVE',\n\t'UNBOUNDED',\n\t'UNCACHE',\n\t'UNIQUE',\n\t'UNKNOWN',\n\t'UNLOCK',\n\t'UNSET',\n\t'USE',\n\t'USER',\n\t'USING',\n\t'VIEW',\n\t'WINDOW',\n\t'YEAR',\n\t// other\n\t'ANALYSE',\n\t'ARRAY_ZIP',\n\t'COALESCE',\n\t'CONTAINS',\n\t'CONVERT',\n\t'CURRENT ROW',\n\t'DAYS',\n\t'DAY_HOUR',\n\t'DAY_MINUTE',\n\t'DAY_SECOND',\n\t'DECODE',\n\t'DEFAULT',\n\t'DISTINCTROW',\n\t'ENCODE',\n\t'EXPLODE',\n\t'EXPLODE_OUTER',\n\t'FIXED',\n\t'GREATEST',\n\t'GROUP_CONCAT',\n\t'HOURS',\n\t'HOUR_MINUTE',\n\t'HOUR_SECOND',\n\t'IFNULL',\n\t'LEAST',\n\t'LEVEL',\n\t'MINUTE_SECOND',\n\t'NULLIF',\n\t'OFFSET',\n\t'ON DELETE',\n\t'ON UPDATE',\n\t'OPTIMIZE',\n\t'REGEXP',\n\t'SEPARATOR',\n\t'SIZE',\n\t'STRING',\n\t'TYPE',\n\t'TYPES',\n\t'UNSIGNED',\n\t'VARIABLES',\n\t'YEAR_MONTH',\n];\n\n/**\n * Priority 1 (first)\n * keywords that begin a new statement\n * will begin new indented block\n */\n// http://spark.apache.org/docs/latest/sql-ref-syntax.html\nconst reservedCommands = [\n\t// DDL\n\t'ALTER COLUMN',\n\t'ALTER DATABASE',\n\t'ALTER TABLE',\n\t'ALTER VIEW',\n\t'CREATE DATABASE',\n\t'CREATE FUNCTION',\n\t'CREATE TABLE',\n\t'CREATE VIEW',\n\t'DROP DATABASE',\n\t'DROP FUNCTION',\n\t'DROP TABLE',\n\t'DROP VIEW',\n\t'REPAIR TABLE',\n\t'TRUNCATE TABLE',\n\t'USE DATABASE',\n\t// DML\n\t'INSERT INTO',\n\t'INSERT OVERWRITE',\n\t'INSERT OVERWRITE DIRECTORY',\n\t'LOAD',\n\t// Data Retrieval\n\t'SELECT',\n\t'WITH',\n\t'CLUSTER BY',\n\t'DISTRIBUTE BY',\n\t'PARTITION BY', // verify\n\t'GROUP BY',\n\t'HAVING',\n\t'VALUES',\n\t'LIMIT',\n\t'OFFSET',\n\t'ORDER BY',\n\t'SORT BY',\n\t'TABLESAMPLE',\n\t'WHERE',\n\t'PIVOT',\n\t'TRANSFORM',\n\t'EXPLAIN',\n\t// Auxiliary\n\t'ADD FILE',\n\t'ADD JAR',\n\t'ANALYZE TABLE',\n\t'CACHE TABLE',\n\t'CLEAR CACHE',\n\t'DESCRIBE DATABASE',\n\t'DESCRIBE FUNCTION',\n\t'DESCRIBE QUERY',\n\t'DESCRIBE TABLE',\n\t'LIST FILE',\n\t'LIST JAR',\n\t'REFRESH',\n\t'REFRESH TABLE',\n\t'REFRESH FUNCTION',\n\t'RESET',\n\t'SET',\n\t'SET SCHEMA', // verify\n\t'SHOW COLUMNS',\n\t'SHOW CREATE TABLE',\n\t'SHOW DATABASES',\n\t'SHOW FUNCTIONS',\n\t'SHOW PARTITIONS',\n\t'SHOW TABLE EXTENDED',\n\t'SHOW TABLES',\n\t'SHOW TBLPROPERTIES',\n\t'SHOW VIEWS',\n\t'UNCACHE TABLE',\n\t// other\n\t'FROM',\n\t'INSERT',\n\t'UPDATE',\n\t'WINDOW', // verify\n];\n\n/**\n * Priority 2\n * commands that operate on two tables or subqueries\n * two main categories: joins and boolean set operators\n */\nconst reservedBinaryCommands = [\n\t// set booleans\n\t'INTERSECT',\n\t'INTERSECT ALL',\n\t'INTERSECT DISTINCT',\n\t'UNION',\n\t'UNION ALL',\n\t'UNION DISTINCT',\n\t'EXCEPT',\n\t'EXCEPT ALL',\n\t'EXCEPT DISTINCT',\n\t'MINUS',\n\t'MINUS ALL',\n\t'MINUS DISTINCT',\n\t// joins\n\t'JOIN',\n\t'INNER JOIN',\n\t'LEFT JOIN',\n\t'LEFT OUTER JOIN',\n\t'RIGHT JOIN',\n\t'RIGHT OUTER JOIN',\n\t'FULL JOIN',\n\t'FULL OUTER JOIN',\n\t'CROSS JOIN',\n\t'NATURAL JOIN',\n\t// apply\n\t'CROSS APPLY',\n\t'OUTER APPLY',\n\t// non-standard-joins\n\t'ANTI JOIN',\n\t'SEMI JOIN',\n\t'LEFT ANTI JOIN',\n\t'LEFT SEMI JOIN',\n\t'RIGHT OUTER JOIN',\n\t'RIGHT SEMI JOIN',\n\t'NATURAL ANTI JOIN',\n\t'NATURAL FULL OUTER JOIN',\n\t'NATURAL INNER JOIN',\n\t'NATURAL LEFT ANTI JOIN',\n\t'NATURAL LEFT OUTER JOIN',\n\t'NATURAL LEFT SEMI JOIN',\n\t'NATURAL OUTER JOIN',\n\t'NATURAL RIGHT OUTER JOIN',\n\t'NATURAL RIGHT SEMI JOIN',\n\t'NATURAL SEMI JOIN',\n\t'CROSS APPLY',\n\t'OUTER APPLY',\n];\n\n/**\n * Priority 3\n * keywords that follow a previous Statement, must be attached to subsequent data\n * can be fully inline or on newline with optional indent\n */\nconst reservedDependentClauses = ['ON', 'WHEN', 'THEN', 'ELSE', 'LATERAL VIEW'];\n\n// http://spark.apache.org/docs/latest/sql-programming-guide.html\nexport default class SparkSqlFormatter extends Formatter {\n\tstatic reservedCommands = reservedCommands;\n\tstatic reservedBinaryCommands = reservedBinaryCommands;\n\tstatic reservedDependentClauses = reservedDependentClauses;\n\tstatic reservedLogicalOperators = ['AND', 'OR', 'XOR'];\n\tstatic reservedKeywords = dedupe([\n\t\t...Object.values(reservedFunctions).reduce((acc, arr) => [...acc, ...arr], []),\n\t\t...reservedKeywords,\n\t]);\n\tstatic stringTypes: StringPatternType[] = [`\"\"`, \"''\", '``', '{}'];\n\tstatic blockStart = ['(', 'CASE'];\n\tstatic blockEnd = [')', 'END'];\n\tstatic indexedPlaceholderTypes = ['?'];\n\tstatic namedPlaceholderTypes = ['$'];\n\tstatic lineCommentTypes = ['--'];\n\tstatic operators = ['<=>', '&&', '||', '==', '->'];\n\n\ttokenizer() {\n\t\treturn new Tokenizer({\n\t\t\treservedCommands: SparkSqlFormatter.reservedCommands,\n\t\t\treservedBinaryCommands: SparkSqlFormatter.reservedBinaryCommands,\n\t\t\treservedDependentClauses: SparkSqlFormatter.reservedDependentClauses,\n\t\t\treservedLogicalOperators: SparkSqlFormatter.reservedLogicalOperators,\n\t\t\treservedKeywords: SparkSqlFormatter.reservedKeywords,\n\t\t\tstringTypes: SparkSqlFormatter.stringTypes,\n\t\t\tblockStart: SparkSqlFormatter.blockStart,\n\t\t\tblockEnd: SparkSqlFormatter.blockEnd,\n\t\t\tindexedPlaceholderTypes: SparkSqlFormatter.indexedPlaceholderTypes,\n\t\t\tnamedPlaceholderTypes: SparkSqlFormatter.namedPlaceholderTypes,\n\t\t\tlineCommentTypes: SparkSqlFormatter.lineCommentTypes,\n\t\t\toperators: SparkSqlFormatter.operators,\n\t\t});\n\t}\n\n\ttokenOverride(token: Token) {\n\t\t// [WINDOW](...)\n\t\tif (isToken.WINDOW(token) && this.tokenLookAhead()?.type === TokenType.BLOCK_START) {\n\t\t\t// This is a function call, treat it as a reserved word\n\t\t\treturn { type: TokenType.RESERVED_KEYWORD, value: token.value };\n\t\t}\n\n\t\t// .[END]\n\t\tif (isToken.END(token) && this.tokenLookBehind()?.value === '.') {\n\t\t\t// This is window().end (or similar) not CASE ... END\n\t\t\treturn { type: TokenType.WORD, value: token.value };\n\t\t}\n\n\t\t// TODO: deprecate this once ITEMS is merged with COLLECTION\n\t\tif (/ITEMS/i.test(token.value) && token.type === TokenType.RESERVED_KEYWORD) {\n\t\t\tif (\n\t\t\t\t!(\n\t\t\t\t\t/COLLECTION/i.test(this.tokenLookBehind()?.value) &&\n\t\t\t\t\t/TERMINATED/i.test(this.tokenLookAhead()?.value)\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\t// this is a word and not COLLECTION ITEMS\n\t\t\t\treturn { type: TokenType.WORD, value: token.value };\n\t\t\t}\n\t\t}\n\n\t\treturn token;\n\t}\n}\n","import Formatter from '../core/Formatter';\nimport Tokenizer from '../core/Tokenizer';\nimport type { StringPatternType } from '../core/regexFactory';\nimport { dedupe } from '../utils';\n\n/**\n * Priority 5 (last)\n * Full list of reserved words\n * any words that are in a higher priority are removed\n */\n// https://jakewheat.github.io/sql-overview/sql-2008-foundation-grammar.html#reserved-word\nconst reservedKeywords = [\n\t'ABS',\n\t'ALL',\n\t'ALLOCATE',\n\t'ALTER',\n\t'ANY',\n\t'ARE',\n\t'ARRAY',\n\t'AS',\n\t'ASENSITIVE',\n\t'ASYMMETRIC',\n\t'AT',\n\t'ATOMIC',\n\t'AUTHORIZATION',\n\t'AVG',\n\t'BEGIN',\n\t'BETWEEN',\n\t'BIGINT',\n\t'BINARY',\n\t'BLOB',\n\t'BOOLEAN',\n\t'BOTH',\n\t'BY',\n\t'CALL',\n\t'CALLED',\n\t'CARDINALITY',\n\t'CASCADED',\n\t'CAST',\n\t'CEIL',\n\t'CEILING',\n\t'CHAR',\n\t'CHARACTER',\n\t'CHARACTER_LENGTH',\n\t'CHAR_LENGTH',\n\t'CHECK',\n\t'CLOB',\n\t'CLOSE',\n\t'COALESCE',\n\t'COLLATE',\n\t'COLLECT',\n\t'COLUMN',\n\t'COMMIT',\n\t'CONDITION',\n\t'CONNECT',\n\t'CONSTRAINT',\n\t'CONVERT',\n\t'CORR',\n\t'CORRESPONDING',\n\t'COUNT',\n\t'COVAR_POP',\n\t'COVAR_SAMP',\n\t'CREATE',\n\t'CROSS',\n\t'CUBE',\n\t'CUME_DIST',\n\t'CURRENT',\n\t'CURRENT_CATALOG',\n\t'CURRENT_DATE',\n\t'CURRENT_DEFAULT_TRANSFORM_GROUP',\n\t'CURRENT_PATH',\n\t'CURRENT_ROLE',\n\t'CURRENT_SCHEMA',\n\t'CURRENT_TIME',\n\t'CURRENT_TIMESTAMP',\n\t'CURRENT_TRANSFORM_GROUP_FOR_TYPE',\n\t'CURRENT_USER',\n\t'CURSOR',\n\t'CYCLE',\n\t'DATE',\n\t'DAY',\n\t'DEALLOCATE',\n\t'DEC',\n\t'DECIMAL',\n\t'DECLARE',\n\t'DEFAULT',\n\t'DELETE',\n\t'DENSE_RANK',\n\t'DEREF',\n\t'DESCRIBE',\n\t'DETERMINISTIC',\n\t'DISCONNECT',\n\t'DISTINCT',\n\t'DOUBLE',\n\t'DROP',\n\t'DYNAMIC',\n\t'EACH',\n\t'ELEMENT',\n\t'END-EXEC',\n\t'ESCAPE',\n\t'EVERY',\n\t'EXCEPT',\n\t'EXEC',\n\t'EXECUTE',\n\t'EXISTS',\n\t'EXP',\n\t'EXTERNAL',\n\t'EXTRACT',\n\t'FALSE',\n\t'FETCH',\n\t'FILTER',\n\t'FLOAT',\n\t'FLOOR',\n\t'FOR',\n\t'FOREIGN',\n\t'FREE',\n\t'FROM',\n\t'FULL',\n\t'FUNCTION',\n\t'FUSION',\n\t'GET',\n\t'GLOBAL',\n\t'GRANT',\n\t'GROUP',\n\t'GROUPING',\n\t'HAVING',\n\t'HOLD',\n\t'HOUR',\n\t'IDENTITY',\n\t'IN',\n\t'INDICATOR',\n\t'INNER',\n\t'INOUT',\n\t'INSENSITIVE',\n\t'INSERT',\n\t'INT',\n\t'INTEGER',\n\t'INTERSECT',\n\t'INTERSECTION',\n\t'INTERVAL',\n\t'INTO',\n\t'IS',\n\t'LANGUAGE',\n\t'LARGE',\n\t'LATERAL',\n\t'LEADING',\n\t'LEFT',\n\t'LIKE',\n\t'LIKE_REGEX',\n\t'LN',\n\t'LOCAL',\n\t'LOCALTIME',\n\t'LOCALTIMESTAMP',\n\t'LOWER',\n\t'MATCH',\n\t'MAX',\n\t'MEMBER',\n\t'MERGE',\n\t'METHOD',\n\t'MIN',\n\t'MINUTE',\n\t'MOD',\n\t'MODIFIES',\n\t'MODULE',\n\t'MONTH',\n\t'MULTISET',\n\t'NATIONAL',\n\t'NATURAL',\n\t'NCHAR',\n\t'NCLOB',\n\t'NEW',\n\t'NO',\n\t'NONE',\n\t'NORMALIZE',\n\t'NOT',\n\t'NULL',\n\t'NULLIF',\n\t'NUMERIC',\n\t'OCCURRENCES_REGEX',\n\t'OCTET_LENGTH',\n\t'OF',\n\t'OLD',\n\t'ONLY',\n\t'OPEN',\n\t'ORDER',\n\t'OUT',\n\t'OUTER',\n\t'OVER',\n\t'OVERLAPS',\n\t'OVERLAY',\n\t'PARAMETER',\n\t'PARTITION',\n\t'PERCENTILE_CONT',\n\t'PERCENTILE_DISC',\n\t'PERCENT_RANK',\n\t'POSITION',\n\t'POSITION_REGEX',\n\t'POWER',\n\t'PRECISION',\n\t'PREPARE',\n\t'PRIMARY',\n\t'PROCEDURE',\n\t'RANGE',\n\t'RANK',\n\t'READS',\n\t'REAL',\n\t'RECURSIVE',\n\t'REF',\n\t'REFERENCES',\n\t'REFERENCING',\n\t'REGR_AVGX',\n\t'REGR_AVGY',\n\t'REGR_COUNT',\n\t'REGR_INTERCEPT',\n\t'REGR_R2',\n\t'REGR_SLOPE',\n\t'REGR_SXX',\n\t'REGR_SXY',\n\t'REGR_SYY',\n\t'RELEASE',\n\t'RESULT',\n\t'RETURN',\n\t'RETURNS',\n\t'REVOKE',\n\t'RIGHT',\n\t'ROLLBACK',\n\t'ROLLUP',\n\t'ROW',\n\t'ROWS',\n\t'ROW_NUMBER',\n\t'SAVEPOINT',\n\t'SCOPE',\n\t'SCROLL',\n\t'SEARCH',\n\t'SECOND',\n\t'SELECT',\n\t'SENSITIVE',\n\t'SESSION_USER',\n\t'SET',\n\t'SIMILAR',\n\t'SMALLINT',\n\t'SOME',\n\t'SPECIFIC',\n\t'SPECIFICTYPE',\n\t'SQL',\n\t'SQLEXCEPTION',\n\t'SQLSTATE',\n\t'SQLWARNING',\n\t'SQRT',\n\t'START',\n\t'STATIC',\n\t'STDDEV_POP',\n\t'STDDEV_SAMP',\n\t'SUBMULTISET',\n\t'SUBSTRING',\n\t'SUBSTRING_REGEX',\n\t'SUM',\n\t'SYMMETRIC',\n\t'SYSTEM',\n\t'SYSTEM_USER',\n\t'TABLE',\n\t'TABLESAMPLE',\n\t'TIME',\n\t'TIMESTAMP',\n\t'TIMEZONE_HOUR',\n\t'TIMEZONE_MINUTE',\n\t'TO',\n\t'TRAILING',\n\t'TRANSLATE',\n\t'TRANSLATE_REGEX',\n\t'TRANSLATION',\n\t'TREAT',\n\t'TRIGGER',\n\t'TRIM',\n\t'TRUE',\n\t'UESCAPE',\n\t'UNION',\n\t'UNIQUE',\n\t'UNKNOWN',\n\t'UNNEST',\n\t'UPDATE',\n\t'UPPER',\n\t'USER',\n\t'USING',\n\t'VALUE',\n\t'VALUES',\n\t'VARBINARY',\n\t'VARCHAR',\n\t'VARYING',\n\t'VAR_POP',\n\t'VAR_SAMP',\n\t'WHENEVER',\n\t'WIDTH_BUCKET',\n\t'WINDOW',\n\t'WITHIN',\n\t'WITHOUT',\n\t'YEAR',\n];\n\n/**\n * Priority 1 (first)\n * keywords that begin a new statement\n * will begin new indented block\n */\nconst reservedCommands = [\n\t'ADD',\n\t'ALTER COLUMN',\n\t'ALTER TABLE',\n\t'CREATE TABLE',\n\t'DROP TABLE',\n\t'END',\n\t'FETCH FIRST',\n\t'FETCH NEXT',\n\t'FETCH PRIOR',\n\t'FETCH LAST',\n\t'FETCH ABSOLUTE',\n\t'FETCH RELATIVE',\n\t'FROM',\n\t'GROUP BY',\n\t'HAVING',\n\t'INSERT INTO',\n\t'LIMIT',\n\t'OFFSET',\n\t'ORDER BY',\n\t'SELECT',\n\t'SET SCHEMA',\n\t'SET',\n\t'UPDATE',\n\t'VALUES',\n\t'WHERE',\n\t'WITH',\n];\n\n/**\n * Priority 2\n * commands that operate on two tables or subqueries\n * two main categories: joins and boolean set operators\n */\nconst reservedBinaryCommands = [\n\t// set booleans\n\t'INTERSECT',\n\t'INTERSECT ALL',\n\t'INTERSECT DISTINCT',\n\t'UNION',\n\t'UNION ALL',\n\t'UNION DISTINCT',\n\t'EXCEPT',\n\t'EXCEPT ALL',\n\t'EXCEPT DISTINCT',\n\t// joins\n\t'JOIN',\n\t'INNER JOIN',\n\t'LEFT JOIN',\n\t'LEFT OUTER JOIN',\n\t'RIGHT JOIN',\n\t'RIGHT OUTER JOIN',\n\t'FULL JOIN',\n\t'FULL OUTER JOIN',\n\t'CROSS JOIN',\n\t'NATURAL JOIN',\n];\n\n/**\n * Priority 3\n * keywords that follow a previous Statement, must be attached to subsequent data\n * can be fully inline or on newline with optional indent\n */\nconst reservedDependentClauses = ['ON', 'WHEN', 'THEN', 'ELSE'];\n\nexport default class StandardSqlFormatter extends Formatter {\n\tstatic reservedCommands = reservedCommands;\n\tstatic reservedBinaryCommands = reservedBinaryCommands;\n\tstatic reservedDependentClauses = reservedDependentClauses;\n\tstatic reservedLogicalOperators = ['AND', 'OR'];\n\tstatic reservedKeywords = dedupe(reservedKeywords);\n\tstatic stringTypes: StringPatternType[] = [`\"\"`, \"''\", '``'];\n\tstatic blockStart = ['(', 'CASE'];\n\tstatic blockEnd = [')', 'END'];\n\tstatic indexedPlaceholderTypes = ['?'];\n\tstatic namedPlaceholderTypes = [];\n\tstatic lineCommentTypes = ['--'];\n\n\ttokenizer() {\n\t\treturn new Tokenizer({\n\t\t\treservedCommands: StandardSqlFormatter.reservedCommands,\n\t\t\treservedBinaryCommands: StandardSqlFormatter.reservedBinaryCommands,\n\t\t\treservedDependentClauses: StandardSqlFormatter.reservedDependentClauses,\n\t\t\treservedLogicalOperators: StandardSqlFormatter.reservedLogicalOperators,\n\t\t\treservedKeywords: StandardSqlFormatter.reservedKeywords,\n\t\t\tstringTypes: StandardSqlFormatter.stringTypes,\n\t\t\tblockStart: StandardSqlFormatter.blockStart,\n\t\t\tblockEnd: StandardSqlFormatter.blockEnd,\n\t\t\tindexedPlaceholderTypes: StandardSqlFormatter.indexedPlaceholderTypes,\n\t\t\tnamedPlaceholderTypes: StandardSqlFormatter.namedPlaceholderTypes,\n\t\t\tlineCommentTypes: StandardSqlFormatter.lineCommentTypes,\n\t\t});\n\t}\n}\n","import Formatter from '../core/Formatter';\nimport Tokenizer from '../core/Tokenizer';\nimport type { StringPatternType } from '../core/regexFactory';\nimport { dedupe } from '../utils';\n\n/**\n * Priority 5 (last)\n * Full list of reserved functions\n * distinct from Keywords due to interaction with parentheses\n */\n// https://docs.microsoft.com/en-us/sql/t-sql/functions/functions?view=sql-server-ver15\nconst reservedFunctions = {\n\taggregate: [\n\t\t'APPROX_COUNT_DISTINCT',\n\t\t'AVG',\n\t\t'CHECKSUM_AGG',\n\t\t'COUNT',\n\t\t'COUNT_BIG',\n\t\t'GROUPING',\n\t\t'GROUPING_ID',\n\t\t'MAX',\n\t\t'MIN',\n\t\t'STDEV',\n\t\t'STDEVP',\n\t\t'SUM',\n\t\t'VAR',\n\t\t'VARP',\n\t],\n\tanalytic: [\n\t\t'CUME_DIST',\n\t\t'FIRST_VALUE',\n\t\t'LAG',\n\t\t'LAST_VALUE',\n\t\t'LEAD',\n\t\t'PERCENTILE_CONT',\n\t\t'PERCENTILE_DISC',\n\t\t'PERCENT_RANK',\n\t\t'Collation - COLLATIONPROPERTY',\n\t\t'Collation - TERTIARY_WEIGHTS',\n\t],\n\tconfiguration: [\n\t\t'@@DBTS',\n\t\t'@@LANGID',\n\t\t'@@LANGUAGE',\n\t\t'@@LOCK_TIMEOUT',\n\t\t'@@MAX_CONNECTIONS',\n\t\t'@@MAX_PRECISION',\n\t\t'@@NESTLEVEL',\n\t\t'@@OPTIONS',\n\t\t'@@REMSERVER',\n\t\t'@@SERVERNAME',\n\t\t'@@SERVICENAME',\n\t\t'@@SPID',\n\t\t'@@TEXTSIZE',\n\t\t'@@VERSION',\n\t],\n\tconversion: ['CAST', 'CONVERT', 'PARSE', 'TRY_CAST', 'TRY_CONVERT', 'TRY_PARSE'],\n\tcryptographic: [\n\t\t'ASYMKEY_ID',\n\t\t'ASYMKEYPROPERTY',\n\t\t'CERTPROPERTY',\n\t\t'CERT_ID',\n\t\t'CRYPT_GEN_RANDOM',\n\t\t'DECRYPTBYASYMKEY',\n\t\t'DECRYPTBYCERT',\n\t\t'DECRYPTBYKEY',\n\t\t'DECRYPTBYKEYAUTOASYMKEY',\n\t\t'DECRYPTBYKEYAUTOCERT',\n\t\t'DECRYPTBYPASSPHRASE',\n\t\t'ENCRYPTBYASYMKEY',\n\t\t'ENCRYPTBYCERT',\n\t\t'ENCRYPTBYKEY',\n\t\t'ENCRYPTBYPASSPHRASE',\n\t\t'HASHBYTES',\n\t\t'IS_OBJECTSIGNED',\n\t\t'KEY_GUID',\n\t\t'KEY_ID',\n\t\t'KEY_NAME',\n\t\t'SIGNBYASYMKEY',\n\t\t'SIGNBYCERT',\n\t\t'SYMKEYPROPERTY',\n\t\t'VERIFYSIGNEDBYCERT',\n\t\t'VERIFYSIGNEDBYASYMKEY',\n\t],\n\tcursor: ['@@CURSOR_ROWS', '@@FETCH_STATUS', 'CURSOR_STATUS'],\n\tdataType: [\n\t\t'DATALENGTH',\n\t\t'IDENT_CURRENT',\n\t\t'IDENT_INCR',\n\t\t'IDENT_SEED',\n\t\t'IDENTITY',\n\t\t'SQL_VARIANT_PROPERTY',\n\t],\n\tdatetime: [\n\t\t'@@DATEFIRST',\n\t\t'CURRENT_TIMESTAMP',\n\t\t'CURRENT_TIMEZONE',\n\t\t'CURRENT_TIMEZONE_ID',\n\t\t'DATEADD',\n\t\t'DATEDIFF',\n\t\t'DATEDIFF_BIG',\n\t\t'DATEFROMPARTS',\n\t\t'DATENAME',\n\t\t'DATEPART',\n\t\t'DATETIME2FROMPARTS',\n\t\t'DATETIMEFROMPARTS',\n\t\t'DATETIMEOFFSETFROMPARTS',\n\t\t'DAY',\n\t\t'EOMONTH',\n\t\t'GETDATE',\n\t\t'GETUTCDATE',\n\t\t'ISDATE',\n\t\t'MONTH',\n\t\t'SMALLDATETIMEFROMPARTS',\n\t\t'SWITCHOFFSET',\n\t\t'SYSDATETIME',\n\t\t'SYSDATETIMEOFFSET',\n\t\t'SYSUTCDATETIME',\n\t\t'TIMEFROMPARTS',\n\t\t'TODATETIMEOFFSET',\n\t\t'YEAR',\n\t\t'JSON',\n\t\t'ISJSON',\n\t\t'JSON_VALUE',\n\t\t'JSON_QUERY',\n\t\t'JSON_MODIFY',\n\t],\n\tmathematical: [\n\t\t'ABS',\n\t\t'ACOS',\n\t\t'ASIN',\n\t\t'ATAN',\n\t\t'ATN2',\n\t\t'CEILING',\n\t\t'COS',\n\t\t'COT',\n\t\t'DEGREES',\n\t\t'EXP',\n\t\t'FLOOR',\n\t\t'LOG',\n\t\t'LOG10',\n\t\t'PI',\n\t\t'POWER',\n\t\t'RADIANS',\n\t\t'RAND',\n\t\t'ROUND',\n\t\t'SIGN',\n\t\t'SIN',\n\t\t'SQRT',\n\t\t'SQUARE',\n\t\t'TAN',\n\t\t'CHOOSE',\n\t\t'GREATEST',\n\t\t'IIF',\n\t\t'LEAST',\n\t],\n\tmetadata: [\n\t\t'@@PROCID',\n\t\t'APP_NAME',\n\t\t'APPLOCK_MODE',\n\t\t'APPLOCK_TEST',\n\t\t'ASSEMBLYPROPERTY',\n\t\t'COL_LENGTH',\n\t\t'COL_NAME',\n\t\t'COLUMNPROPERTY',\n\t\t'DATABASEPROPERTYEX',\n\t\t'DB_ID',\n\t\t'DB_NAME',\n\t\t'FILE_ID',\n\t\t'FILE_IDEX',\n\t\t'FILE_NAME',\n\t\t'FILEGROUP_ID',\n\t\t'FILEGROUP_NAME',\n\t\t'FILEGROUPPROPERTY',\n\t\t'FILEPROPERTY',\n\t\t'FILEPROPERTYEX',\n\t\t'FULLTEXTCATALOGPROPERTY',\n\t\t'FULLTEXTSERVICEPROPERTY',\n\t\t'INDEX_COL',\n\t\t'INDEXKEY_PROPERTY',\n\t\t'INDEXPROPERTY',\n\t\t'NEXT VALUE FOR',\n\t\t'OBJECT_DEFINITION',\n\t\t'OBJECT_ID',\n\t\t'OBJECT_NAME',\n\t\t'OBJECT_SCHEMA_NAME',\n\t\t'OBJECTPROPERTY',\n\t\t'OBJECTPROPERTYEX',\n\t\t'ORIGINAL_DB_NAME',\n\t\t'PARSENAME',\n\t\t'SCHEMA_ID',\n\t\t'SCHEMA_NAME',\n\t\t'SCOPE_IDENTITY',\n\t\t'SERVERPROPERTY',\n\t\t'STATS_DATE',\n\t\t'TYPE_ID',\n\t\t'TYPE_NAME',\n\t\t'TYPEPROPERTY',\n\t],\n\tranking: ['DENSE_RANK', 'NTILE', 'RANK', 'ROW_NUMBER', 'PUBLISHINGSERVERNAME'],\n\tsecurity: [\n\t\t'CERTENCODED',\n\t\t'CERTPRIVATEKEY',\n\t\t'CURRENT_USER',\n\t\t'DATABASE_PRINCIPAL_ID',\n\t\t'HAS_DBACCESS',\n\t\t'HAS_PERMS_BY_NAME',\n\t\t'IS_MEMBER',\n\t\t'IS_ROLEMEMBER',\n\t\t'IS_SRVROLEMEMBER',\n\t\t'LOGINPROPERTY',\n\t\t'ORIGINAL_LOGIN',\n\t\t'PERMISSIONS',\n\t\t'PWDENCRYPT',\n\t\t'PWDCOMPARE',\n\t\t'SESSION_USER',\n\t\t'SESSIONPROPERTY',\n\t\t'SUSER_ID',\n\t\t'SUSER_NAME',\n\t\t'SUSER_SID',\n\t\t'SUSER_SNAME',\n\t\t'SYSTEM_USER',\n\t\t'USER',\n\t\t'USER_ID',\n\t\t'USER_NAME',\n\t],\n\tstring: [\n\t\t'ASCII',\n\t\t'CHAR',\n\t\t'CHARINDEX',\n\t\t'CONCAT',\n\t\t'CONCAT_WS',\n\t\t'DIFFERENCE',\n\t\t'FORMAT',\n\t\t'LEFT',\n\t\t'LEN',\n\t\t'LOWER',\n\t\t'LTRIM',\n\t\t'NCHAR',\n\t\t'PATINDEX',\n\t\t'QUOTENAME',\n\t\t'REPLACE',\n\t\t'REPLICATE',\n\t\t'REVERSE',\n\t\t'RIGHT',\n\t\t'RTRIM',\n\t\t'SOUNDEX',\n\t\t'SPACE',\n\t\t'STR',\n\t\t'STRING_AGG',\n\t\t'STRING_ESCAPE',\n\t\t'STUFF',\n\t\t'SUBSTRING',\n\t\t'TRANSLATE',\n\t\t'TRIM',\n\t\t'UNICODE',\n\t\t'UPPER',\n\t],\n\tsystem: [\n\t\t'$PARTITION',\n\t\t'@@ERROR',\n\t\t'@@IDENTITY',\n\t\t'@@PACK_RECEIVED',\n\t\t'@@ROWCOUNT',\n\t\t'@@TRANCOUNT',\n\t\t'BINARY_CHECKSUM',\n\t\t'CHECKSUM',\n\t\t'COMPRESS',\n\t\t'CONNECTIONPROPERTY',\n\t\t'CONTEXT_INFO',\n\t\t'CURRENT_REQUEST_ID',\n\t\t'CURRENT_TRANSACTION_ID',\n\t\t'DECOMPRESS',\n\t\t'ERROR_LINE',\n\t\t'ERROR_MESSAGE',\n\t\t'ERROR_NUMBER',\n\t\t'ERROR_PROCEDURE',\n\t\t'ERROR_SEVERITY',\n\t\t'ERROR_STATE',\n\t\t'FORMATMESSAGE',\n\t\t'GET_FILESTREAM_TRANSACTION_CONTEXT',\n\t\t'GETANSINULL',\n\t\t'HOST_ID',\n\t\t'HOST_NAME',\n\t\t'ISNULL',\n\t\t'ISNUMERIC',\n\t\t'MIN_ACTIVE_ROWVERSION',\n\t\t'NEWID',\n\t\t'NEWSEQUENTIALID',\n\t\t'ROWCOUNT_BIG',\n\t\t'SESSION_CONTEXT',\n\t\t'XACT_STATE',\n\t],\n\tstatistical: [\n\t\t'@@CONNECTIONS',\n\t\t'@@CPU_BUSY',\n\t\t'@@IDLE',\n\t\t'@@IO_BUSY',\n\t\t'@@PACK_SENT',\n\t\t'@@PACKET_ERRORS',\n\t\t'@@TIMETICKS',\n\t\t'@@TOTAL_ERRORS',\n\t\t'@@TOTAL_READ',\n\t\t'@@TOTAL_WRITE',\n\t\t'TEXTPTR',\n\t\t'TEXTVALID',\n\t],\n\ttrigger: ['COLUMNS_UPDATED', 'EVENTDATA', 'TRIGGER_NESTLEVEL', 'UPDATE'],\n};\n\n// TODO: dedupe these reserved word lists\n// https://docs.microsoft.com/en-us/sql/t-sql/language-elements/reserved-keywords-transact-sql?view=sql-server-ver15\n/**\n * Priority 5 (last)\n * Full list of reserved words\n * any words that are in a higher priority are removed\n */\nconst reservedKeywords = {\n\tstandard: [\n\t\t'ADD',\n\t\t'ALL',\n\t\t'ALTER',\n\t\t'AND',\n\t\t'ANY',\n\t\t'AS',\n\t\t'ASC',\n\t\t'AUTHORIZATION',\n\t\t'BACKUP',\n\t\t'BEGIN',\n\t\t'BETWEEN',\n\t\t'BREAK',\n\t\t'BROWSE',\n\t\t'BULK',\n\t\t'BY',\n\t\t'CASCADE',\n\t\t'CASE',\n\t\t'CHECK',\n\t\t'CHECKPOINT',\n\t\t'CLOSE',\n\t\t'CLUSTERED',\n\t\t'COALESCE',\n\t\t'COLLATE',\n\t\t'COLUMN',\n\t\t'COMMIT',\n\t\t'COMPUTE',\n\t\t'CONSTRAINT',\n\t\t'CONTAINS',\n\t\t'CONTAINSTABLE',\n\t\t'CONTINUE',\n\t\t'CONVERT',\n\t\t'CREATE',\n\t\t'CROSS',\n\t\t'CURRENT',\n\t\t'CURRENT_DATE',\n\t\t'CURRENT_TIME',\n\t\t'CURRENT_TIMESTAMP',\n\t\t'CURRENT_USER',\n\t\t'CURSOR',\n\t\t'DATABASE',\n\t\t'DBCC',\n\t\t'DEALLOCATE',\n\t\t'DECLARE',\n\t\t'DEFAULT',\n\t\t'DELETE',\n\t\t'DENY',\n\t\t'DESC',\n\t\t'DISK',\n\t\t'DISTINCT',\n\t\t'DISTRIBUTED',\n\t\t'DOUBLE',\n\t\t'DROP',\n\t\t'DUMP',\n\t\t'ERRLVL',\n\t\t'ESCAPE',\n\t\t'EXEC',\n\t\t'EXECUTE',\n\t\t'EXISTS',\n\t\t'EXIT',\n\t\t'EXTERNAL',\n\t\t'FETCH',\n\t\t'FILE',\n\t\t'FILLFACTOR',\n\t\t'FOR',\n\t\t'FOREIGN',\n\t\t'FREETEXT',\n\t\t'FREETEXTTABLE',\n\t\t'FROM',\n\t\t'FULL',\n\t\t'FUNCTION',\n\t\t'GOTO',\n\t\t'GRANT',\n\t\t'GROUP',\n\t\t'HAVING',\n\t\t'HOLDLOCK',\n\t\t'IDENTITY',\n\t\t'IDENTITYCOL',\n\t\t'IDENTITY_INSERT',\n\t\t'IF',\n\t\t'IN',\n\t\t'INDEX',\n\t\t'INNER',\n\t\t'INSERT',\n\t\t'INTERSECT',\n\t\t'INTO',\n\t\t'IS',\n\t\t'JOIN',\n\t\t'KEY',\n\t\t'KILL',\n\t\t'LEFT',\n\t\t'LIKE',\n\t\t'LINENO',\n\t\t'LOAD',\n\t\t'MERGE',\n\t\t'NATIONAL',\n\t\t'NOCHECK',\n\t\t'NONCLUSTERED',\n\t\t'NOT',\n\t\t'NULL',\n\t\t'NULLIF',\n\t\t'OF',\n\t\t'OFF',\n\t\t'OFFSETS',\n\t\t'OPEN',\n\t\t'OPENDATASOURCE',\n\t\t'OPENQUERY',\n\t\t'OPENROWSET',\n\t\t'OPENXML',\n\t\t'OPTION',\n\t\t'OR',\n\t\t'ORDER',\n\t\t'OUTER',\n\t\t'OVER',\n\t\t'PERCENT',\n\t\t'PIVOT',\n\t\t'PLAN',\n\t\t'PRECISION',\n\t\t'PRIMARY',\n\t\t'PRINT',\n\t\t'PROC',\n\t\t'PROCEDURE',\n\t\t'PUBLIC',\n\t\t'RAISERROR',\n\t\t'READ',\n\t\t'READTEXT',\n\t\t'RECONFIGURE',\n\t\t'REFERENCES',\n\t\t'REPLICATION',\n\t\t'RESTORE',\n\t\t'RESTRICT',\n\t\t'RETURN',\n\t\t'REVERT',\n\t\t'REVOKE',\n\t\t'RIGHT',\n\t\t'ROLLBACK',\n\t\t'ROWCOUNT',\n\t\t'ROWGUIDCOL',\n\t\t'RULE',\n\t\t'SAVE',\n\t\t'SCHEMA',\n\t\t'SECURITYAUDIT',\n\t\t'SELECT',\n\t\t'SEMANTICKEYPHRASETABLE',\n\t\t'SEMANTICSIMILARITYDETAILSTABLE',\n\t\t'SEMANTICSIMILARITYTABLE',\n\t\t'SESSION_USER',\n\t\t'SET',\n\t\t'SETUSER',\n\t\t'SHUTDOWN',\n\t\t'SOME',\n\t\t'STATISTICS',\n\t\t'SYSTEM_USER',\n\t\t'TABLE',\n\t\t'TABLESAMPLE',\n\t\t'TEXTSIZE',\n\t\t'TO',\n\t\t'TOP',\n\t\t'TRAN',\n\t\t'TRANSACTION',\n\t\t'TRIGGER',\n\t\t'TRUNCATE',\n\t\t'TRY_CONVERT',\n\t\t'TSEQUAL',\n\t\t'UNION',\n\t\t'UNIQUE',\n\t\t'UNPIVOT',\n\t\t'UPDATE',\n\t\t'UPDATETEXT',\n\t\t'USE',\n\t\t'USER',\n\t\t'VALUES',\n\t\t'VARYING',\n\t\t'VIEW',\n\t\t'WAITFOR',\n\t\t'WHERE',\n\t\t'WHILE',\n\t\t'WITH',\n\t\t'WITHIN GROUP',\n\t\t'WRITETEXT',\n\t],\n\todbc: [\n\t\t'ABSOLUTE',\n\t\t'ACTION',\n\t\t'ADA',\n\t\t'ADD',\n\t\t'ALL',\n\t\t'ALLOCATE',\n\t\t'ALTER',\n\t\t'AND',\n\t\t'ANY',\n\t\t'ARE',\n\t\t'AS',\n\t\t'ASC',\n\t\t'ASSERTION',\n\t\t'AT',\n\t\t'AUTHORIZATION',\n\t\t'AVG',\n\t\t'BEGIN',\n\t\t'BETWEEN',\n\t\t'BIT',\n\t\t'BIT_LENGTH',\n\t\t'BOTH',\n\t\t'BY',\n\t\t'CASCADE',\n\t\t'CASCADED',\n\t\t'CASE',\n\t\t'CAST',\n\t\t'CATALOG',\n\t\t'CHAR',\n\t\t'CHARACTER',\n\t\t'CHARACTER_LENGTH',\n\t\t'CHAR_LENGTH',\n\t\t'CHECK',\n\t\t'CLOSE',\n\t\t'COALESCE',\n\t\t'COLLATE',\n\t\t'COLLATION',\n\t\t'COLUMN',\n\t\t'COMMIT',\n\t\t'CONNECT',\n\t\t'CONNECTION',\n\t\t'CONSTRAINT',\n\t\t'CONSTRAINTS',\n\t\t'CONTINUE',\n\t\t'CONVERT',\n\t\t'CORRESPONDING',\n\t\t'COUNT',\n\t\t'CREATE',\n\t\t'CROSS',\n\t\t'CURRENT',\n\t\t'CURRENT_DATE',\n\t\t'CURRENT_TIME',\n\t\t'CURRENT_TIMESTAMP',\n\t\t'CURRENT_USER',\n\t\t'CURSOR',\n\t\t'DATE',\n\t\t'DAY',\n\t\t'DEALLOCATE',\n\t\t'DEC',\n\t\t'DECIMAL',\n\t\t'DECLARE',\n\t\t'DEFAULT',\n\t\t'DEFERRABLE',\n\t\t'DEFERRED',\n\t\t'DELETE',\n\t\t'DESC',\n\t\t'DESCRIBE',\n\t\t'DESCRIPTOR',\n\t\t'DIAGNOSTICS',\n\t\t'DISCONNECT',\n\t\t'DISTINCT',\n\t\t'DOMAIN',\n\t\t'DOUBLE',\n\t\t'DROP',\n\t\t'END-EXEC',\n\t\t'ESCAPE',\n\t\t'EXCEPTION',\n\t\t'EXEC',\n\t\t'EXECUTE',\n\t\t'EXISTS',\n\t\t'EXTERNAL',\n\t\t'EXTRACT',\n\t\t'FALSE',\n\t\t'FETCH',\n\t\t'FIRST',\n\t\t'FLOAT',\n\t\t'FOR',\n\t\t'FOREIGN',\n\t\t'FORTRAN',\n\t\t'FOUND',\n\t\t'FROM',\n\t\t'FULL',\n\t\t'GET',\n\t\t'GLOBAL',\n\t\t'GO',\n\t\t'GOTO',\n\t\t'GRANT',\n\t\t'GROUP',\n\t\t'HAVING',\n\t\t'HOUR',\n\t\t'IDENTITY',\n\t\t'IMMEDIATE',\n\t\t'IN',\n\t\t'INCLUDE',\n\t\t'INDEX',\n\t\t'INDICATOR',\n\t\t'INITIALLY',\n\t\t'INNER',\n\t\t'INPUT',\n\t\t'INSENSITIVE',\n\t\t'INSERT',\n\t\t'INT',\n\t\t'INTEGER',\n\t\t'INTERSECT',\n\t\t'INTERVAL',\n\t\t'INTO',\n\t\t'IS',\n\t\t'ISOLATION',\n\t\t'JOIN',\n\t\t'KEY',\n\t\t'LANGUAGE',\n\t\t'LAST',\n\t\t'LEADING',\n\t\t'LEFT',\n\t\t'LEVEL',\n\t\t'LIKE',\n\t\t'LOCAL',\n\t\t'LOWER',\n\t\t'MATCH',\n\t\t'MAX',\n\t\t'MIN',\n\t\t'MINUTE',\n\t\t'MODULE',\n\t\t'MONTH',\n\t\t'NAMES',\n\t\t'NATIONAL',\n\t\t'NATURAL',\n\t\t'NCHAR',\n\t\t'NEXT',\n\t\t'NO',\n\t\t'NONE',\n\t\t'NOT',\n\t\t'NULL',\n\t\t'NULLIF',\n\t\t'NUMERIC',\n\t\t'OCTET_LENGTH',\n\t\t'OF',\n\t\t'ONLY',\n\t\t'OPEN',\n\t\t'OPTION',\n\t\t'OR',\n\t\t'ORDER',\n\t\t'OUTER',\n\t\t'OUTPUT',\n\t\t'OVERLAPS',\n\t\t'PAD',\n\t\t'PARTIAL',\n\t\t'PASCAL',\n\t\t'POSITION',\n\t\t'PRECISION',\n\t\t'PREPARE',\n\t\t'PRESERVE',\n\t\t'PRIMARY',\n\t\t'PRIOR',\n\t\t'PRIVILEGES',\n\t\t'PROCEDURE',\n\t\t'PUBLIC',\n\t\t'READ',\n\t\t'REAL',\n\t\t'REFERENCES',\n\t\t'RELATIVE',\n\t\t'RESTRICT',\n\t\t'REVOKE',\n\t\t'RIGHT',\n\t\t'ROLLBACK',\n\t\t'ROWS',\n\t\t'SCHEMA',\n\t\t'SCROLL',\n\t\t'SECOND',\n\t\t'SECTION',\n\t\t'SELECT',\n\t\t'SESSION',\n\t\t'SESSION_USER',\n\t\t'SET',\n\t\t'SIZE',\n\t\t'SMALLINT',\n\t\t'SOME',\n\t\t'SPACE',\n\t\t'SQL',\n\t\t'SQLCA',\n\t\t'SQLCODE',\n\t\t'SQLERROR',\n\t\t'SQLSTATE',\n\t\t'SQLWARNING',\n\t\t'SUBSTRING',\n\t\t'SUM',\n\t\t'SYSTEM_USER',\n\t\t'TABLE',\n\t\t'TEMPORARY',\n\t\t'TIME',\n\t\t'TIMESTAMP',\n\t\t'TIMEZONE_HOUR',\n\t\t'TIMEZONE_MINUTE',\n\t\t'TO',\n\t\t'TRAILING',\n\t\t'TRANSACTION',\n\t\t'TRANSLATE',\n\t\t'TRANSLATION',\n\t\t'TRIM',\n\t\t'TRUE',\n\t\t'UNION',\n\t\t'UNIQUE',\n\t\t'UNKNOWN',\n\t\t'UPDATE',\n\t\t'UPPER',\n\t\t'USAGE',\n\t\t'USER',\n\t\t'USING',\n\t\t'VALUE',\n\t\t'VALUES',\n\t\t'VARCHAR',\n\t\t'VARYING',\n\t\t'VIEW',\n\t\t'WHENEVER',\n\t\t'WHERE',\n\t\t'WITH',\n\t\t'WORK',\n\t\t'WRITE',\n\t\t'YEAR',\n\t\t'ZONE',\n\t],\n\tfuture: [\n\t\t'ABSOLUTE',\n\t\t'ACTION',\n\t\t'ADMIN',\n\t\t'AFTER',\n\t\t'AGGREGATE',\n\t\t'ALIAS',\n\t\t'ALLOCATE',\n\t\t'ARE',\n\t\t'ARRAY',\n\t\t'ASENSITIVE',\n\t\t'ASSERTION',\n\t\t'ASYMMETRIC',\n\t\t'AT',\n\t\t'ATOMIC',\n\t\t'BEFORE',\n\t\t'BINARY',\n\t\t'BIT',\n\t\t'BLOB',\n\t\t'BOOLEAN',\n\t\t'BOTH',\n\t\t'BREADTH',\n\t\t'CALL',\n\t\t'CALLED',\n\t\t'CARDINALITY',\n\t\t'CASCADED',\n\t\t'CAST',\n\t\t'CATALOG',\n\t\t'CHAR',\n\t\t'CHARACTER',\n\t\t'CLASS',\n\t\t'CLOB',\n\t\t'COLLATION',\n\t\t'COLLECT',\n\t\t'COMPLETION',\n\t\t'CONDITION',\n\t\t'CONNECT',\n\t\t'CONNECTION',\n\t\t'CONSTRAINTS',\n\t\t'CONSTRUCTOR',\n\t\t'CORR',\n\t\t'CORRESPONDING',\n\t\t'COVAR_POP',\n\t\t'COVAR_SAMP',\n\t\t'CUBE',\n\t\t'CUME_DIST',\n\t\t'CURRENT_CATALOG',\n\t\t'CURRENT_DEFAULT_TRANSFORM_GROUP',\n\t\t'CURRENT_PATH',\n\t\t'CURRENT_ROLE',\n\t\t'CURRENT_SCHEMA',\n\t\t'CURRENT_TRANSFORM_GROUP_FOR_TYPE',\n\t\t'CYCLE',\n\t\t'DATA',\n\t\t'DATE',\n\t\t'DAY',\n\t\t'DEC',\n\t\t'DECIMAL',\n\t\t'DEFERRABLE',\n\t\t'DEFERRED',\n\t\t'DEPTH',\n\t\t'DEREF',\n\t\t'DESCRIBE',\n\t\t'DESCRIPTOR',\n\t\t'DESTROY',\n\t\t'DESTRUCTOR',\n\t\t'DETERMINISTIC',\n\t\t'DIAGNOSTICS',\n\t\t'DICTIONARY',\n\t\t'DISCONNECT',\n\t\t'DOMAIN',\n\t\t'DYNAMIC',\n\t\t'EACH',\n\t\t'ELEMENT',\n\t\t'END-EXEC',\n\t\t'EQUALS',\n\t\t'EVERY',\n\t\t'FALSE',\n\t\t'FILTER',\n\t\t'FIRST',\n\t\t'FLOAT',\n\t\t'FOUND',\n\t\t'FREE',\n\t\t'FULLTEXTTABLE',\n\t\t'FUSION',\n\t\t'GENERAL',\n\t\t'GET',\n\t\t'GLOBAL',\n\t\t'GO',\n\t\t'GROUPING',\n\t\t'HOLD',\n\t\t'HOST',\n\t\t'HOUR',\n\t\t'IGNORE',\n\t\t'IMMEDIATE',\n\t\t'INDICATOR',\n\t\t'INITIALIZE',\n\t\t'INITIALLY',\n\t\t'INOUT',\n\t\t'INPUT',\n\t\t'INT',\n\t\t'INTEGER',\n\t\t'INTERSECTION',\n\t\t'INTERVAL',\n\t\t'ISOLATION',\n\t\t'ITERATE',\n\t\t'LANGUAGE',\n\t\t'LARGE',\n\t\t'LAST',\n\t\t'LEADING',\n\t\t'LESS',\n\t\t'LEVEL',\n\t\t'LIKE_REGEX',\n\t\t'LIMIT',\n\t\t'LN',\n\t\t'LOCAL',\n\t\t'LOCALTIME',\n\t\t'LOCALTIMESTAMP',\n\t\t'LOCATOR',\n\t\t'MAP',\n\t\t'MATCH',\n\t\t'MEMBER',\n\t\t'METHOD',\n\t\t'MINUTE',\n\t\t'MOD',\n\t\t'MODIFIES',\n\t\t'MODIFY',\n\t\t'MODULE',\n\t\t'MONTH',\n\t\t'MULTISET',\n\t\t'NAMES',\n\t\t'NATURAL',\n\t\t'NCHAR',\n\t\t'NCLOB',\n\t\t'NEW',\n\t\t'NEXT',\n\t\t'NO',\n\t\t'NONE',\n\t\t'NORMALIZE',\n\t\t'NUMERIC',\n\t\t'OBJECT',\n\t\t'OCCURRENCES_REGEX',\n\t\t'OLD',\n\t\t'ONLY',\n\t\t'OPERATION',\n\t\t'ORDINALITY',\n\t\t'OUT',\n\t\t'OUTPUT',\n\t\t'OVERLAY',\n\t\t'PAD',\n\t\t'PARAMETER',\n\t\t'PARAMETERS',\n\t\t'PARTIAL',\n\t\t'PARTITION',\n\t\t'PATH',\n\t\t'PERCENTILE_CONT',\n\t\t'PERCENTILE_DISC',\n\t\t'PERCENT_RANK',\n\t\t'POSITION_REGEX',\n\t\t'POSTFIX',\n\t\t'PREFIX',\n\t\t'PREORDER',\n\t\t'PREPARE',\n\t\t'PRESERVE',\n\t\t'PRIOR',\n\t\t'PRIVILEGES',\n\t\t'RANGE',\n\t\t'READS',\n\t\t'REAL',\n\t\t'RECURSIVE',\n\t\t'REF',\n\t\t'REFERENCING',\n\t\t'REGR_AVGX',\n\t\t'REGR_AVGY',\n\t\t'REGR_COUNT',\n\t\t'REGR_INTERCEPT',\n\t\t'REGR_R2',\n\t\t'REGR_SLOPE',\n\t\t'REGR_SXX',\n\t\t'REGR_SXY',\n\t\t'REGR_SYY',\n\t\t'RELATIVE',\n\t\t'RELEASE',\n\t\t'RESULT',\n\t\t'RETURNS',\n\t\t'ROLE',\n\t\t'ROLLUP',\n\t\t'ROUTINE',\n\t\t'ROW',\n\t\t'ROWS',\n\t\t'SAVEPOINT',\n\t\t'SCOPE',\n\t\t'SCROLL',\n\t\t'SEARCH',\n\t\t'SECOND',\n\t\t'SECTION',\n\t\t'SENSITIVE',\n\t\t'SEQUENCE',\n\t\t'SESSION',\n\t\t'SETS',\n\t\t'SIMILAR',\n\t\t'SIZE',\n\t\t'SMALLINT',\n\t\t'SPACE',\n\t\t'SPECIFIC',\n\t\t'SPECIFICTYPE',\n\t\t'SQL',\n\t\t'SQLEXCEPTION',\n\t\t'SQLSTATE',\n\t\t'SQLWARNING',\n\t\t'START',\n\t\t'STATE',\n\t\t'STATEMENT',\n\t\t'STATIC',\n\t\t'STDDEV_POP',\n\t\t'STDDEV_SAMP',\n\t\t'STRUCTURE',\n\t\t'SUBMULTISET',\n\t\t'SUBSTRING_REGEX',\n\t\t'SYMMETRIC',\n\t\t'SYSTEM',\n\t\t'TEMPORARY',\n\t\t'TERMINATE',\n\t\t'THAN',\n\t\t'TIME',\n\t\t'TIMESTAMP',\n\t\t'TIMEZONE_HOUR',\n\t\t'TIMEZONE_MINUTE',\n\t\t'TRAILING',\n\t\t'TRANSLATE_REGEX',\n\t\t'TRANSLATION',\n\t\t'TREAT',\n\t\t'TRUE',\n\t\t'UESCAPE',\n\t\t'UNDER',\n\t\t'UNKNOWN',\n\t\t'UNNEST',\n\t\t'USAGE',\n\t\t'USING',\n\t\t'VALUE',\n\t\t'VARCHAR',\n\t\t'VARIABLE',\n\t\t'VAR_POP',\n\t\t'VAR_SAMP',\n\t\t'WHENEVER',\n\t\t'WIDTH_BUCKET',\n\t\t'WINDOW',\n\t\t'WITHIN',\n\t\t'WITHOUT',\n\t\t'WORK',\n\t\t'WRITE',\n\t\t'XMLAGG',\n\t\t'XMLATTRIBUTES',\n\t\t'XMLBINARY',\n\t\t'XMLCAST',\n\t\t'XMLCOMMENT',\n\t\t'XMLCONCAT',\n\t\t'XMLDOCUMENT',\n\t\t'XMLELEMENT',\n\t\t'XMLEXISTS',\n\t\t'XMLFOREST',\n\t\t'XMLITERATE',\n\t\t'XMLNAMESPACES',\n\t\t'XMLPARSE',\n\t\t'XMLPI',\n\t\t'XMLQUERY',\n\t\t'XMLSERIALIZE',\n\t\t'XMLTABLE',\n\t\t'XMLTEXT',\n\t\t'XMLVALIDATE',\n\t\t'YEAR',\n\t\t'ZONE',\n\t],\n};\n\n/**\n * Priority 1 (first)\n * keywords that begin a new statement\n * will begin new indented block\n */\n// https://docs.microsoft.com/en-us/sql/t-sql/statements/statements?view=sql-server-ver15\nconst reservedCommands = [\n\t'ADD SENSITIVITY CLASSIFICATION',\n\t'ADD SIGNATURE',\n\t'AGGREGATE',\n\t'ANSI_DEFAULTS',\n\t'ANSI_NULLS',\n\t'ANSI_NULL_DFLT_OFF',\n\t'ANSI_NULL_DFLT_ON',\n\t'ANSI_PADDING',\n\t'ANSI_WARNINGS',\n\t'APPLICATION ROLE',\n\t'ARITHABORT',\n\t'ARITHIGNORE',\n\t'ASSEMBLY',\n\t'ASYMMETRIC KEY',\n\t'AUTHORIZATION',\n\t'AVAILABILITY GROUP',\n\t'BACKUP',\n\t'BACKUP CERTIFICATE',\n\t'BACKUP MASTER KEY',\n\t'BACKUP SERVICE MASTER KEY',\n\t'BEGIN CONVERSATION TIMER',\n\t'BEGIN DIALOG CONVERSATION',\n\t'BROKER PRIORITY',\n\t'BULK INSERT',\n\t'CERTIFICATE',\n\t'CLOSE MASTER KEY',\n\t'CLOSE SYMMETRIC KEY',\n\t'COLLATE',\n\t'COLUMN ENCRYPTION KEY',\n\t'COLUMN MASTER KEY',\n\t'COLUMNSTORE INDEX',\n\t'CONCAT_NULL_YIELDS_NULL',\n\t'CONTEXT_INFO',\n\t'CONTRACT',\n\t'CREDENTIAL',\n\t'CRYPTOGRAPHIC PROVIDER',\n\t'CURSOR_CLOSE_ON_COMMIT',\n\t'DATABASE',\n\t'DATABASE AUDIT SPECIFICATION',\n\t'DATABASE ENCRYPTION KEY',\n\t'DATABASE HADR',\n\t'DATABASE SCOPED CONFIGURATION',\n\t'DATABASE SCOPED CREDENTIAL',\n\t'DATABASE SET',\n\t'DATEFIRST',\n\t'DATEFORMAT',\n\t'DEADLOCK_PRIORITY',\n\t'DEFAULT',\n\t'DELETE',\n\t'DENY',\n\t'DENY XML',\n\t'DISABLE TRIGGER',\n\t'ENABLE TRIGGER',\n\t'END CONVERSATION',\n\t'ENDPOINT',\n\t'EVENT NOTIFICATION',\n\t'EVENT SESSION',\n\t'EXECUTE AS',\n\t'EXTERNAL DATA SOURCE',\n\t'EXTERNAL FILE FORMAT',\n\t'EXTERNAL LANGUAGE',\n\t'EXTERNAL LIBRARY',\n\t'EXTERNAL RESOURCE POOL',\n\t'EXTERNAL TABLE',\n\t'FIPS_FLAGGER',\n\t'FMTONLY',\n\t'FORCEPLAN',\n\t'FULLTEXT CATALOG',\n\t'FULLTEXT INDEX',\n\t'FULLTEXT STOPLIST',\n\t'FUNCTION',\n\t'GET CONVERSATION GROUP',\n\t'GET_TRANSMISSION_STATUS',\n\t'GRANT',\n\t'GRANT XML',\n\t'IDENTITY_INSERT',\n\t'IMPLICIT_TRANSACTIONS',\n\t'INDEX',\n\t'INSERT',\n\t'LANGUAGE',\n\t'LOCK_TIMEOUT',\n\t'LOGIN',\n\t'MASTER KEY',\n\t'MERGE',\n\t'MESSAGE TYPE',\n\t'MOVE CONVERSATION',\n\t'NOCOUNT',\n\t'NOEXEC',\n\t'NUMERIC_ROUNDABORT',\n\t'OFFSETS',\n\t'OPEN MASTER KEY',\n\t'OPEN SYMMETRIC KEY',\n\t'PARSEONLY',\n\t'PARTITION FUNCTION',\n\t'PARTITION SCHEME',\n\t'PROCEDURE',\n\t'QUERY_GOVERNOR_COST_LIMIT',\n\t'QUEUE',\n\t'QUOTED_IDENTIFIER',\n\t'RECEIVE',\n\t'REMOTE SERVICE BINDING',\n\t'REMOTE_PROC_TRANSACTIONS',\n\t'RESOURCE GOVERNOR',\n\t'RESOURCE POOL',\n\t'RESTORE',\n\t'RESTORE FILELISTONLY',\n\t'RESTORE HEADERONLY',\n\t'RESTORE LABELONLY',\n\t'RESTORE MASTER KEY',\n\t'RESTORE REWINDONLY',\n\t'RESTORE SERVICE MASTER KEY',\n\t'RESTORE VERIFYONLY',\n\t'REVERT',\n\t'REVOKE',\n\t'REVOKE XML',\n\t'ROLE',\n\t'ROUTE',\n\t'ROWCOUNT',\n\t'RULE',\n\t'SCHEMA',\n\t'SEARCH PROPERTY LIST',\n\t'SECURITY POLICY',\n\t'SELECTIVE XML INDEX',\n\t'SEND',\n\t'SENSITIVITY CLASSIFICATION',\n\t'SEQUENCE',\n\t'SERVER AUDIT',\n\t'SERVER AUDIT SPECIFICATION',\n\t'SERVER CONFIGURATION',\n\t'SERVER ROLE',\n\t'SERVICE',\n\t'SERVICE MASTER KEY',\n\t'SET',\n\t'SETUSER',\n\t'SHOWPLAN_ALL',\n\t'SHOWPLAN_TEXT',\n\t'SHOWPLAN_XML',\n\t'SIGNATURE',\n\t'SPATIAL INDEX',\n\t'STATISTICS',\n\t'STATISTICS IO',\n\t'STATISTICS PROFILE',\n\t'STATISTICS TIME',\n\t'STATISTICS XML',\n\t'SYMMETRIC KEY',\n\t'SYNONYM',\n\t'TABLE',\n\t'TABLE IDENTITY',\n\t'TEXTSIZE',\n\t'TRANSACTION ISOLATION LEVEL',\n\t'TRIGGER',\n\t'TRUNCATE TABLE',\n\t'TYPE',\n\t'UPDATE',\n\t'UPDATE STATISTICS',\n\t'USER',\n\t'VIEW',\n\t'WORKLOAD GROUP',\n\t'XACT_ABORT',\n\t'XML INDEX',\n\t'XML SCHEMA COLLECTION',\n\t// other\n\t'ALTER COLUMN',\n\t'ALTER TABLE',\n\t'CREATE TABLE',\n\t'FROM',\n\t'GROUP BY',\n\t'HAVING',\n\t'INSERT INTO', // verify\n\t'DROP TABLE', // verify\n\t'SET SCHEMA', // verify\n\t'LIMIT',\n\t'OFFSET',\n\t'ORDER BY',\n\t'SELECT',\n\t'VALUES',\n\t'WHERE',\n\t'WITH',\n];\n\n/**\n * Priority 2\n * commands that operate on two tables or subqueries\n * two main categories: joins and boolean set operators\n */\nconst reservedBinaryCommands = [\n\t// set booleans\n\t'INTERSECT',\n\t'INTERSECT ALL',\n\t'INTERSECT DISTINCT',\n\t'UNION',\n\t'UNION ALL',\n\t'UNION DISTINCT',\n\t'EXCEPT',\n\t'EXCEPT ALL',\n\t'EXCEPT DISTINCT',\n\t'MINUS',\n\t'MINUS ALL',\n\t'MINUS DISTINCT',\n\t// joins\n\t'JOIN',\n\t'INNER JOIN',\n\t'LEFT JOIN',\n\t'LEFT OUTER JOIN',\n\t'RIGHT JOIN',\n\t'RIGHT OUTER JOIN',\n\t'FULL JOIN',\n\t'FULL OUTER JOIN',\n\t'CROSS JOIN',\n];\n\n/**\n * Priority 3\n * keywords that follow a previous Statement, must be attached to subsequent data\n * can be fully inline or on newline with optional indent\n */\nconst reservedDependentClauses = ['ON', 'WHEN', 'THEN', 'ELSE', 'LATERAL'];\n\n// https://docs.microsoft.com/en-us/sql/t-sql/language-reference?view=sql-server-ver15\nexport default class TSqlFormatter extends Formatter {\n\tstatic reservedCommands = reservedCommands;\n\tstatic reservedBinaryCommands = reservedBinaryCommands;\n\tstatic reservedDependentClauses = reservedDependentClauses;\n\tstatic reservedLogicalOperators = ['AND', 'OR'];\n\tstatic reservedKeywords = dedupe([\n\t\t...Object.values(reservedFunctions).reduce((acc, arr) => [...acc, ...arr], []),\n\t\t...Object.values(reservedKeywords).reduce((acc, arr) => [...acc, ...arr], []),\n\t]);\n\tstatic stringTypes: StringPatternType[] = [`\"\"`, \"N''\", \"''\", '[]', '``'];\n\tstatic blockStart = ['(', 'CASE'];\n\tstatic blockEnd = [')', 'END'];\n\tstatic indexedPlaceholderTypes = [];\n\tstatic namedPlaceholderTypes = ['@'];\n\tstatic lineCommentTypes = ['--'];\n\tstatic specialWordChars = { any: '#@' };\n\tstatic operators = ['!<', '!>', '+=', '-=', '*=', '/=', '%=', '|=', '&=', '^=', '::'];\n\n\ttokenizer() {\n\t\treturn new Tokenizer({\n\t\t\treservedCommands: TSqlFormatter.reservedCommands,\n\t\t\treservedBinaryCommands: TSqlFormatter.reservedBinaryCommands,\n\t\t\treservedDependentClauses: TSqlFormatter.reservedDependentClauses,\n\t\t\treservedLogicalOperators: TSqlFormatter.reservedLogicalOperators,\n\t\t\treservedKeywords: TSqlFormatter.reservedKeywords,\n\t\t\tstringTypes: TSqlFormatter.stringTypes,\n\t\t\tblockStart: TSqlFormatter.blockStart,\n\t\t\tblockEnd: TSqlFormatter.blockEnd,\n\t\t\tindexedPlaceholderTypes: TSqlFormatter.indexedPlaceholderTypes,\n\t\t\tnamedPlaceholderTypes: TSqlFormatter.namedPlaceholderTypes,\n\t\t\tlineCommentTypes: TSqlFormatter.lineCommentTypes,\n\t\t\tspecialWordChars: TSqlFormatter.specialWordChars,\n\t\t\toperators: TSqlFormatter.operators,\n\t\t\t// TODO: Support for money constants\n\t\t});\n\t}\n}\n","import type { ParamItems } from './core/Params';\nimport BigQueryFormatter from './languages/bigquery.formatter';\nimport Db2Formatter from './languages/db2.formatter';\nimport HiveFormatter from './languages/hive.formatter';\nimport MariaDbFormatter from './languages/mariadb.formatter';\nimport MySqlFormatter from './languages/mysql.formatter';\nimport N1qlFormatter from './languages/n1ql.formatter';\nimport PlSqlFormatter from './languages/plsql.formatter';\nimport PostgreSqlFormatter from './languages/postgresql.formatter';\nimport RedshiftFormatter from './languages/redshift.formatter';\nimport SparkSqlFormatter from './languages/sparksql.formatter';\nimport StandardSqlFormatter from './languages/standardsql.formatter';\nimport TSqlFormatter from './languages/tsql.formatter';\n\nimport { AliasMode, CommaPosition, KeywordMode, NewlineMode, ParenOptions } from './types';\n\nexport const formatters = {\n\tbigquery: BigQueryFormatter,\n\tdb2: Db2Formatter,\n\thive: HiveFormatter,\n\tmariadb: MariaDbFormatter,\n\tmysql: MySqlFormatter,\n\tn1ql: N1qlFormatter,\n\tplsql: PlSqlFormatter,\n\tpostgresql: PostgreSqlFormatter,\n\tredshift: RedshiftFormatter,\n\tspark: SparkSqlFormatter,\n\tsql: StandardSqlFormatter,\n\ttsql: TSqlFormatter,\n};\nexport type FormatterLanguage = keyof typeof formatters;\nexport const supportedDialects = Object.keys(formatters);\n\nexport interface FormatOptions {\n\tlanguage: FormatterLanguage;\n\tindent: string;\n\tuppercase: boolean;\n\tkeywordPosition: KeywordMode | keyof typeof KeywordMode;\n\tnewline: NewlineMode | keyof typeof NewlineMode | number;\n\tbreakBeforeBooleanOperator: boolean;\n\taliasAs: AliasMode | keyof typeof AliasMode;\n\ttabulateAlias: boolean;\n\tcommaPosition: CommaPosition | keyof typeof CommaPosition;\n\tparenOptions: ParenOptions;\n\tlineWidth: number;\n\tlinesBetweenQueries: number;\n\tdenseOperators: boolean;\n\tsemicolonNewline: boolean;\n\tparams?: ParamItems | string[];\n}\n/**\n * Format whitespace in a query to make it easier to read.\n *\n * @param {string} query - input SQL query string\n * @param {FormatOptions} cfg\n *  @param {string} cfg.language - Query language, default is Standard SQL\n *  @param {string} cfg.indent - Characters used for indentation, default is \"  \" (2 spaces)\n *  @param {Boolean} cfg.uppercase - Converts keywords to uppercase\n *  @param {KeywordMode} cfg.keywordPosition - Sets main keyword position style, see keywordPosition.md for examples\n *  @param {NewlineMode} cfg.newline - Determines when to break words onto a newline; always | never | lineWidth (break only when > line width) | number (break when > n)\n *  @param {Boolean} cfg.breakBeforeBooleanOperator - Break before boolean operator (AND, OR, XOR) ?\n *  @param {AliasMode} cfg.aliasAs - Whether to use AS in column aliases in only SELECT clause, both SELECT and table aliases, or never\n *  @param {Boolean} cfg.tabulateAlias - Whether to have alias following clause or aligned to right\n *  @param {CommaPosition} cfg.commaPosition - Where to place the comma in listed clauses\n *  @param {ParenOptions} cfg.parenOptions - Various options for parentheses\n *  \t@param {Boolean} cfg.parenOptions -.openParenNewline Whether to place opening parenthesis on same line or newline\n *  \t@param {Boolean} cfg.parenOptions -.closeParenNewline Whether to place closing parenthesis on same line or newline\n *  //\t@param {Boolean} cfg.parenOptions -.reservedFunctionParens Whether to use parenthesis for reserved functions such as COUNT\n *  //\t@param {Boolean} cfg.parenOptions -.functionParenSpace Whether to add space before reserved function parens\n *  @param {Integer} cfg.lineWidth - Number of characters in each line before breaking, default: 50\n *  @param {Integer} cfg.linesBetweenQueries - How many line breaks between queries\n *  @param {Boolean} cfg.denseOperators - whether to format operators with spaces\n *  @param {ParamItems} cfg.params - Collection of params for placeholder replacement\n *  @param {Boolean} cfg.semicolonNewline - Whether to place semicolon on newline\n * @return {string} formatted query\n */\nexport const format = (query: string, cfg: Partial<FormatOptions> = {}): string => {\n\tif (typeof query !== 'string') {\n\t\tthrow new Error('Invalid query argument. Expected string, instead got ' + typeof query);\n\t}\n\n\tif (cfg.language && !supportedDialects.includes(cfg.language)) {\n\t\tthrow Error(`Unsupported SQL dialect: ${cfg.language}`);\n\t}\n\n\tif (\n\t\tcfg.keywordPosition === KeywordMode.tenSpaceLeft ||\n\t\tcfg.keywordPosition === KeywordMode.tenSpaceRight\n\t) {\n\t\tcfg.indent = ' '.repeat(10);\n\t}\n\n\tif (cfg.newline && !Number.isNaN(+cfg.newline)) {\n\t\tif ((cfg.newline ?? 0) < 0) {\n\t\t\tthrow new Error('Error: newline must be a positive number.');\n\t\t}\n\t\tif (cfg.newline === 0) {\n\t\t\tcfg.newline = NewlineMode.always;\n\t\t}\n\t}\n\n\tif (cfg.lineWidth && cfg.lineWidth <= 0) {\n\t\tconsole.warn('Warning: cfg.linewidth was <=0, reset to default value');\n\t\tcfg.lineWidth = undefined;\n\t}\n\n\tconst defaultOptions: FormatOptions = {\n\t\tlanguage: 'sql',\n\t\tindent: '  ',\n\t\tuppercase: true,\n\t\tkeywordPosition: KeywordMode.standard,\n\t\tnewline: NewlineMode.always,\n\t\tbreakBeforeBooleanOperator: true,\n\t\taliasAs: AliasMode.select,\n\t\ttabulateAlias: false,\n\t\tcommaPosition: CommaPosition.after,\n\t\tparenOptions: {\n\t\t\topenParenNewline: true,\n\t\t\tcloseParenNewline: true,\n\t\t\t// reservedFunctionParens: true,\n\t\t\t// functionParenSpace: false,\n\t\t},\n\t\tlineWidth: 50,\n\t\tlinesBetweenQueries: 1,\n\t\tdenseOperators: false,\n\t\tsemicolonNewline: false,\n\t};\n\tcfg = {\n\t\t...defaultOptions,\n\t\t...cfg,\n\t\tparenOptions: { ...defaultOptions.parenOptions, ...cfg.parenOptions },\n\t};\n\n\tconst Formatter = formatters[cfg.language!];\n\treturn new Formatter(cfg as FormatOptions).format(query);\n};\n"],"names":["root","factory","exports","module","define","amd","self","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","dedupe","arr","Set","trimSpacesEnd","str","replace","escapeRegExp","string","sortByLengthDesc","strings","sort","a","b","length","localeCompare","maxLength","reduce","max","cur","Math","TokenType","INDENT_TYPE_TOP_LEVEL","Indentation","indent","this","indentTypes","repeat","push","pop","spaces","testToken","compareToken","token","type","RegExp","test","isToken","AS","RESERVED_KEYWORD","AND","RESERVED_LOGICAL_OPERATOR","BETWEEN","CASE","BLOCK_START","CAST","BY","END","BLOCK_END","FROM","RESERVED_COMMAND","LATERAL","RESERVED_DEPENDENT_CLAUSE","LIMIT","SELECT","SET","TABLE","WINDOW","WITH","isReserved","RESERVED_BINARY_COMMAND","InlineBlock","lineWidth","level","tokens","index","isInlineBlock","i","isForbiddenToken","BLOCK_COMMENT","KeywordMode","NewlineMode","AliasMode","CommaPosition","Params","params","Formatter","cfg","tenSpace","keywordPosition","tenSpaceLeft","tenSpaceRight","newline","currentNewline","indentation","inlineBlock","previousReservedToken","withinSelect","Error","query","tokenizer","tokenize","formattedQuery","getFormattedQueryFromTokens","postFormat","trimEnd","tabulateAlias","formatAliasPositions","commaPosition","after","formatCommaPositions","lines","split","newQuery","match","commaLines","tabular","map","commaLine","commaMaxLength","j","before","isTabs","includes","whitespaceRegex","WHITESPACE_REGEX","precedingWhitespace","trimStart","join","aliasLines","splitLines","line","slugs","precedingText","alias","undefined","as","aliasMaxLength","tokenOverride","tenSpacedToken","LINE_COMMENT","formatLineComment","formatBlockComment","checkNewline","formatCommand","formatBinaryCommand","formatDependentClause","formatLogicalOperator","formatKeyword","formatBlockStart","formatBlockEnd","PLACEHOLDER","formatPlaceholder","OPERATOR","formatOperator","formatWord","prevToken","tokenLookBehind","nextToken","tokenLookAhead","asToken","uppercase","missingTableAlias","aliasAs","always","WORD","missingSelectColumnAlias","never","NUMBER","isCommand","missingCastTypeAs","isEdgeCaseCTE","isEdgeCaseCreateTable","endsWith","finalQuery","formatWithSpaces","tail","slice","nextTokens","findIndex","some","numItems","acc","inParen","count","inlineWidth","whitespaceBefore","Number","isNaN","addNewline","show","indentComment","comment","getIndent","decreaseTopLevel","increaseTopLevel","equalizeWhitespace","isJoin","select","formatComma","formatQuerySeparator","denseOperators","formatWithoutSpaces","breakBeforeBooleanOperator","preserveWhitespaceFor","parenOptions","openParenNewline","beginIfPossible","isActive","increaseBlockLevel","end","decreaseBlockLevel","closeParenNewline","addSpace","resetIndentation","semicolonNewline","linesBetweenQueries","toUpperCase","toLowerCase","addBuffer","bufferLength","bufferItem","n","createReservedWordRegex","reservedKeywords","specialWordChars","reservedKeywordsPattern","patterns","createStringPattern","stringTypes","t","escapeParen","paren","createParenRegex","parens","createPlaceholderRegex","types","pattern","Array","isArray","typesRegex","NULL_REGEX","Tokenizer","matchToken","tokenType","input","getTokenOnFirstMatch","regex","REGEX_MAP","lineCommentTypes","polyadOperators","specialWordCharsAll","values","specialChars","prefixLookBehind","prefix","suffixLookAhead","suffix","unicodeWordChar","any","arrayAccessor","mapAccessor","STRING","reservedDependentClauses","reservedLogicalOperators","reservedCommands","reservedBinaryCommands","operators","blockStart","blockEnd","c","INDEXED_PLACEHOLDER_REGEX","indexedPlaceholderTypes","IDENT_NAMED_PLACEHOLDER_REGEX","namedPlaceholderTypes","STRING_NAMED_PLACEHOLDER_REGEX","getWhitespace","substring","getNextToken","matches","previousToken","getPlaceholderToken","getReservedWordToken","parseKey","v","getEscapedPlaceholderKey","quoteChar","matchedToken","BigQueryFormatter","fullReservedWords","finalToken","splice","aead","aggregateAnalytic","aggregate","approximateAggregate","array","bitwise","conversion","date","datetime","debugging","federatedQuery","geography","hash","hll","interval","json","math","navigation","net","numbering","security","statisticalAggregate","time","timestamp","uuid","conditional","legacyAggregate","legacyBitwise","legacyCasting","legacyComparison","legacyDatetime","legacyIp","legacyJson","legacyMath","legacyRegex","legacyString","legacyTableWildcard","legacyUrl","legacyWindow","legacyMisc","other","keywords","datatypes","stringFormat","misc","Db2Formatter","scalar","table","row","olap","standard","onlineUtilies","commands","HiveFormatter","masking","nonReserved","reserved","fileTypes","MariaDbFormatter","MySqlFormatter","N1qlFormatter","PlSqlFormatter","startsWith","PostgreSqlFormatter","binary","bitstring","datatype","enum","geometry","network","textsearch","xml","sequence","range","window","set","sysInfo","sysAdmin","trigger","eventTrigger","stats","RedshiftFormatter","dateTime","spatial","hyperLogLog","machineLearning","superType","dataType","dataConversionParams","dataLoadParams","dataFormatParams","copyAuthParams","copyCompressionParams","copyMiscParams","compressionEncodings","dataTypes","SparkSqlFormatter","StandardSqlFormatter","TSqlFormatter","analytic","configuration","cryptographic","cursor","mathematical","metadata","ranking","system","statistical","odbc","future","formatters","bigquery","db2","hive","mariadb","mysql","n1ql","plsql","postgresql","redshift","spark","sql","tsql","supportedDialects","keys","format","language","console","warn","defaultOptions"],"sourceRoot":""}